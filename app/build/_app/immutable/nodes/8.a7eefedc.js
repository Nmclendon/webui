import{s as ol,f as d,l as O,a as D,g as h,h as v,m as P,d as u,c as V,R as at,j as o,i as L,r,u as te,O as El,n as N,C as ct,v as At,w as Ut,P as fl,o as dl,p as St,Q as X,T as Kt,U as ht,W as Ot,X as zt,K as Ct,z as mt,A as bt,t as Js,e as Lt,V as Bs,_ as il,k as kl}from"../chunks/scheduler.8ceb707f.js";import{S as ul,i as cl,a as re,g as kt,t as ve,c as Et,f as Pt,b as et,d as tt,m as lt,e as st}from"../chunks/index.07e72a31.js";import{a as Ie}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as Rn}from"../chunks/FileSaver.min.898eb36f.js";import{d as Bn,a as jn}from"../chunks/index.5b5097e5.js";import{c as Rl,h as el,u as ta,x as Zn,M as as,w as Gn}from"../chunks/index.de68b371.js";import{z as zn,A as Kn,B as qn}from"../chunks/index.31423eb8.js";import{d as Wn,u as Yn,e as Fn,f as $n,g as hs,h as Qn,i as Xn,b as rs,j as Jn,k as xn,l as ei,m as ti,n as li,o as si,p as ai,q as ri}from"../chunks/index.c405526f.js";import{f as ni,h as ii}from"../chunks/index.ff31356f.js";import{S as Al}from"../chunks/Switch.8a79adb4.js";import{e as nt}from"../chunks/each.0e379b97.js";import{s as oi,S as hl,g as ui,a as ci,b as fi}from"../chunks/SensitiveInput.3814abd7.js";import{S as ns}from"../chunks/Spinner.73030589.js";import{g as di,u as hi}from"../chunks/index.e20bf255.js";import{T as ql}from"../chunks/create.4fbceb05.js";import{g as _i,a as Xs,b as vi,c as pi,d as gi,e as mi,f as bi,u as Za,h as ki,i as Ei,j as wi,k as yi,l as Ii}from"../chunks/index.e92b7b81.js";import{v as Ti,s as ds}from"../chunks/index.a303954b.js";import{a as Pn,b as Ln,g as xs,p as Ga,d as za,c as Ka,u as Di,e as Vi,f as qa,h as Wa}from"../chunks/index.ba268a08.js";import{C as ea}from"../chunks/ConfirmDialog.beed6fd0.js";import{g as Si,a as Ai,b as Ya,c as Mi,u as Fa,d as $a,e as Oi}from"../chunks/index.09416361.js";import{g as Pi}from"../chunks/index.e68fa13d.js";import{g as Li,a as Nn,s as Ni,u as Ui,b as Un,c as Qa,d as Ci,e as Hi,f as Ri,r as Bi,h as ji}from"../chunks/index.435b937c.js";function Xa(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,n,f=s[1].t("Download Database")+"",c,_,b,p,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,E,w=s[1].t("Export All Chats (All Users)")+"",y,k,I;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,i=D(),n=d("div"),c=O(f),_=D(),b=d("button"),p=d("div"),p.innerHTML=g,m=D(),E=d("div"),y=O(w),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=v(e);t=h(S,"BUTTON",{class:!0,type:!0});var A=v(t);l=h(A,"DIV",{class:!0,"data-svelte-h":!0}),at(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),i=V(A),n=h(A,"DIV",{class:!0});var H=v(n);c=P(H,f),H.forEach(u),A.forEach(u),S.forEach(u),_=V(T),b=h(T,"BUTTON",{class:!0});var M=v(b);p=h(M,"DIV",{class:!0,"data-svelte-h":!0}),at(p)!=="svelte-1l0oz0g"&&(p.innerHTML=g),m=V(M),E=h(M,"DIV",{class:!0});var G=v(E);y=P(G,w),G.forEach(u),M.forEach(u),this.h()},h(){o(l,"class","self-center mr-3"),o(n,"class","self-center text-sm font-medium"),o(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(t,"type","button"),o(e,"class","flex w-full justify-between"),o(p,"class","self-center mr-3"),o(E,"class","self-center text-sm font-medium"),o(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,S){L(T,e,S),r(e,t),r(t,l),r(t,i),r(t,n),r(n,c),L(T,_,S),L(T,b,S),r(b,p),r(b,m),r(b,E),r(E,y),k||(I=[te(t,"click",s[5]),te(b,"click",s[6])],k=!0)},p(T,S){S&2&&f!==(f=T[1].t("Download Database")+"")&&N(c,f),S&2&&w!==(w=T[1].t("Export All Chats (All Users)")+"")&&N(y,w)},d(T){T&&(u(e),u(_),u(b)),k=!1,At(I)}}}function Zi(s){var H;let e,t,l,a,i=s[1].t("Database")+"",n,f,c,_,b,p,g,m,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',w,y,k=s[1].t("Export LiteLLM config.yaml")+"",I,T,S,A=(((H=s[2])==null?void 0:H.features.enable_admin_export)??!0)&&Xa(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),n=O(i),f=D(),A&&A.c(),c=D(),_=d("hr"),b=D(),p=d("div"),g=d("button"),m=d("div"),m.innerHTML=E,w=D(),y=d("div"),I=O(k),this.h()},l(M){e=h(M,"FORM",{class:!0});var G=v(e);t=h(G,"DIV",{class:!0});var Q=v(t);l=h(Q,"DIV",{});var R=v(l);a=h(R,"DIV",{class:!0});var F=v(a);n=P(F,i),F.forEach(u),f=V(R),A&&A.l(R),c=V(R),_=h(R,"HR",{class:!0}),b=V(R),p=h(R,"DIV",{class:!0});var C=v(p);g=h(C,"BUTTON",{class:!0,type:!0});var K=v(g);m=h(K,"DIV",{class:!0,"data-svelte-h":!0}),at(m)!=="svelte-fw6871"&&(m.innerHTML=E),w=V(K),y=h(K,"DIV",{class:!0});var z=v(y);I=P(z,k),z.forEach(u),K.forEach(u),C.forEach(u),R.forEach(u),Q.forEach(u),G.forEach(u),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(_,"class","dark:border-gray-850 my-1"),o(m,"class","self-center mr-3"),o(y,"class","self-center text-sm font-medium"),o(g,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(g,"type","button"),o(p,"class","flex w-full justify-between"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(M,G){L(M,e,G),r(e,t),r(t,l),r(l,a),r(a,n),r(l,f),A&&A.m(l,null),r(l,c),r(l,_),r(l,b),r(l,p),r(p,g),r(g,m),r(g,w),r(g,y),r(y,I),T||(S=[te(g,"click",s[7]),te(e,"submit",El(s[8]))],T=!0)},p(M,[G]){var Q;G&2&&i!==(i=M[1].t("Database")+"")&&N(n,i),((Q=M[2])==null?void 0:Q.features.enable_admin_export)??!0?A?A.p(M,G):(A=Xa(M),A.c(),A.m(l,c)):A&&(A.d(1),A=null),G&2&&k!==(k=M[1].t("Export LiteLLM config.yaml")+"")&&N(I,k)},i:ct,o:ct,d(M){M&&u(e),A&&A.d(),T=!1,At(S)}}}function Gi(s,e,t){let l,a;Ut(s,Rl,m=>t(2,a=m));const{saveAs:i}=Rn,n=fl("i18n");Ut(s,n,m=>t(1,l=m));let{saveHandler:f}=e;const c=async()=>{let m=new Blob([JSON.stringify(await zn(localStorage.token))],{type:"application/json"});i(m,`all-chats-export-${Date.now()}.json`)};dl(async()=>{});const _=()=>{Bn(localStorage.token).catch(m=>{Ie.error(m)})},b=()=>{c()},p=()=>{jn(localStorage.token).catch(m=>{Ie.error(m)})},g=async()=>{f()};return s.$$set=m=>{"saveHandler"in m&&t(0,f=m.saveHandler)},[f,l,a,n,c,_,b,p,g]}class zi extends ul{constructor(e){super(),cl(this,e,Gi,Zi,ol,{saveHandler:0})}}function Ja(s){let e,t,l=s[3].t("General Settings")+"",a,i,n,f,c=s[3].t("Enable New Sign Ups")+"",_,b,p,g,m,E,w,y=s[3].t("Default User Role")+"",k,I,T,S,A,H=s[3].t("pending")+"",M,G,Q=s[3].t("user")+"",R,F,C=s[3].t("admin")+"",K,z,j,B,W,Z,Y=s[3].t("Show Admin Details in Account Pending Overlay")+"",q,U,ue,he,J,ee,Ee,Ve=s[3].t("Enable Community Sharing")+"",Pe,Ce,ye,Ne,je,Le,Be,Se,We,Te,qe=s[3].t("JWT Expiration")+"",ke,He,pe,fe,Ae,se,ne=s[3].t("Valid time units:")+"",ae,$,x,ge=s[3].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",be,De,we,de,oe,Me,ze,Ue=s[3].t("Webhook URL")+"",Ye,Je,Fe,it,Ze,xe,Oe;function rt(ce){s[6](ce)}let $e={};s[1].ENABLE_SIGNUP!==void 0&&($e.state=s[1].ENABLE_SIGNUP),p=new Al({props:$e}),St.push(()=>Pt(p,"state",rt));function ft(ce){s[8](ce)}let Re={};s[1].SHOW_ADMIN_DETAILS!==void 0&&(Re.state=s[1].SHOW_ADMIN_DETAILS),ue=new Al({props:Re}),St.push(()=>Pt(ue,"state",ft));function _e(ce){s[9](ce)}let ie={};return s[1].ENABLE_COMMUNITY_SHARING!==void 0&&(ie.state=s[1].ENABLE_COMMUNITY_SHARING),ye=new Al({props:ie}),St.push(()=>Pt(ye,"state",_e)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),_=O(c),b=D(),et(p.$$.fragment),m=D(),E=d("div"),w=d("div"),k=O(y),I=D(),T=d("div"),S=d("select"),A=d("option"),M=O(H),G=d("option"),R=O(Q),F=d("option"),K=O(C),z=D(),j=d("hr"),B=D(),W=d("div"),Z=d("div"),q=O(Y),U=D(),et(ue.$$.fragment),J=D(),ee=d("div"),Ee=d("div"),Pe=O(Ve),Ce=D(),et(ye.$$.fragment),je=D(),Le=d("hr"),Be=D(),Se=d("div"),We=d("div"),Te=d("div"),ke=O(qe),He=D(),pe=d("div"),fe=d("input"),Ae=D(),se=d("div"),ae=O(ne),$=D(),x=d("span"),be=O(ge),De=D(),we=d("hr"),de=D(),oe=d("div"),Me=d("div"),ze=d("div"),Ye=O(Ue),Je=D(),Fe=d("div"),it=d("input"),this.h()},l(ce){e=h(ce,"DIV",{});var le=v(e);t=h(le,"DIV",{class:!0});var Xe=v(t);a=P(Xe,l),Xe.forEach(u),i=V(le),n=h(le,"DIV",{class:!0});var vt=v(n);f=h(vt,"DIV",{class:!0});var _t=v(f);_=P(_t,c),_t.forEach(u),b=V(vt),tt(p.$$.fragment,vt),vt.forEach(u),m=V(le),E=h(le,"DIV",{class:!0});var Dt=v(E);w=h(Dt,"DIV",{class:!0});var Vt=v(w);k=P(Vt,y),Vt.forEach(u),I=V(Dt),T=h(Dt,"DIV",{class:!0});var Ht=v(T);S=h(Ht,"SELECT",{class:!0,placeholder:!0});var qt=v(S);A=h(qt,"OPTION",{});var Mt=v(A);M=P(Mt,H),Mt.forEach(u),G=h(qt,"OPTION",{});var It=v(G);R=P(It,Q),It.forEach(u),F=h(qt,"OPTION",{});var Rt=v(F);K=P(Rt,C),Rt.forEach(u),qt.forEach(u),Ht.forEach(u),Dt.forEach(u),z=V(le),j=h(le,"HR",{class:!0}),B=V(le),W=h(le,"DIV",{class:!0});var Nt=v(W);Z=h(Nt,"DIV",{class:!0});var Bt=v(Z);q=P(Bt,Y),Bt.forEach(u),U=V(Nt),tt(ue.$$.fragment,Nt),Nt.forEach(u),J=V(le),ee=h(le,"DIV",{class:!0});var Wt=v(ee);Ee=h(Wt,"DIV",{class:!0});var wt=v(Ee);Pe=P(wt,Ve),wt.forEach(u),Ce=V(Wt),tt(ye.$$.fragment,Wt),Wt.forEach(u),je=V(le),Le=h(le,"HR",{class:!0}),Be=V(le),Se=h(le,"DIV",{class:!0});var ot=v(Se);We=h(ot,"DIV",{class:!0});var pt=v(We);Te=h(pt,"DIV",{class:!0});var ut=v(Te);ke=P(ut,qe),ut.forEach(u),pt.forEach(u),He=V(ot),pe=h(ot,"DIV",{class:!0});var Ft=v(pe);fe=h(Ft,"INPUT",{class:!0,type:!0,placeholder:!0}),Ft.forEach(u),Ae=V(ot),se=h(ot,"DIV",{class:!0});var jt=v(se);ae=P(jt,ne),$=V(jt),x=h(jt,"SPAN",{class:!0});var Zt=v(x);be=P(Zt,ge),Zt.forEach(u),jt.forEach(u),ot.forEach(u),De=V(le),we=h(le,"HR",{class:!0}),de=V(le),oe=h(le,"DIV",{class:!0});var Tt=v(oe);Me=h(Tt,"DIV",{class:!0});var Yt=v(Me);ze=h(Yt,"DIV",{class:!0});var Ge=v(ze);Ye=P(Ge,Ue),Ge.forEach(u),Yt.forEach(u),Je=V(Tt),Fe=h(Tt,"DIV",{class:!0});var Qe=v(Fe);it=h(Qe,"INPUT",{class:!0,type:!0,placeholder:!0}),Qe.forEach(u),Tt.forEach(u),le.forEach(u),this.h()},h(){o(t,"class","mb-3 text-sm font-medium"),o(f,"class","self-center text-xs font-medium"),o(n,"class","flex w-full justify-between pr-2"),o(w,"class","self-center text-xs font-medium"),A.__value="pending",X(A,A.__value),G.__value="user",X(G,G.__value),F.__value="admin",X(F,F.__value),o(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),o(S,"placeholder","Select a role"),s[1].DEFAULT_USER_ROLE===void 0&&Kt(()=>s[7].call(S)),o(T,"class","flex items-center relative"),o(E,"class","my-3 flex w-full justify-between"),o(j,"class","dark:border-gray-850 my-2"),o(Z,"class","self-center text-xs font-medium"),o(W,"class","my-3 flex w-full items-center justify-between pr-2"),o(Ee,"class","self-center text-xs font-medium"),o(ee,"class","my-3 flex w-full items-center justify-between pr-2"),o(Le,"class","dark:border-gray-850 my-2"),o(Te,"class","self-center text-xs font-medium"),o(We,"class","flex w-full justify-between"),o(fe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(fe,"type","text"),o(fe,"placeholder",'e.g.) "30m","1h", "10d". '),o(pe,"class","flex mt-2 space-x-2"),o(x,"class","text-gray-300 font-medium"),o(se,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(Se,"class","w-full justify-between"),o(we,"class","dark:border-gray-850 my-2"),o(ze,"class","self-center text-xs font-medium"),o(Me,"class","flex w-full justify-between"),o(it,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(it,"type","text"),o(it,"placeholder","https://example.com/webhook"),o(Fe,"class","flex mt-2 space-x-2"),o(oe,"class","w-full justify-between")},m(ce,le){L(ce,e,le),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,_),r(n,b),lt(p,n,null),r(e,m),r(e,E),r(E,w),r(w,k),r(E,I),r(E,T),r(T,S),r(S,A),r(A,M),r(S,G),r(G,R),r(S,F),r(F,K),ht(S,s[1].DEFAULT_USER_ROLE,!0),r(e,z),r(e,j),r(e,B),r(e,W),r(W,Z),r(Z,q),r(W,U),lt(ue,W,null),r(e,J),r(e,ee),r(ee,Ee),r(Ee,Pe),r(ee,Ce),lt(ye,ee,null),r(e,je),r(e,Le),r(e,Be),r(e,Se),r(Se,We),r(We,Te),r(Te,ke),r(Se,He),r(Se,pe),r(pe,fe),X(fe,s[1].JWT_EXPIRES_IN),r(Se,Ae),r(Se,se),r(se,ae),r(se,$),r(se,x),r(x,be),r(e,De),r(e,we),r(e,de),r(e,oe),r(oe,Me),r(Me,ze),r(ze,Ye),r(oe,Je),r(oe,Fe),r(Fe,it),X(it,s[2]),Ze=!0,xe||(Oe=[te(S,"change",s[7]),te(fe,"input",s[10]),te(it,"input",s[11])],xe=!0)},p(ce,le){(!Ze||le&8)&&l!==(l=ce[3].t("General Settings")+"")&&N(a,l),(!Ze||le&8)&&c!==(c=ce[3].t("Enable New Sign Ups")+"")&&N(_,c);const Xe={};!g&&le&2&&(g=!0,Xe.state=ce[1].ENABLE_SIGNUP,Ot(()=>g=!1)),p.$set(Xe),(!Ze||le&8)&&y!==(y=ce[3].t("Default User Role")+"")&&N(k,y),(!Ze||le&8)&&H!==(H=ce[3].t("pending")+"")&&N(M,H),(!Ze||le&8)&&Q!==(Q=ce[3].t("user")+"")&&N(R,Q),(!Ze||le&8)&&C!==(C=ce[3].t("admin")+"")&&N(K,C),le&2&&ht(S,ce[1].DEFAULT_USER_ROLE),(!Ze||le&8)&&Y!==(Y=ce[3].t("Show Admin Details in Account Pending Overlay")+"")&&N(q,Y);const vt={};!he&&le&2&&(he=!0,vt.state=ce[1].SHOW_ADMIN_DETAILS,Ot(()=>he=!1)),ue.$set(vt),(!Ze||le&8)&&Ve!==(Ve=ce[3].t("Enable Community Sharing")+"")&&N(Pe,Ve);const _t={};!Ne&&le&2&&(Ne=!0,_t.state=ce[1].ENABLE_COMMUNITY_SHARING,Ot(()=>Ne=!1)),ye.$set(_t),(!Ze||le&8)&&qe!==(qe=ce[3].t("JWT Expiration")+"")&&N(ke,qe),le&2&&fe.value!==ce[1].JWT_EXPIRES_IN&&X(fe,ce[1].JWT_EXPIRES_IN),(!Ze||le&8)&&ne!==(ne=ce[3].t("Valid time units:")+"")&&N(ae,ne),(!Ze||le&8)&&ge!==(ge=ce[3].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&N(be,ge),(!Ze||le&8)&&Ue!==(Ue=ce[3].t("Webhook URL")+"")&&N(Ye,Ue),le&4&&it.value!==ce[2]&&X(it,ce[2])},i(ce){Ze||(re(p.$$.fragment,ce),re(ue.$$.fragment,ce),re(ye.$$.fragment,ce),Ze=!0)},o(ce){ve(p.$$.fragment,ce),ve(ue.$$.fragment,ce),ve(ye.$$.fragment,ce),Ze=!1},d(ce){ce&&u(e),st(p),st(ue),st(ye),xe=!1,At(Oe)}}}function Ki(s){let e,t,l,a,i,n=s[3].t("Save")+"",f,c,_,b,p=s[1]!==null&&Ja(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),i=d("button"),f=O(n),this.h()},l(g){e=h(g,"FORM",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);p&&p.l(E),E.forEach(u),l=V(m),a=h(m,"DIV",{class:!0});var w=v(a);i=h(w,"BUTTON",{class:!0,type:!0});var y=v(i);f=P(y,n),y.forEach(u),w.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,m){L(g,e,m),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,i),r(i,f),c=!0,_||(b=te(e,"submit",El(s[12])),_=!0)},p(g,[m]){g[1]!==null?p?(p.p(g,m),m&2&&re(p,1)):(p=Ja(g),p.c(),re(p,1),p.m(t,null)):p&&(kt(),ve(p,1,1,()=>{p=null}),Et()),(!c||m&8)&&n!==(n=g[3].t("Save")+"")&&N(f,n)},i(g){c||(re(p),c=!0)},o(g){ve(p),c=!1},d(g){g&&u(e),p&&p.d(),_=!1,b()}}}function qi(s,e,t){let l;const a=fl("i18n");Ut(s,a,y=>t(3,l=y));let{saveHandler:i}=e,n=null,f="";const c=async()=>{t(2,f=await Yn(localStorage.token,f)),await ii(localStorage.token,n)?toast.success(a.t("Settings updated successfully")):toast.error(a.t("Failed to update settings"))};dl(async()=>{await Promise.all([(async()=>{t(1,n=await ni(localStorage.token))})(),(async()=>{t(2,f=await Wn(localStorage.token))})()])});function _(y){s.$$.not_equal(n.ENABLE_SIGNUP,y)&&(n.ENABLE_SIGNUP=y,t(1,n))}function b(){n.DEFAULT_USER_ROLE=zt(this),t(1,n)}function p(y){s.$$.not_equal(n.SHOW_ADMIN_DETAILS,y)&&(n.SHOW_ADMIN_DETAILS=y,t(1,n))}function g(y){s.$$.not_equal(n.ENABLE_COMMUNITY_SHARING,y)&&(n.ENABLE_COMMUNITY_SHARING=y,t(1,n))}function m(){n.JWT_EXPIRES_IN=this.value,t(1,n)}function E(){f=this.value,t(2,f)}const w=()=>{c(),i()};return s.$$set=y=>{"saveHandler"in y&&t(0,i=y.saveHandler)},[i,n,f,l,a,c,_,b,p,g,m,E,w]}class Wi extends ul{constructor(e){super(),cl(this,e,qi,Ki,ol,{saveHandler:0})}}function xa(s,e,t){const l=s.slice();return l[16]=e[t],l[17]=e,l[18]=t,l}function er(s,e,t){const l=s.slice();return l[19]=e[t],l}function tr(s,e,t){const l=s.slice();return l[19]=e[t],l}function Yi(s){let e,t,l,a,i=s[5].t("Don't Allow")+"",n;return{c(){e=mt("svg"),t=mt("path"),l=D(),a=d("span"),n=O(i),this.h()},l(f){e=bt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=v(e);t=bt(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),c.forEach(u),l=V(f),a=h(f,"SPAN",{class:!0});var _=v(a);n=P(_,i),_.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(a,"class","ml-2 self-center")},m(f,c){L(f,e,c),r(e,t),L(f,l,c),L(f,a,c),r(a,n)},p(f,c){c&32&&i!==(i=f[5].t("Don't Allow")+"")&&N(n,i)},d(f){f&&(u(e),u(l),u(a))}}}function Fi(s){let e,t,l,a,i=s[5].t("Allow")+"",n;return{c(){e=mt("svg"),t=mt("path"),l=D(),a=d("span"),n=O(i),this.h()},l(f){e=bt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=v(e);t=bt(c,"path",{d:!0}),v(t).forEach(u),c.forEach(u),l=V(f),a=h(f,"SPAN",{class:!0});var _=v(a);n=P(_,i),_.forEach(u),this.h()},h(){o(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(a,"class","ml-2 self-center")},m(f,c){L(f,e,c),r(e,t),L(f,l,c),L(f,a,c),r(a,n)},p(f,c){c&32&&i!==(i=f[5].t("Allow")+"")&&N(n,i)},d(f){f&&(u(e),u(l),u(a))}}}function lr(s){let e,t=s[19].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[19].id,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n&64&&t!==(t=i[19].name+"")&&N(l,t),n&64&&a!==(a=i[19].id)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function sr(s){let e,t,l,a,i,n=s[3].length+"",f,c,_=s[5].t("Model(s) Whitelisted")+"",b,p=nt(s[3]),g=[];for(let m=0;m<p.length;m+=1)g[m]=rr(xa(s,p,m));return{c(){e=d("div"),t=d("div");for(let m=0;m<g.length;m+=1)g[m].c();l=D(),a=d("div"),i=d("div"),f=O(n),c=D(),b=O(_),this.h()},l(m){e=h(m,"DIV",{});var E=v(e);t=h(E,"DIV",{class:!0});var w=v(t);for(let I=0;I<g.length;I+=1)g[I].l(w);w.forEach(u),l=V(E),a=h(E,"DIV",{class:!0});var y=v(a);i=h(y,"DIV",{class:!0});var k=v(i);f=P(k,n),c=V(k),b=P(k,_),k.forEach(u),y.forEach(u),E.forEach(u),this.h()},h(){o(t,"class","space-y-1.5"),o(i,"class","text-xs font-medium"),o(a,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(m,E){L(m,e,E),r(e,t);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(t,null);r(e,l),r(e,a),r(a,i),r(i,f),r(i,c),r(i,b)},p(m,E){if(E&104){p=nt(m[3]);let w;for(w=0;w<p.length;w+=1){const y=xa(m,p,w);g[w]?g[w].p(y,E):(g[w]=rr(y),g[w].c(),g[w].m(t,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=p.length}E&8&&n!==(n=m[3].length+"")&&N(f,n),E&32&&_!==(_=m[5].t("Model(s) Whitelisted")+"")&&N(b,_)},d(m){m&&u(e),Ct(g,m)}}}function ar(s){let e,t=s[19].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[19].id,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n&64&&t!==(t=i[19].name+"")&&N(l,t),n&64&&a!==(a=i[19].id)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function $i(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function i(){return s[13](s[18])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),o(e,"type","button")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function Qi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),o(e,"type","button")},m(i,n){L(i,e,n),l||(a=te(e,"click",s[12]),l=!0)},p:ct,d(i){i&&u(e),l=!1,a()}}}function rr(s){let e,t,l,a,i=s[5].t("Select a model")+"",n,f,c,_,b,p=nt(s[6].filter(ir)),g=[];for(let k=0;k<p.length;k+=1)g[k]=ar(er(s,p,k));function m(){s[11].call(l,s[17],s[18])}function E(k,I){return k[18]===0?Qi:$i}let y=E(s)(s);return{c(){e=d("div"),t=d("div"),l=d("select"),a=d("option"),n=O(i);for(let k=0;k<g.length;k+=1)g[k].c();f=D(),y.c(),c=D(),this.h()},l(k){e=h(k,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var S=v(l);a=h(S,"OPTION",{});var A=v(a);n=P(A,i),A.forEach(u);for(let H=0;H<g.length;H+=1)g[H].l(S);S.forEach(u),T.forEach(u),f=V(I),y.l(I),c=V(I),I.forEach(u),this.h()},h(){a.__value="",X(a,a.__value),a.disabled=!0,a.selected=!0,o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select a model"),s[16]===void 0&&Kt(m),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(k,I){L(k,e,I),r(e,t),r(t,l),r(l,a),r(a,n);for(let T=0;T<g.length;T+=1)g[T]&&g[T].m(l,null);ht(l,s[16],!0),r(e,f),y.m(e,null),r(e,c),_||(b=te(l,"change",m),_=!0)},p(k,I){if(s=k,I&32&&i!==(i=s[5].t("Select a model")+"")&&N(n,i),I&64){p=nt(s[6].filter(ir));let T;for(T=0;T<p.length;T+=1){const S=er(s,p,T);g[T]?g[T].p(S,I):(g[T]=ar(S),g[T].c(),g[T].m(l,null))}for(;T<g.length;T+=1)g[T].d(1);g.length=p.length}I&72&&ht(l,s[16]),y.p(s,I)},d(k){k&&u(e),Ct(g,k),y.d(),_=!1,b()}}}function Xi(s){let e,t,l,a,i=s[5].t("User Permissions")+"",n,f,c,_,b=s[5].t("Allow Chat Deletion")+"",p,g,m,E,w,y,k,I,T,S,A,H=s[5].t("Manage Models")+"",M,G,Q,R,F,C,K=s[5].t("Default Model")+"",z,j,B,W,Z,Y=s[5].t("Select a model")+"",q,U,ue,he,J,ee,Ee=s[5].t("Model Whitelisting")+"",Ve,Pe,Ce,ye,Ne,je,Le,Be,Se=s[5].t("Save")+"",We,Te,qe,ke;function He(x,ge){var be,De;return((De=(be=x[4])==null?void 0:be.chat)==null?void 0:De.deletion)??!0?Fi:Yi}let pe=He(s),fe=pe(s),Ae=nt(s[6].filter(nr)),se=[];for(let x=0;x<Ae.length;x+=1)se[x]=lr(tr(s,Ae,x));function ne(x){s[10](x)}let ae={};s[2]!==void 0&&(ae.state=s[2]),Ce=new Al({props:ae}),St.push(()=>Pt(Ce,"state",ne));let $=s[2]&&sr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),n=O(i),f=D(),c=d("div"),_=d("div"),p=O(b),g=D(),m=d("button"),fe.c(),E=D(),w=d("hr"),y=D(),k=d("div"),I=d("div"),T=d("div"),S=d("div"),A=d("div"),M=O(H),G=D(),Q=d("div"),R=d("div"),F=d("div"),C=d("div"),z=O(K),j=D(),B=d("div"),W=d("select"),Z=d("option"),q=O(Y);for(let x=0;x<se.length;x+=1)se[x].c();U=D(),ue=d("div"),he=d("div"),J=d("div"),ee=d("div"),Ve=O(Ee),Pe=D(),et(Ce.$$.fragment),Ne=D(),$&&$.c(),je=D(),Le=d("div"),Be=d("button"),We=O(Se),this.h()},l(x){e=h(x,"FORM",{class:!0});var ge=v(e);t=h(ge,"DIV",{class:!0});var be=v(t);l=h(be,"DIV",{});var De=v(l);a=h(De,"DIV",{class:!0});var we=v(a);n=P(we,i),we.forEach(u),f=V(De),c=h(De,"DIV",{class:!0});var de=v(c);_=h(de,"DIV",{class:!0});var oe=v(_);p=P(oe,b),oe.forEach(u),g=V(de),m=h(de,"BUTTON",{class:!0,type:!0});var Me=v(m);fe.l(Me),Me.forEach(u),de.forEach(u),De.forEach(u),E=V(be),w=h(be,"HR",{class:!0}),y=V(be),k=h(be,"DIV",{class:!0});var ze=v(k);I=h(ze,"DIV",{});var Ue=v(I);T=h(Ue,"DIV",{class:!0});var Ye=v(T);S=h(Ye,"DIV",{class:!0});var Je=v(S);A=h(Je,"DIV",{class:!0});var Fe=v(A);M=P(Fe,H),Fe.forEach(u),Je.forEach(u),Ye.forEach(u),G=V(Ue),Q=h(Ue,"DIV",{class:!0});var it=v(Q);R=h(it,"DIV",{class:!0});var Ze=v(R);F=h(Ze,"DIV",{class:!0});var xe=v(F);C=h(xe,"DIV",{class:!0});var Oe=v(C);z=P(Oe,K),Oe.forEach(u),xe.forEach(u),Ze.forEach(u),j=V(it),B=h(it,"DIV",{class:!0});var rt=v(B);W=h(rt,"SELECT",{class:!0,placeholder:!0});var $e=v(W);Z=h($e,"OPTION",{});var ft=v(Z);q=P(ft,Y),ft.forEach(u);for(let vt=0;vt<se.length;vt+=1)se[vt].l($e);$e.forEach(u),rt.forEach(u),it.forEach(u),U=V(Ue),ue=h(Ue,"DIV",{class:!0});var Re=v(ue);he=h(Re,"DIV",{class:!0});var _e=v(he);J=h(_e,"DIV",{class:!0});var ie=v(J);ee=h(ie,"DIV",{class:!0});var ce=v(ee);Ve=P(ce,Ee),ce.forEach(u),Pe=V(ie),tt(Ce.$$.fragment,ie),ie.forEach(u),_e.forEach(u),Ne=V(Re),$&&$.l(Re),Re.forEach(u),Ue.forEach(u),ze.forEach(u),be.forEach(u),je=V(ge),Le=h(ge,"DIV",{class:!0});var le=v(Le);Be=h(le,"BUTTON",{class:!0,type:!0});var Xe=v(Be);We=P(Xe,Se),Xe.forEach(u),le.forEach(u),ge.forEach(u),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),o(m,"class","p-1 px-3 text-xs flex rounded transition"),o(m,"type","button"),o(c,"class","flex w-full justify-between"),o(w,"class","dark:border-gray-850 my-2"),o(A,"class","text-sm font-medium"),o(S,"class","flex justify-between items-center text-xs"),o(T,"class","mb-2"),o(C,"class","text-xs font-medium"),o(F,"class","flex justify-between items-center text-xs"),o(R,"class","mb-2"),Z.__value="",X(Z,Z.__value),Z.disabled=!0,Z.selected=!0,o(W,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(W,"placeholder","Select a model"),s[1]===void 0&&Kt(()=>s[9].call(W)),o(B,"class","flex-1 mr-2"),o(Q,"class","space-y-1 mb-3"),o(ee,"class","text-xs font-medium"),o(J,"class","flex justify-between items-center text-xs"),o(he,"class","mb-2"),o(ue,"class","space-y-1"),o(k,"class","mt-2 space-y-3"),o(t,"class","space-y-3 overflow-y-scroll max-h-full"),o(Be,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Be,"type","submit"),o(Le,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(x,ge){L(x,e,ge),r(e,t),r(t,l),r(l,a),r(a,n),r(l,f),r(l,c),r(c,_),r(_,p),r(c,g),r(c,m),fe.m(m,null),r(t,E),r(t,w),r(t,y),r(t,k),r(k,I),r(I,T),r(T,S),r(S,A),r(A,M),r(I,G),r(I,Q),r(Q,R),r(R,F),r(F,C),r(C,z),r(Q,j),r(Q,B),r(B,W),r(W,Z),r(Z,q);for(let be=0;be<se.length;be+=1)se[be]&&se[be].m(W,null);ht(W,s[1],!0),r(I,U),r(I,ue),r(ue,he),r(he,J),r(J,ee),r(ee,Ve),r(J,Pe),lt(Ce,J,null),r(ue,Ne),$&&$.m(ue,null),r(e,je),r(e,Le),r(Le,Be),r(Be,We),Te=!0,qe||(ke=[te(m,"click",s[8]),te(W,"change",s[9]),te(e,"submit",El(s[14]))],qe=!0)},p(x,[ge]){if((!Te||ge&32)&&i!==(i=x[5].t("User Permissions")+"")&&N(n,i),(!Te||ge&32)&&b!==(b=x[5].t("Allow Chat Deletion")+"")&&N(p,b),pe===(pe=He(x))&&fe?fe.p(x,ge):(fe.d(1),fe=pe(x),fe&&(fe.c(),fe.m(m,null))),(!Te||ge&32)&&H!==(H=x[5].t("Manage Models")+"")&&N(M,H),(!Te||ge&32)&&K!==(K=x[5].t("Default Model")+"")&&N(z,K),(!Te||ge&32)&&Y!==(Y=x[5].t("Select a model")+"")&&N(q,Y),ge&64){Ae=nt(x[6].filter(nr));let De;for(De=0;De<Ae.length;De+=1){const we=tr(x,Ae,De);se[De]?se[De].p(we,ge):(se[De]=lr(we),se[De].c(),se[De].m(W,null))}for(;De<se.length;De+=1)se[De].d(1);se.length=Ae.length}ge&66&&ht(W,x[1]),(!Te||ge&32)&&Ee!==(Ee=x[5].t("Model Whitelisting")+"")&&N(Ve,Ee);const be={};!ye&&ge&4&&(ye=!0,be.state=x[2],Ot(()=>ye=!1)),Ce.$set(be),x[2]?$?$.p(x,ge):($=sr(x),$.c(),$.m(ue,null)):$&&($.d(1),$=null),(!Te||ge&32)&&Se!==(Se=x[5].t("Save")+"")&&N(We,Se)},i(x){Te||(re(Ce.$$.fragment,x),Te=!0)},o(x){ve(Ce.$$.fragment,x),Te=!1},d(x){x&&u(e),fe.d(),Ct(se,x),st(Ce),$&&$.d(),qe=!1,At(ke)}}}const nr=s=>s.id,ir=s=>s.id;function Ji(s,e,t){let l,a,i;Ut(s,Rl,T=>t(15,l=T)),Ut(s,el,T=>t(6,i=T));const n=fl("i18n");Ut(s,n,T=>t(5,a=T));let{saveHandler:f}=e,c="",_=!1,b=[""],p={chat:{deletion:!0}};dl(async()=>{t(4,p=await Kn(localStorage.token));const T=await Fn(localStorage.token);T&&(t(2,_=T.enabled),t(3,b=T.models.length>0?T.models:[""])),t(1,c=l.default_models?l==null?void 0:l.default_models.split(",")[0]:"")});const g=()=>{var T;t(4,p.chat.deletion=!(((T=p==null?void 0:p.chat)==null?void 0:T.deletion)??!0),p)};function m(){c=zt(this),t(1,c)}function E(T){_=T,t(2,_)}function w(T,S){T[S]=zt(this),t(3,b)}const y=()=>{b.at(-1)!==""&&t(3,b=[...b,""])},k=T=>{b.splice(T,1),t(3,b)},I=async()=>{await oi(localStorage.token,c),await qn(localStorage.token,p),await $n(localStorage.token,_,b),f(),await Rl.set(await hs())};return s.$$set=T=>{"saveHandler"in T&&t(0,f=T.saveHandler)},[f,c,_,b,p,a,i,n,g,m,E,w,y,k,I]}class xi extends ul{constructor(e){super(),cl(this,e,Ji,Xi,ol,{saveHandler:0})}}function or(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function ur(s,e,t){const l=s.slice();return l[37]=e[t],l}function cr(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function fr(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function eo(s){let e,t,l,a;return l=new ns({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=v(e);t=h(n,"DIV",{class:!0});var f=v(t);tt(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center h-full")},m(i,n){L(i,e,n),r(e,t),lt(l,t,null),a=!0},p:ct,i(i){a||(re(l.$$.fragment,i),a=!0)},o(i){ve(l.$$.fragment,i),a=!1},d(i){i&&u(e),st(l)}}}function to(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,i,n,f,c,_;const b=[so,lo],p=[];function g(m,E){return m[3].length>0?0:1}return n=g(s),f=p[n]=b[n](s),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),f.c(),c=Lt(),this.h()},l(m){e=h(m,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var w=v(t);a=P(w,l),w.forEach(u),E.forEach(u),i=V(m),f.l(m),c=Lt(),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2")},m(m,E){L(m,e,E),r(e,t),r(t,a),L(m,i,E),p[n].m(m,E),L(m,c,E),_=!0},p(m,E){(!_||E[0]&512)&&l!==(l=m[9].t("Manage Pipelines")+"")&&N(a,l);let w=n;n=g(m),n===w?p[n].p(m,E):(kt(),ve(p[w],1,1,()=>{p[w]=null}),Et(),f=p[n],f?f.p(m,E):(f=p[n]=b[n](m),f.c()),re(f,1),f.m(c.parentNode,c))},i(m){_||(re(f),_=!0)},o(m){ve(f),_=!1},d(m){m&&(u(e),u(i),u(c)),p[n].d(m)}}}function lo(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=O(t)},l(a){e=h(a,"DIV",{});var i=v(e);l=P(i,t),i.forEach(u)},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&N(l,t)},i:ct,o:ct,d(a){a&&u(e)}}}function so(s){let e,t,l,a,i,n=s[9].t("Select a pipeline url")+"",f,c,_,b,p,g=s[9].t("Upload Pipeline")+"",m,E,w,y,k,I,T,S,A,H,M,G,Q=s[9].t("Install from Github URL")+"",R,F,C,K,z,j,B,W,Z,Y,q=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,U,ue,he,J,ee,Ee,Ve,Pe,Ce,ye=nt(s[3]),Ne=[];for(let se=0;se<ye.length;se+=1)Ne[se]=dr(fr(s,ye,se));function je(se,ne){return se[2]?ro:ao}let Le=je(s),Be=Le(s);function Se(se,ne){return se[1]?io:no}let We=Se(s),Te=We(s);function qe(se,ne){return se[0]?uo:oo}let ke=qe(s),He=ke(s);const pe=[fo,co],fe=[];function Ae(se,ne){return se[10]!==null?0:1}return J=Ae(s),ee=fe[J]=pe[J](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),i=d("option"),f=O(n);for(let se=0;se<Ne.length;se+=1)Ne[se].c();_=D(),b=d("div"),p=d("div"),m=O(g),E=D(),w=d("div"),y=d("div"),k=d("input"),I=D(),T=d("button"),Be.c(),S=D(),A=d("button"),Te.c(),H=D(),M=d("div"),G=d("div"),R=O(Q),F=D(),C=d("div"),K=d("div"),z=d("input"),B=D(),W=d("button"),He.c(),Z=D(),Y=d("div"),Y.innerHTML=q,U=D(),ue=d("hr"),he=D(),ee.c(),Ee=Lt(),this.h()},l(se){e=h(se,"DIV",{class:!0});var ne=v(e);t=h(ne,"DIV",{class:!0});var ae=v(t);l=h(ae,"DIV",{class:!0});var $=v(l);a=h($,"SELECT",{class:!0,placeholder:!0});var x=v(a);i=h(x,"OPTION",{class:!0});var ge=v(i);f=P(ge,n),ge.forEach(u);for(let it=0;it<Ne.length;it+=1)Ne[it].l(x);x.forEach(u),$.forEach(u),ae.forEach(u),ne.forEach(u),_=V(se),b=h(se,"DIV",{class:!0});var be=v(b);p=h(be,"DIV",{class:!0});var De=v(p);m=P(De,g),De.forEach(u),E=V(be),w=h(be,"DIV",{class:!0});var we=v(w);y=h(we,"DIV",{class:!0});var de=v(y);k=h(de,"INPUT",{id:!0,type:!0,accept:!0}),I=V(de),T=h(de,"BUTTON",{class:!0,type:!0});var oe=v(T);Be.l(oe),oe.forEach(u),de.forEach(u),S=V(we),A=h(we,"BUTTON",{class:!0,type:!0});var Me=v(A);Te.l(Me),Me.forEach(u),we.forEach(u),be.forEach(u),H=V(se),M=h(se,"DIV",{class:!0});var ze=v(M);G=h(ze,"DIV",{class:!0});var Ue=v(G);R=P(Ue,Q),Ue.forEach(u),F=V(ze),C=h(ze,"DIV",{class:!0});var Ye=v(C);K=h(Ye,"DIV",{class:!0});var Je=v(K);z=h(Je,"INPUT",{class:!0,placeholder:!0}),Je.forEach(u),B=V(Ye),W=h(Ye,"BUTTON",{class:!0,type:!0});var Fe=v(W);He.l(Fe),Fe.forEach(u),Ye.forEach(u),Z=V(ze),Y=h(ze,"DIV",{class:!0,"data-svelte-h":!0}),at(Y)!=="svelte-ob7r3n"&&(Y.innerHTML=q),ze.forEach(u),U=V(se),ue=h(se,"HR",{class:!0}),he=V(se),ee.l(se),Ee=Lt(),this.h()},h(){i.__value="",X(i,i.__value),i.selected=!0,i.disabled=!0,o(i,"class","bg-gray-100 dark:bg-gray-700"),o(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(a,"placeholder",c=s[9].t("Select a pipeline url")),s[4]===void 0&&Kt(()=>s[19].call(a)),o(l,"class","flex-1"),o(t,"class","flex gap-2"),o(e,"class","space-y-1"),o(p,"class","mb-2 text-sm font-medium"),o(k,"id","pipelines-upload-input"),o(k,"type","file"),o(k,"accept",".py"),k.hidden=!0,o(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),o(T,"type","button"),o(y,"class","flex-1 mr-2"),o(A,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),A.disabled=s[1],o(A,"type","button"),o(w,"class","flex w-full"),o(b,"class","my-2"),o(G,"class","mb-2 text-sm font-medium"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder",j=s[9].t("Enter Github Raw URL")),o(K,"class","flex-1 mr-2"),o(W,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),W.disabled=s[0],o(W,"type","button"),o(C,"class","flex w-full"),o(Y,"class","mt-2 text-xs text-gray-500"),o(M,"class","my-2"),o(ue,"class","dark:border-gray-800 my-3 w-full")},m(se,ne){L(se,e,ne),r(e,t),r(t,l),r(l,a),r(a,i),r(i,f);for(let ae=0;ae<Ne.length;ae+=1)Ne[ae]&&Ne[ae].m(a,null);ht(a,s[4],!0),L(se,_,ne),L(se,b,ne),r(b,p),r(p,m),r(b,E),r(b,w),r(w,y),r(y,k),r(y,I),r(y,T),Be.m(T,null),r(w,S),r(w,A),Te.m(A,null),L(se,H,ne),L(se,M,ne),r(M,G),r(G,R),r(M,F),r(M,C),r(C,K),r(K,z),X(z,s[8]),r(C,B),r(C,W),He.m(W,null),r(M,Z),r(M,Y),L(se,U,ne),L(se,ue,ne),L(se,he,ne),fe[J].m(se,ne),L(se,Ee,ne),Ve=!0,Pe||(Ce=[te(a,"change",s[19]),te(a,"change",s[20]),te(k,"change",s[21]),te(T,"click",s[22]),te(A,"click",s[23]),te(z,"input",s[24]),te(W,"click",s[25])],Pe=!0)},p(se,ne){if((!Ve||ne[0]&512)&&n!==(n=se[9].t("Select a pipeline url")+"")&&N(f,n),ne[0]&8){ye=nt(se[3]);let $;for($=0;$<ye.length;$+=1){const x=fr(se,ye,$);Ne[$]?Ne[$].p(x,ne):(Ne[$]=dr(x),Ne[$].c(),Ne[$].m(a,null))}for(;$<Ne.length;$+=1)Ne[$].d(1);Ne.length=ye.length}(!Ve||ne[0]&512&&c!==(c=se[9].t("Select a pipeline url")))&&o(a,"placeholder",c),ne[0]&24&&ht(a,se[4]),(!Ve||ne[0]&512)&&g!==(g=se[9].t("Upload Pipeline")+"")&&N(m,g),Le===(Le=je(se))&&Be?Be.p(se,ne):(Be.d(1),Be=Le(se),Be&&(Be.c(),Be.m(T,null))),We!==(We=Se(se))&&(Te.d(1),Te=We(se),Te&&(Te.c(),Te.m(A,null))),(!Ve||ne[0]&2)&&(A.disabled=se[1]),(!Ve||ne[0]&512)&&Q!==(Q=se[9].t("Install from Github URL")+"")&&N(R,Q),(!Ve||ne[0]&512&&j!==(j=se[9].t("Enter Github Raw URL")))&&o(z,"placeholder",j),ne[0]&256&&z.value!==se[8]&&X(z,se[8]),ke!==(ke=qe(se))&&(He.d(1),He=ke(se),He&&(He.c(),He.m(W,null))),(!Ve||ne[0]&1)&&(W.disabled=se[0]);let ae=J;J=Ae(se),J===ae?fe[J].p(se,ne):(kt(),ve(fe[ae],1,1,()=>{fe[ae]=null}),Et(),ee=fe[J],ee?ee.p(se,ne):(ee=fe[J]=pe[J](se),ee.c()),re(ee,1),ee.m(Ee.parentNode,Ee))},i(se){Ve||(re(ee),Ve=!0)},o(se){ve(ee),Ve=!1},d(se){se&&(u(e),u(_),u(b),u(H),u(M),u(U),u(ue),u(he),u(Ee)),Ct(Ne,se),Be.d(),Te.d(),He.d(),fe[J].d(se),Pe=!1,At(Ce)}}}function dr(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[10].idx.toString(),X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n[0]&8&&t!==(t=i[10].url+"")&&N(l,t),n[0]&8&&a!==(a=i[10].idx.toString())&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function ao(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){L(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&N(t,e)},d(l){l&&u(t)}}}function ro(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=O(e),l=O(" pipeline(s) selected.")},l(a){t=P(a,e),l=P(a," pipeline(s) selected.")},m(a,i){L(a,t,i),L(a,l,i)},p(a,i){i[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&N(t,e)},d(a){a&&(u(t),u(l))}}}function no(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function io(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function oo(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function uo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function co(s){let e,t,l,a;return l=new ns({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=v(e);t=h(n,"DIV",{class:!0});var f=v(t);tt(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center")},m(i,n){L(i,e,n),r(e,t),lt(l,t,null),a=!0},p:ct,i(i){a||(re(l.$$.fragment,i),a=!0)},o(i){ve(l.$$.fragment,i),a=!1},d(i){i&&u(e),st(l)}}}function fo(s){let e,t,l,a;const i=[_o,ho],n=[];function f(c,_){return c[10].length>0?0:c[10].length===0?1:-1}return~(e=f(s))&&(t=n[e]=i[e](s)),{c(){t&&t.c(),l=Lt()},l(c){t&&t.l(c),l=Lt()},m(c,_){~e&&n[e].m(c,_),L(c,l,_),a=!0},p(c,_){let b=e;e=f(c),e===b?~e&&n[e].p(c,_):(t&&(kt(),ve(n[b],1,1,()=>{n[b]=null}),Et()),~e?(t=n[e],t?t.p(c,_):(t=n[e]=i[e](c),t.c()),re(t,1),t.m(l.parentNode,l)):t=null)},i(c){a||(re(t),a=!0)},o(c){ve(t),a=!1},d(c){c&&u(l),~e&&n[e].d(c)}}}function ho(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),at(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){L(l,e,a)},p:ct,i:ct,o:ct,d(l){l&&u(e)}}}function _o(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,i,n,f,c,_,b,p,g=s[10].length>0&&hr(s);const m=[po,vo],E=[];function w(y,k){return y[10][y[7]].valves?0:1}return _=w(s),b=E[_]=m[_](s),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),g&&g.c(),f=D(),c=d("div"),b.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var I=v(t);a=P(I,l),I.forEach(u),k.forEach(u),i=V(y),n=h(y,"DIV",{class:!0});var T=v(n);g&&g.l(T),f=V(T),c=h(T,"DIV",{class:!0});var S=v(c);b.l(S),S.forEach(u),T.forEach(u),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2"),o(c,"class","space-y-1"),o(n,"class","space-y-1")},m(y,k){L(y,e,k),r(e,t),r(t,a),L(y,i,k),L(y,n,k),g&&g.m(n,null),r(n,f),r(n,c),E[_].m(c,null),p=!0},p(y,k){(!p||k[0]&512)&&l!==(l=y[9].t("Pipelines Valves")+"")&&N(a,l),y[10].length>0?g?g.p(y,k):(g=hr(y),g.c(),g.m(n,f)):g&&(g.d(1),g=null);let I=_;_=w(y),_===I?E[_].p(y,k):(kt(),ve(E[I],1,1,()=>{E[I]=null}),Et(),b=E[_],b?b.p(y,k):(b=E[_]=m[_](y),b.c()),re(b,1),b.m(c,null))},i(y){p||(re(b),p=!0)},o(y){ve(b),p=!1},d(y){y&&(u(e),u(i),u(n)),g&&g.d(),E[_].d()}}}function hr(s){let e,t,l,a,i,n,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',c,_,b=nt(s[10]),p=[];for(let g=0;g<b.length;g+=1)p[g]=_r(cr(s,b,g));return{c(){e=d("div"),t=d("div"),l=d("select");for(let g=0;g<p.length;g+=1)p[g].c();i=D(),n=d("button"),n.innerHTML=f,this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);l=h(E,"SELECT",{class:!0,placeholder:!0});var w=v(l);for(let y=0;y<p.length;y+=1)p[y].l(w);w.forEach(u),E.forEach(u),i=V(m),n=h(m,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(n)!=="svelte-121ij38"&&(n.innerHTML=f),m.forEach(u),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Kt(()=>s[26].call(l)),o(t,"class","flex-1"),o(n,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(n,"type","button"),o(e,"class","flex gap-2")},m(g,m){L(g,e,m),r(e,t),r(t,l);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(l,null);ht(l,s[7],!0),r(e,i),r(e,n),c||(_=[te(l,"change",s[26]),te(l,"change",s[27]),te(n,"click",s[28])],c=!0)},p(g,m){if(m[0]&1024){b=nt(g[10]);let E;for(E=0;E<b.length;E+=1){const w=cr(g,b,E);p[E]?p[E].p(w,m):(p[E]=_r(w),p[E].c(),p[E].m(l,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=b.length}m[0]&512&&a!==(a=g[9].t("Select a pipeline"))&&o(l,"placeholder",a),m[0]&128&&ht(l,g[7])},d(g){g&&u(e),Ct(p,g),c=!1,At(_)}}}function _r(s){let e,t=s[40].name+"",l,a,i=(s[40].type??"pipe")+"",n,f;return{c(){e=d("option"),l=O(t),a=O(" ("),n=O(i),f=O(")"),this.h()},l(c){e=h(c,"OPTION",{class:!0});var _=v(e);l=P(_,t),a=P(_," ("),n=P(_,i),f=P(_,")"),_.forEach(u),this.h()},h(){e.__value=s[36],X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(c,_){L(c,e,_),r(e,l),r(e,a),r(e,n),r(e,f)},p(c,_){_[0]&1024&&t!==(t=c[40].name+"")&&N(l,t),_[0]&1024&&i!==(i=(c[40].type??"pipe")+"")&&N(n,i)},d(c){c&&u(e)}}}function vo(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),at(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){L(l,e,a)},p:ct,i:ct,o:ct,d(l){l&&u(e)}}}function po(s){let e,t,l,a;const i=[mo,go],n=[];function f(c,_){return c[5]?0:1}return e=f(s),t=n[e]=i[e](s),{c(){t.c(),l=Lt()},l(c){t.l(c),l=Lt()},m(c,_){n[e].m(c,_),L(c,l,_),a=!0},p(c,_){let b=e;e=f(c),e===b?n[e].p(c,_):(kt(),ve(n[b],1,1,()=>{n[b]=null}),Et(),t=n[e],t?t.p(c,_):(t=n[e]=i[e](c),t.c()),re(t,1),t.m(l.parentNode,l))},i(c){a||(re(t),a=!0)},o(c){ve(t),a=!1},d(c){c&&u(l),n[e].d(c)}}}function go(s){let e,t;return e=new ns({props:{className:"size-5"}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function mo(s){let e,t,l=nt(Object.keys(s[6].properties)),a=[];for(let n=0;n<l.length;n+=1)a[n]=gr(or(s,l,n));const i=n=>ve(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=Lt()},l(n){for(let f=0;f<a.length;f+=1)a[f].l(n);e=Lt()},m(n,f){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(n,f);L(n,e,f),t=!0},p(n,f){if(f[0]&608){l=nt(Object.keys(n[6].properties));let c;for(c=0;c<l.length;c+=1){const _=or(n,l,c);a[c]?(a[c].p(_,f),re(a[c],1)):(a[c]=gr(_),a[c].c(),re(a[c],1),a[c].m(e.parentNode,e))}for(kt(),c=l.length;c<a.length;c+=1)i(c);Et()}},i(n){if(!t){for(let f=0;f<l.length;f+=1)re(a[f]);t=!0}},o(n){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ve(a[f]);t=!1},d(n){n&&u(e),Ct(a,n)}}}function bo(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Custom")+"")&&N(l,t)},d(a){a&&u(e)}}}function ko(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("None")+"")&&N(l,t)},d(a){a&&u(e)}}}function vr(s){let e,t,l,a,i;const n=[yo,wo,Eo],f=[];function c(_,b){var p,g;return((p=_[6].properties[_[34]])==null?void 0:p.enum)??null?0:(((g=_[6].properties[_[34]])==null?void 0:g.type)??null)==="boolean"?1:2}return l=c(s),a=f[l]=n[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var p=v(t);a.l(p),p.forEach(u),b.forEach(u),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(_,b){L(_,e,b),r(e,t),f[l].m(t,null),i=!0},p(_,b){let p=l;l=c(_),l===p?f[l].p(_,b):(kt(),ve(f[p],1,1,()=>{f[p]=null}),Et(),a=f[l],a?a.p(_,b):(a=f[l]=n[l](_),a.c()),re(a,1),a.m(t,null))},i(_){i||(re(a),i=!0)},o(_){ve(a),i=!1},d(_){_&&u(e),f[l].d()}}}function Eo(s){let e,t,l,a;function i(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(n){e=h(n,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","text"),o(e,"placeholder",t=s[6].properties[s[34]].title),o(e,"autocomplete","off"),e.required=!0},m(n,f){L(n,e,f),X(e,s[5][s[34]]),l||(a=te(e,"input",i),l=!0)},p(n,f){s=n,f[0]&64&&t!==(t=s[6].properties[s[34]].title)&&o(e,"placeholder",t),f[0]&96&&e.value!==s[5][s[34]]&&X(e,s[5][s[34]])},i:ct,o:ct,d(n){n&&u(e),l=!1,a()}}}function wo(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,i,n,f,c,_;function b(g){s[31](g,s[34])}let p={};return s[5][s[34]]!==void 0&&(p.state=s[5][s[34]]),f=new Al({props:p}),St.push(()=>Pt(f,"state",b)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),et(f.$$.fragment),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(u),i=V(m),n=h(m,"DIV",{class:!0});var w=v(n);tt(f.$$.fragment,w),w.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","text-xs text-gray-500"),o(n,"class","pr-2"),o(e,"class","flex justify-between items-center")},m(g,m){L(g,e,m),r(e,t),r(t,a),r(e,i),r(e,n),lt(f,n,null),_=!0},p(g,m){s=g,(!_||m[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&N(a,l);const E={};!c&&m[0]&96&&(c=!0,E.state=s[5][s[34]],Ot(()=>c=!1)),f.$set(E)},i(g){_||(re(f.$$.fragment,g),_=!0)},o(g){ve(f.$$.fragment,g),_=!1},d(g){g&&u(e),st(f)}}}function yo(s){let e,t,l,a=nt(s[6].properties[s[34]].enum),i=[];for(let f=0;f<a.length;f+=1)i[f]=pr(ur(s,a,f));function n(){s[30].call(e,s[34])}return{c(){e=d("select");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=h(f,"SELECT",{class:!0});var c=v(e);for(let _=0;_<i.length;_+=1)i[_].l(c);c.forEach(u),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Kt(n)},m(f,c){L(f,e,c);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(e,null);ht(e,s[5][s[34]],!0),t||(l=te(e,"change",n),t=!0)},p(f,c){if(s=f,c[0]&96){a=nt(s[6].properties[s[34]].enum);let _;for(_=0;_<a.length;_+=1){const b=ur(s,a,_);i[_]?i[_].p(b,c):(i[_]=pr(b),i[_].c(),i[_].m(e,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=a.length}c[0]&96&&ht(e,s[5][s[34]])},i:ct,o:ct,d(f){f&&u(e),Ct(i,f),t=!1,l()}}}function pr(s){let e,t=s[37]+"",l,a,i,n;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(f){e=h(f,"OPTION",{});var c=v(e);l=P(c,t),a=V(c),c.forEach(u),this.h()},h(){e.__value=i=s[37],X(e,e.__value),e.selected=n=s[37]===s[5][s[34]]},m(f,c){L(f,e,c),r(e,l),r(e,a)},p(f,c){c[0]&64&&t!==(t=f[37]+"")&&N(l,t),c[0]&64&&i!==(i=f[37])&&(e.__value=i,X(e,e.__value)),c[0]&96&&n!==(n=f[37]===f[5][f[34]])&&(e.selected=n)},d(f){f&&u(e)}}}function gr(s){let e,t,l,a=s[6].properties[s[34]].title+"",i,n,f,c,_,b,p,g;function m(I,T){return(I[5][I[34]]??null)===null?ko:bo}let E=m(s),w=E(s);function y(){return s[29](s[34])}let k=(s[5][s[34]]??null)!==null&&vr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("button"),w.c(),c=D(),k&&k.c(),_=D(),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var S=v(t);l=h(S,"DIV",{class:!0});var A=v(l);i=P(A,a),A.forEach(u),n=V(S),f=h(S,"BUTTON",{class:!0,type:!0});var H=v(f);w.l(H),H.forEach(u),S.forEach(u),c=V(T),k&&k.l(T),_=V(T),T.forEach(u),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between"),o(e,"class","py-0.5 w-full justify-between")},m(I,T){L(I,e,T),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),w.m(f,null),r(e,c),k&&k.m(e,null),r(e,_),b=!0,p||(g=te(f,"click",y),p=!0)},p(I,T){s=I,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&N(i,a),E===(E=m(s))&&w?w.p(s,T):(w.d(1),w=E(s),w&&(w.c(),w.m(f,null))),(s[5][s[34]]??null)!==null?k?(k.p(s,T),T[0]&96&&re(k,1)):(k=vr(s),k.c(),re(k,1),k.m(e,_)):k&&(kt(),ve(k,1,1,()=>{k=null}),Et())},i(I){b||(re(k),b=!0)},o(I){ve(k),b=!1},d(I){I&&u(e),w.d(),k&&k.d(),p=!1,g()}}}function Io(s){let e,t,l,a,i,n,f,c=s[9].t("Save")+"",_,b,p,g;const m=[to,eo],E=[];function w(y,k){return y[3]!==null?0:1}return l=w(s),a=E[l]=m[l](s),{c(){e=d("form"),t=d("div"),a.c(),i=D(),n=d("div"),f=d("button"),_=O(c),this.h()},l(y){e=h(y,"FORM",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var I=v(t);a.l(I),I.forEach(u),i=V(k),n=h(k,"DIV",{class:!0});var T=v(n);f=h(T,"BUTTON",{class:!0,type:!0});var S=v(f);_=P(S,c),S.forEach(u),T.forEach(u),k.forEach(u),this.h()},h(){o(t,"class","overflow-y-scroll scrollbar-hidden h-full"),o(f,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(f,"type","submit"),o(n,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(y,k){L(y,e,k),r(e,t),E[l].m(t,null),r(e,i),r(e,n),r(n,f),r(f,_),b=!0,p||(g=te(e,"submit",El(s[33])),p=!0)},p(y,k){let I=l;l=w(y),l===I?E[l].p(y,k):(kt(),ve(E[I],1,1,()=>{E[I]=null}),Et(),a=E[l],a?a.p(y,k):(a=E[l]=m[l](y),a.c()),re(a,1),a.m(t,null)),(!b||k[0]&512)&&c!==(c=y[9].t("Save")+"")&&N(_,c)},i(y){b||(re(a),b=!0)},o(y){ve(a),b=!1},d(y){y&&u(e),E[l].d(),p=!1,g()}}}function To(s,e,t){let l;const a=fl("i18n");Ut(s,a,U=>t(9,l=U));let{saveHandler:i}=e,n=!1,f=!1,c,_=null,b="",p=null,g=null,m=null,E=null,w="";const y=async()=>{var ue;const U=p[E];if(U&&((U==null?void 0:U.valves)??!1)){for(const J in m.properties)((ue=m.properties[J])==null?void 0:ue.type)==="array"&&t(5,g[J]=g[J].split(",").map(ee=>ee.trim()),g);await Xn(localStorage.token,U.id,g,b).catch(J=>{Ie.error(J)})&&(Ie.success(l.t("Valves updated successfully")),I(),el.set(await rs(localStorage.token)),i())}else Ie.error(l.t("No valves to update"))},k=async U=>{var ue;t(5,g=null),t(6,m=null),t(6,m=await Jn(localStorage.token,p[U].id,b)),t(5,g=await xn(localStorage.token,p[U].id,b));for(const he in m.properties)((ue=m.properties[he])==null?void 0:ue.type)==="array"&&t(5,g[he]=g[he].join(","),g)},I=async()=>{t(10,p=null),t(5,g=null),t(6,m=null),_.length>0?(console.log(b),t(10,p=await ei(localStorage.token,b)),p.length>0&&(t(7,E=0),await k(E))):t(10,p=[])},T=async()=>{t(0,n=!0),await ti(localStorage.token,w,b).catch(ue=>(Ie.error(ue),null))&&(Ie.success(l.t("Pipeline downloaded successfully")),I(),el.set(await rs(localStorage.token))),t(0,n=!1)},S=async()=>{if(t(1,f=!0),c&&c.length!==0){const ue=c[0];console.log(ue),await si(localStorage.token,ue,b).catch(J=>(console.log(J),Ie.error("Something went wrong :/"),null))&&(Ie.success(l.t("Pipeline downloaded successfully")),I(),el.set(await rs(localStorage.token)))}else Ie.error(l.t("No file selected"));t(2,c=null);const U=document.getElementById("pipeline-upload-input");U&&(U.value=null),t(1,f=!1)},A=async()=>{await li(localStorage.token,p[E].id,b).catch(ue=>(Ie.error(ue),null))&&(Ie.success(l.t("Pipeline deleted successfully")),I(),el.set(await rs(localStorage.token)))};dl(async()=>{t(3,_=await Qn(localStorage.token)),console.log(_),_.length>0&&t(4,b=_[0].idx.toString()),await I()});function H(){b=zt(this),t(4,b),t(3,_)}const M=async()=>{await Js(),await I()};function G(){c=this.files,t(2,c)}const Q=()=>{var U;(U=document.getElementById("pipelines-upload-input"))==null||U.click()},R=()=>{S()};function F(){w=this.value,t(8,w)}const C=()=>{T()};function K(){E=zt(this),t(7,E)}const z=async()=>{await Js(),await k(E)},j=()=>{A()},B=U=>{t(5,g[U]=(g[U]??null)===null?"":null,g)};function W(U){g[U]=zt(this),t(5,g),t(6,m)}function Z(U,ue){s.$$.not_equal(g[ue],U)&&(g[ue]=U,t(5,g))}function Y(U){g[U]=this.value,t(5,g),t(6,m)}const q=async()=>{y()};return s.$$set=U=>{"saveHandler"in U&&t(18,i=U.saveHandler)},[n,f,c,_,b,g,m,E,w,l,p,a,y,k,I,T,S,A,i,H,M,G,Q,R,F,C,K,z,j,B,W,Z,Y,q]}class Do extends ul{constructor(e){super(),cl(this,e,To,Io,ol,{saveHandler:18},null,[-1,-1])}}function mr(s,e,t){const l=s.slice();return l[34]=e[t],l}function br(s,e,t){const l=s.slice();return l[31]=e[t],l}function kr(s,e,t){const l=s.slice();return l[31]=e[t],l}function Er(s){let e,t,l,a,i,n,f,c,_,b,p,g,m=s[11].t("STT Model")+"",E,w,y,k,I,T,S,A,H,M,G;function Q(F){s[20](F)}let R={placeholder:s[11].t("API Key")};return s[6]!==void 0&&(R.value=s[6]),n=new hl({props:R}),St.push(()=>Pt(n,"value",Q)),{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),et(n.$$.fragment),c=D(),_=d("hr"),b=D(),p=d("div"),g=d("div"),E=O(m),w=D(),y=d("div"),k=d("div"),I=d("input"),T=D(),S=d("datalist"),A=d("option"),this.h()},l(F){e=h(F,"DIV",{});var C=v(e);t=h(C,"DIV",{class:!0});var K=v(t);l=h(K,"INPUT",{class:!0,placeholder:!0}),i=V(K),tt(n.$$.fragment,K),K.forEach(u),C.forEach(u),c=V(F),_=h(F,"HR",{class:!0}),b=V(F),p=h(F,"DIV",{});var z=v(p);g=h(z,"DIV",{class:!0});var j=v(g);E=P(j,m),j.forEach(u),w=V(z),y=h(z,"DIV",{class:!0});var B=v(y);k=h(B,"DIV",{class:!0});var W=v(k);I=h(W,"INPUT",{list:!0,class:!0,placeholder:!0}),T=V(W),S=h(W,"DATALIST",{id:!0});var Z=v(S);A=h(Z,"OPTION",{}),v(A).forEach(u),Z.forEach(u),W.forEach(u),B.forEach(u),z.forEach(u),this.h()},h(){o(l,"class","flex-1 w-full rounded-l-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[11].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1"),o(_,"class","dark:border-gray-850 my-2"),o(g,"class","mb-1.5 text-sm font-medium"),o(I,"list","model-list"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(I,"placeholder","Select a model"),A.__value="whisper-1",X(A,A.__value),o(S,"id","model-list"),o(k,"class","flex-1"),o(y,"class","flex w-full")},m(F,C){L(F,e,C),r(e,t),r(t,l),X(l,s[5]),r(t,i),lt(n,t,null),L(F,c,C),L(F,_,C),L(F,b,C),L(F,p,C),r(p,g),r(g,E),r(p,w),r(p,y),r(y,k),r(k,I),X(I,s[8]),r(k,T),r(k,S),r(S,A),H=!0,M||(G=[te(l,"input",s[19]),te(I,"input",s[21])],M=!0)},p(F,C){(!H||C[0]&2048&&a!==(a=F[11].t("API Base URL")))&&o(l,"placeholder",a),C[0]&32&&l.value!==F[5]&&X(l,F[5]);const K={};C[0]&2048&&(K.placeholder=F[11].t("API Key")),!f&&C[0]&64&&(f=!0,K.value=F[6],Ot(()=>f=!1)),n.$set(K),(!H||C[0]&2048)&&m!==(m=F[11].t("STT Model")+"")&&N(E,m),C[0]&256&&I.value!==F[8]&&X(I,F[8])},i(F){H||(re(n.$$.fragment,F),H=!0)},o(F){ve(n.$$.fragment,F),H=!1},d(F){F&&(u(e),u(c),u(_),u(b),u(p)),st(n),M=!1,At(G)}}}function wr(s){let e,t,l,a,i,n,f,c,_,b;function p(m){s[25](m)}let g={placeholder:s[11].t("API Key")};return s[1]!==void 0&&(g.value=s[1]),n=new hl({props:g}),St.push(()=>Pt(n,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),et(n.$$.fragment),this.h()},l(m){e=h(m,"DIV",{});var E=v(e);t=h(E,"DIV",{class:!0});var w=v(t);l=h(w,"INPUT",{class:!0,placeholder:!0}),i=V(w),tt(n.$$.fragment,w),w.forEach(u),E.forEach(u),this.h()},h(){o(l,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[11].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(m,E){L(m,e,E),r(e,t),r(t,l),X(l,s[0]),r(t,i),lt(n,t,null),c=!0,_||(b=te(l,"input",s[24]),_=!0)},p(m,E){(!c||E[0]&2048&&a!==(a=m[11].t("API Base URL")))&&o(l,"placeholder",a),E[0]&1&&l.value!==m[0]&&X(l,m[0]);const w={};E[0]&2048&&(w.placeholder=m[11].t("API Key")),!f&&E[0]&2&&(f=!0,w.value=m[1],Ot(()=>f=!1)),n.$set(w)},i(m){c||(re(n.$$.fragment,m),c=!0)},o(m){ve(n.$$.fragment,m),c=!1},d(m){m&&u(e),st(n),_=!1,b()}}}function Vo(s){let e,t,l,a=s[11].t("TTS Voice")+"",i,n,f,c,_,b,p,g,m,E,w=s[11].t("TTS Model")+"",y,k,I,T,S,A,H,M,G,Q=nt(s[9]),R=[];for(let K=0;K<Q.length;K+=1)R[K]=yr(br(s,Q,K));let F=nt(s[10]),C=[];for(let K=0;K<F.length;K+=1)C[K]=Ir(mr(s,F,K));return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("div"),c=d("div"),_=d("input"),b=D(),p=d("datalist");for(let K=0;K<R.length;K+=1)R[K].c();g=D(),m=d("div"),E=d("div"),y=O(w),k=D(),I=d("div"),T=d("div"),S=d("input"),A=D(),H=d("datalist");for(let K=0;K<C.length;K+=1)C[K].c();this.h()},l(K){e=h(K,"DIV",{class:!0});var z=v(e);t=h(z,"DIV",{class:!0});var j=v(t);l=h(j,"DIV",{class:!0});var B=v(l);i=P(B,a),B.forEach(u),n=V(j),f=h(j,"DIV",{class:!0});var W=v(f);c=h(W,"DIV",{class:!0});var Z=v(c);_=h(Z,"INPUT",{list:!0,class:!0,placeholder:!0}),b=V(Z),p=h(Z,"DATALIST",{id:!0});var Y=v(p);for(let ee=0;ee<R.length;ee+=1)R[ee].l(Y);Y.forEach(u),Z.forEach(u),W.forEach(u),j.forEach(u),g=V(z),m=h(z,"DIV",{class:!0});var q=v(m);E=h(q,"DIV",{class:!0});var U=v(E);y=P(U,w),U.forEach(u),k=V(q),I=h(q,"DIV",{class:!0});var ue=v(I);T=h(ue,"DIV",{class:!0});var he=v(T);S=h(he,"INPUT",{list:!0,class:!0,placeholder:!0}),A=V(he),H=h(he,"DATALIST",{id:!0});var J=v(H);for(let ee=0;ee<C.length;ee+=1)C[ee].l(J);J.forEach(u),he.forEach(u),ue.forEach(u),q.forEach(u),z.forEach(u),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(_,"list","voice-list"),o(_,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(_,"placeholder","Select a voice"),o(p,"id","voice-list"),o(c,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o(S,"list","model-list"),o(S,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(S,"placeholder","Select a model"),o(H,"id","model-list"),o(T,"class","flex-1"),o(I,"class","flex w-full"),o(m,"class","w-full"),o(e,"class","flex gap-2")},m(K,z){L(K,e,z),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),r(f,c),r(c,_),X(_,s[4]),r(c,b),r(c,p);for(let j=0;j<R.length;j+=1)R[j]&&R[j].m(p,null);r(e,g),r(e,m),r(m,E),r(E,y),r(m,k),r(m,I),r(I,T),r(T,S),X(S,s[3]),r(T,A),r(T,H);for(let j=0;j<C.length;j+=1)C[j]&&C[j].m(H,null);M||(G=[te(_,"input",s[27]),te(S,"input",s[28])],M=!0)},p(K,z){if(z[0]&2048&&a!==(a=K[11].t("TTS Voice")+"")&&N(i,a),z[0]&528&&_.value!==K[4]&&X(_,K[4]),z[0]&512){Q=nt(K[9]);let j;for(j=0;j<Q.length;j+=1){const B=br(K,Q,j);R[j]?R[j].p(B,z):(R[j]=yr(B),R[j].c(),R[j].m(p,null))}for(;j<R.length;j+=1)R[j].d(1);R.length=Q.length}if(z[0]&2048&&w!==(w=K[11].t("TTS Model")+"")&&N(y,w),z[0]&8&&S.value!==K[3]&&X(S,K[3]),z[0]&1024){F=nt(K[10]);let j;for(j=0;j<F.length;j+=1){const B=mr(K,F,j);C[j]?C[j].p(B,z):(C[j]=Ir(B),C[j].c(),C[j].m(H,null))}for(;j<C.length;j+=1)C[j].d(1);C.length=F.length}},d(K){K&&u(e),Ct(R,K),Ct(C,K),M=!1,At(G)}}}function So(s){let e,t,l=s[11].t("TTS Voice")+"",a,i,n,f,c,_,b=s[11].t("Default")+"",p,g,m,E,w=nt(s[9]),y=[];for(let k=0;k<w.length;k+=1)y[k]=Tr(kr(s,w,k));return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=d("select"),_=d("option"),p=O(b);for(let k=0;k<y.length;k+=1)y[k].c();this.h()},l(k){e=h(k,"DIV",{});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(u),i=V(I),n=h(I,"DIV",{class:!0});var S=v(n);f=h(S,"DIV",{class:!0});var A=v(f);c=h(A,"SELECT",{class:!0});var H=v(c);_=h(H,"OPTION",{});var M=v(_);p=P(M,b),M.forEach(u);for(let G=0;G<y.length;G+=1)y[G].l(H);H.forEach(u),A.forEach(u),S.forEach(u),I.forEach(u),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),_.__value="",X(_,_.__value),_.selected=g=s[4]!=="",o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[4]===void 0&&Kt(()=>s[26].call(c)),o(f,"class","flex-1"),o(n,"class","flex w-full")},m(k,I){L(k,e,I),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),r(c,_),r(_,p);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(c,null);ht(c,s[4],!0),m||(E=te(c,"change",s[26]),m=!0)},p(k,I){if(I[0]&2048&&l!==(l=k[11].t("TTS Voice")+"")&&N(a,l),I[0]&2048&&b!==(b=k[11].t("Default")+"")&&N(p,b),I[0]&528&&g!==(g=k[4]!=="")&&(_.selected=g),I[0]&528){w=nt(k[9]);let T;for(T=0;T<w.length;T+=1){const S=kr(k,w,T);y[T]?y[T].p(S,I):(y[T]=Tr(S),y[T].c(),y[T].m(c,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=w.length}I[0]&528&&ht(c,k[4])},d(k){k&&u(e),Ct(y,k),m=!1,E()}}}function yr(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),v(e).forEach(u),this.h()},h(){e.__value=t=s[31].name,X(e,e.__value)},m(l,a){L(l,e,a)},p(l,a){a[0]&512&&t!==(t=l[31].name)&&(e.__value=t,X(e,e.__value))},d(l){l&&u(e)}}}function Ir(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),v(e).forEach(u),this.h()},h(){e.__value=t=s[34].name,X(e,e.__value)},m(l,a){L(l,e,a)},p(l,a){a[0]&1024&&t!==(t=l[34].name)&&(e.__value=t,X(e,e.__value))},d(l){l&&u(e)}}}function Tr(s){let e,t=s[31].name+"",l,a,i;return{c(){e=d("option"),l=O(t),this.h()},l(n){e=h(n,"OPTION",{class:!0});var f=v(e);l=P(f,t),f.forEach(u),this.h()},h(){e.__value=a=s[31].voiceURI,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=s[4]===s[31].voiceURI},m(n,f){L(n,e,f),r(e,l)},p(n,f){f[0]&512&&t!==(t=n[31].name+"")&&N(l,t),f[0]&512&&a!==(a=n[31].voiceURI)&&(e.__value=a,X(e,e.__value)),f[0]&528&&i!==(i=n[4]===n[31].voiceURI)&&(e.selected=i)},d(n){n&&u(e)}}}function Ao(s){let e,t,l,a,i,n=s[11].t("STT Settings")+"",f,c,_,b,p=s[11].t("Speech-to-Text Engine")+"",g,m,E,w,y,k=s[11].t("Whisper (Local)")+"",I,T,S="OpenAI",A,H=s[11].t("Web API")+"",M,G,Q,R,F,C,K,z=s[11].t("TTS Settings")+"",j,B,W,Z,Y=s[11].t("Text-to-Speech Engine")+"",q,U,ue,he,J,ee=s[11].t("Web API")+"",Ee,Ve,Pe=s[11].t("OpenAI")+"",Ce,ye,Ne,je,Le,Be,Se,We,Te=s[11].t("Save")+"",qe,ke,He,pe,fe=s[7]==="openai"&&Er(s),Ae=s[2]==="openai"&&wr(s);function se($,x){if($[2]==="")return So;if($[2]==="openai")return Vo}let ne=se(s),ae=ne&&ne(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=O(n),c=D(),_=d("div"),b=d("div"),g=O(p),m=D(),E=d("div"),w=d("select"),y=d("option"),I=O(k),T=d("option"),T.textContent=S,A=d("option"),M=O(H),G=D(),fe&&fe.c(),Q=D(),R=d("hr"),F=D(),C=d("div"),K=d("div"),j=O(z),B=D(),W=d("div"),Z=d("div"),q=O(Y),U=D(),ue=d("div"),he=d("select"),J=d("option"),Ee=O(ee),Ve=d("option"),Ce=O(Pe),ye=D(),Ae&&Ae.c(),Ne=D(),je=d("hr"),Le=D(),ae&&ae.c(),Be=D(),Se=d("div"),We=d("button"),qe=O(Te),this.h()},l($){e=h($,"FORM",{class:!0});var x=v(e);t=h(x,"DIV",{class:!0});var ge=v(t);l=h(ge,"DIV",{class:!0});var be=v(l);a=h(be,"DIV",{});var De=v(a);i=h(De,"DIV",{class:!0});var we=v(i);f=P(we,n),we.forEach(u),c=V(De),_=h(De,"DIV",{class:!0});var de=v(_);b=h(de,"DIV",{class:!0});var oe=v(b);g=P(oe,p),oe.forEach(u),m=V(de),E=h(de,"DIV",{class:!0});var Me=v(E);w=h(Me,"SELECT",{class:!0,placeholder:!0});var ze=v(w);y=h(ze,"OPTION",{});var Ue=v(y);I=P(Ue,k),Ue.forEach(u),T=h(ze,"OPTION",{"data-svelte-h":!0}),at(T)!=="svelte-bbvrw2"&&(T.textContent=S),A=h(ze,"OPTION",{});var Ye=v(A);M=P(Ye,H),Ye.forEach(u),ze.forEach(u),Me.forEach(u),de.forEach(u),G=V(De),fe&&fe.l(De),De.forEach(u),Q=V(be),R=h(be,"HR",{class:!0}),F=V(be),C=h(be,"DIV",{});var Je=v(C);K=h(Je,"DIV",{class:!0});var Fe=v(K);j=P(Fe,z),Fe.forEach(u),B=V(Je),W=h(Je,"DIV",{class:!0});var it=v(W);Z=h(it,"DIV",{class:!0});var Ze=v(Z);q=P(Ze,Y),Ze.forEach(u),U=V(it),ue=h(it,"DIV",{class:!0});var xe=v(ue);he=h(xe,"SELECT",{class:!0,placeholder:!0});var Oe=v(he);J=h(Oe,"OPTION",{});var rt=v(J);Ee=P(rt,ee),rt.forEach(u),Ve=h(Oe,"OPTION",{});var $e=v(Ve);Ce=P($e,Pe),$e.forEach(u),Oe.forEach(u),xe.forEach(u),it.forEach(u),ye=V(Je),Ae&&Ae.l(Je),Ne=V(Je),je=h(Je,"HR",{class:!0}),Le=V(Je),ae&&ae.l(Je),Je.forEach(u),be.forEach(u),ge.forEach(u),Be=V(x),Se=h(x,"DIV",{class:!0});var ft=v(Se);We=h(ft,"BUTTON",{class:!0,type:!0});var Re=v(We);qe=P(Re,Te),Re.forEach(u),ft.forEach(u),x.forEach(u),this.h()},h(){o(i,"class","mb-1 text-sm font-medium"),o(b,"class","self-center text-xs font-medium"),y.__value="",X(y,y.__value),T.__value="openai",X(T,T.__value),A.__value="web",X(A,A.__value),o(w,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(w,"placeholder","Select an engine"),s[7]===void 0&&Kt(()=>s[18].call(w)),o(E,"class","flex items-center relative"),o(_,"class","py-0.5 flex w-full justify-between"),o(R,"class","dark:border-gray-800"),o(K,"class","mb-1 text-sm font-medium"),o(Z,"class","self-center text-xs font-medium"),J.__value="",X(J,J.__value),Ve.__value="openai",X(Ve,Ve.__value),o(he,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(he,"placeholder","Select a mode"),s[2]===void 0&&Kt(()=>s[22].call(he)),o(ue,"class","flex items-center relative"),o(W,"class","py-0.5 flex w-full justify-between"),o(je,"class","dark:border-gray-850 my-2"),o(l,"class","flex flex-col gap-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(We,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(We,"type","submit"),o(Se,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m($,x){L($,e,x),r(e,t),r(t,l),r(l,a),r(a,i),r(i,f),r(a,c),r(a,_),r(_,b),r(b,g),r(_,m),r(_,E),r(E,w),r(w,y),r(y,I),r(w,T),r(w,A),r(A,M),ht(w,s[7],!0),r(a,G),fe&&fe.m(a,null),r(l,Q),r(l,R),r(l,F),r(l,C),r(C,K),r(K,j),r(C,B),r(C,W),r(W,Z),r(Z,q),r(W,U),r(W,ue),r(ue,he),r(he,J),r(J,Ee),r(he,Ve),r(Ve,Ce),ht(he,s[2],!0),r(C,ye),Ae&&Ae.m(C,null),r(C,Ne),r(C,je),r(C,Le),ae&&ae.m(C,null),r(e,Be),r(e,Se),r(Se,We),r(We,qe),ke=!0,He||(pe=[te(w,"change",s[18]),te(he,"change",s[22]),te(he,"change",s[23]),te(e,"submit",El(s[29]))],He=!0)},p($,x){(!ke||x[0]&2048)&&n!==(n=$[11].t("STT Settings")+"")&&N(f,n),(!ke||x[0]&2048)&&p!==(p=$[11].t("Speech-to-Text Engine")+"")&&N(g,p),(!ke||x[0]&2048)&&k!==(k=$[11].t("Whisper (Local)")+"")&&N(I,k),(!ke||x[0]&2048)&&H!==(H=$[11].t("Web API")+"")&&N(M,H),x[0]&128&&ht(w,$[7]),$[7]==="openai"?fe?(fe.p($,x),x[0]&128&&re(fe,1)):(fe=Er($),fe.c(),re(fe,1),fe.m(a,null)):fe&&(kt(),ve(fe,1,1,()=>{fe=null}),Et()),(!ke||x[0]&2048)&&z!==(z=$[11].t("TTS Settings")+"")&&N(j,z),(!ke||x[0]&2048)&&Y!==(Y=$[11].t("Text-to-Speech Engine")+"")&&N(q,Y),(!ke||x[0]&2048)&&ee!==(ee=$[11].t("Web API")+"")&&N(Ee,ee),(!ke||x[0]&2048)&&Pe!==(Pe=$[11].t("OpenAI")+"")&&N(Ce,Pe),x[0]&4&&ht(he,$[2]),$[2]==="openai"?Ae?(Ae.p($,x),x[0]&4&&re(Ae,1)):(Ae=wr($),Ae.c(),re(Ae,1),Ae.m(C,Ne)):Ae&&(kt(),ve(Ae,1,1,()=>{Ae=null}),Et()),ne===(ne=se($))&&ae?ae.p($,x):(ae&&ae.d(1),ae=ne&&ne($),ae&&(ae.c(),ae.m(C,null))),(!ke||x[0]&2048)&&Te!==(Te=$[11].t("Save")+"")&&N(qe,Te)},i($){ke||(re(fe),re(Ae),ke=!0)},o($){ve(fe),ve(Ae),ke=!1},d($){$&&u(e),fe&&fe.d(),Ae&&Ae.d(),ae&&ae.d(),He=!1,At(pe)}}}function Mo(s,e,t){let l;const a=Bs(),i=fl("i18n");Ut(s,i,Z=>t(11,l=Z));let{saveHandler:n}=e,f="",c="",_="",b="",p="",g="",m="",E="",w="",y=[],k=[];const I=()=>{t(9,y=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},T=()=>{t(10,k=[{name:"tts-1"},{name:"tts-1-hd"}])},S=()=>{const Z=setInterval(async()=>{t(9,y=await speechSynthesis.getVoices()),y.length>0&&clearInterval(Z)},100)},A=async()=>{await hi(localStorage.token,{tts:{OPENAI_API_BASE_URL:f,OPENAI_API_KEY:c,ENGINE:_,MODEL:b,VOICE:p},stt:{OPENAI_API_BASE_URL:g,OPENAI_API_KEY:m,ENGINE:E,MODEL:w}})&&(Ie.success(l.t("Audio settings updated successfully")),Rl.set(await hs()))};dl(async()=>{const Z=await di(localStorage.token);Z&&(console.log(Z),t(0,f=Z.tts.OPENAI_API_BASE_URL),t(1,c=Z.tts.OPENAI_API_KEY),t(2,_=Z.tts.ENGINE),t(3,b=Z.tts.MODEL),t(4,p=Z.tts.VOICE),t(5,g=Z.stt.OPENAI_API_BASE_URL),t(6,m=Z.stt.OPENAI_API_KEY),t(7,E=Z.stt.ENGINE),t(8,w=Z.stt.MODEL)),_==="openai"?(I(),T()):S()});function H(){E=zt(this),t(7,E)}function M(){g=this.value,t(5,g)}function G(Z){m=Z,t(6,m)}function Q(){w=this.value,t(8,w)}function R(){_=zt(this),t(2,_)}const F=Z=>{Z.target.value==="openai"?(I(),t(4,p="alloy"),t(3,b="tts-1")):(S(),t(4,p=""))};function C(){f=this.value,t(0,f)}function K(Z){c=Z,t(1,c)}function z(){p=zt(this),t(4,p),t(9,y)}function j(){p=this.value,t(4,p),t(9,y)}function B(){b=this.value,t(3,b)}const W=async()=>{await A(),a("save")};return s.$$set=Z=>{"saveHandler"in Z&&t(17,n=Z.saveHandler)},[f,c,_,b,p,g,m,E,w,y,k,l,a,i,I,S,A,n,H,M,G,Q,R,F,C,K,z,j,B,W]}class Oo extends ul{constructor(e){super(),cl(this,e,Mo,Ao,ol,{saveHandler:17},null,[-1,-1])}}function Dr(s,e,t){const l=s.slice();return l[34]=e[t],l}function Vr(s,e,t){const l=s.slice();return l[34]=e[t],l}function Po(s){let e,t=s[12].t("Off")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&4096&&t!==(t=a[12].t("Off")+"")&&N(l,t)},d(a){a&&u(e)}}}function Lo(s){let e,t=s[12].t("On")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&4096&&t!==(t=a[12].t("On")+"")&&N(l,t)},d(a){a&&u(e)}}}function No(s){let e,t,l=s[12].t("OpenAI API Config")+"",a,i,n,f,c,_,b,p,g,m,E;function w(k){s[26](k)}let y={placeholder:s[12].t("API Key")};return s[7]!==void 0&&(y.value=s[7]),b=new hl({props:y}),St.push(()=>Pt(b,"value",w)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("input"),_=D(),et(b.$$.fragment),this.h()},l(k){e=h(k,"DIV",{});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(u),i=V(I),n=h(I,"DIV",{class:!0});var S=v(n);f=h(S,"INPUT",{class:!0,placeholder:!0}),_=V(S),tt(b.$$.fragment,S),S.forEach(u),I.forEach(u),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(f,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",c=s[12].t("API Base URL")),f.required=!0,o(n,"class","flex gap-2 mb-1")},m(k,I){L(k,e,I),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),X(f,s[6]),r(n,_),lt(b,n,null),g=!0,m||(E=te(f,"input",s[25]),m=!0)},p(k,I){(!g||I[0]&4096)&&l!==(l=k[12].t("OpenAI API Config")+"")&&N(a,l),(!g||I[0]&4096&&c!==(c=k[12].t("API Base URL")))&&o(f,"placeholder",c),I[0]&64&&f.value!==k[6]&&X(f,k[6]);const T={};I[0]&4096&&(T.placeholder=k[12].t("API Key")),!p&&I[0]&128&&(p=!0,T.value=k[7],Ot(()=>p=!1)),b.$set(T)},i(k){g||(re(b.$$.fragment,k),g=!0)},o(k){ve(b.$$.fragment,k),g=!1},d(k){k&&u(e),st(b),m=!1,E()}}}function Uo(s){let e,t=s[12].t("ComfyUI Base URL")+"",l,a,i,n,f,c,_,b,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,m;return{c(){e=d("div"),l=O(t),a=D(),i=d("div"),n=d("div"),f=d("input"),_=D(),b=d("button"),b.innerHTML=p,this.h()},l(E){e=h(E,"DIV",{class:!0});var w=v(e);l=P(w,t),w.forEach(u),a=V(E),i=h(E,"DIV",{class:!0});var y=v(i);n=h(y,"DIV",{class:!0});var k=v(n);f=h(k,"INPUT",{class:!0,placeholder:!0}),k.forEach(u),_=V(y),b=h(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(b)!=="svelte-5hoes5"&&(b.innerHTML=p),y.forEach(u),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",c=s[12].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(n,"class","flex-1 mr-2"),o(b,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(b,"type","button"),o(i,"class","flex w-full")},m(E,w){L(E,e,w),r(e,l),L(E,a,w),L(E,i,w),r(i,n),r(n,f),X(f,s[5]),r(i,_),r(i,b),g||(m=[te(f,"input",s[23]),te(b,"click",s[24])],g=!0)},p(E,w){w[0]&4096&&t!==(t=E[12].t("ComfyUI Base URL")+"")&&N(l,t),w[0]&4096&&c!==(c=E[12].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&o(f,"placeholder",c),w[0]&32&&f.value!==E[5]&&X(f,E[5])},i:ct,o:ct,d(E){E&&(u(e),u(a),u(i)),g=!1,At(m)}}}function Co(s){let e,t=s[12].t("AUTOMATIC1111 Base URL")+"",l,a,i,n,f,c,_,b,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,m,E=s[12].t("Include `--api` flag when running stable-diffusion-webui")+"",w,y,k,I=s[12].t("(e.g. `sh webui.sh --api`)")+"",T,S,A,H=s[12].t("AUTOMATIC1111 Api Auth String")+"",M,G,Q,R,F,C,K=s[12].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",z,j,B,W=s[12].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",Z,Y,q,U;function ue(J){s[22](J)}let he={placeholder:s[12].t("Enter api auth string (e.g. username:password)"),required:!1};return s[4]!==void 0&&(he.value=s[4]),Q=new hl({props:he}),St.push(()=>Pt(Q,"value",ue)),{c(){e=d("div"),l=O(t),a=D(),i=d("div"),n=d("div"),f=d("input"),_=D(),b=d("button"),b.innerHTML=p,g=D(),m=d("div"),w=O(E),y=D(),k=d("a"),T=O(I),S=D(),A=d("div"),M=O(H),G=D(),et(Q.$$.fragment),F=D(),C=d("div"),z=O(K),j=D(),B=d("a"),Z=O(W),this.h()},l(J){e=h(J,"DIV",{class:!0});var ee=v(e);l=P(ee,t),ee.forEach(u),a=V(J),i=h(J,"DIV",{class:!0});var Ee=v(i);n=h(Ee,"DIV",{class:!0});var Ve=v(n);f=h(Ve,"INPUT",{class:!0,placeholder:!0}),Ve.forEach(u),_=V(Ee),b=h(Ee,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(b)!=="svelte-5hoes5"&&(b.innerHTML=p),Ee.forEach(u),g=V(J),m=h(J,"DIV",{class:!0});var Pe=v(m);w=P(Pe,E),y=V(Pe),k=h(Pe,"A",{class:!0,href:!0,target:!0});var Ce=v(k);T=P(Ce,I),Ce.forEach(u),Pe.forEach(u),S=V(J),A=h(J,"DIV",{class:!0});var ye=v(A);M=P(ye,H),ye.forEach(u),G=V(J),tt(Q.$$.fragment,J),F=V(J),C=h(J,"DIV",{class:!0});var Ne=v(C);z=P(Ne,K),j=V(Ne),B=h(Ne,"A",{class:!0,href:!0,target:!0});var je=v(B);Z=P(je,W),je.forEach(u),Ne.forEach(u),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",c=s[12].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(n,"class","flex-1 mr-2"),o(b,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(b,"type","button"),o(i,"class","flex w-full"),o(k,"class","text-gray-300 font-medium"),o(k,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(k,"target","_blank"),o(m,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(A,"class","mb-2.5 text-sm font-medium"),o(B,"class","text-gray-300 font-medium"),o(B,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),o(B,"target","_blank"),o(C,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(J,ee){L(J,e,ee),r(e,l),L(J,a,ee),L(J,i,ee),r(i,n),r(n,f),X(f,s[3]),r(i,_),r(i,b),L(J,g,ee),L(J,m,ee),r(m,w),r(m,y),r(m,k),r(k,T),L(J,S,ee),L(J,A,ee),r(A,M),L(J,G,ee),lt(Q,J,ee),L(J,F,ee),L(J,C,ee),r(C,z),r(C,j),r(C,B),r(B,Z),Y=!0,q||(U=[te(f,"input",s[20]),te(b,"click",s[21])],q=!0)},p(J,ee){(!Y||ee[0]&4096)&&t!==(t=J[12].t("AUTOMATIC1111 Base URL")+"")&&N(l,t),(!Y||ee[0]&4096&&c!==(c=J[12].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(f,"placeholder",c),ee[0]&8&&f.value!==J[3]&&X(f,J[3]),(!Y||ee[0]&4096)&&E!==(E=J[12].t("Include `--api` flag when running stable-diffusion-webui")+"")&&N(w,E),(!Y||ee[0]&4096)&&I!==(I=J[12].t("(e.g. `sh webui.sh --api`)")+"")&&N(T,I),(!Y||ee[0]&4096)&&H!==(H=J[12].t("AUTOMATIC1111 Api Auth String")+"")&&N(M,H);const Ee={};ee[0]&4096&&(Ee.placeholder=J[12].t("Enter api auth string (e.g. username:password)")),!R&&ee[0]&16&&(R=!0,Ee.value=J[4],Ot(()=>R=!1)),Q.$set(Ee),(!Y||ee[0]&4096)&&K!==(K=J[12].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&N(z,K),(!Y||ee[0]&4096)&&W!==(W=J[12].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&N(Z,W)},i(J){Y||(re(Q.$$.fragment,J),Y=!0)},o(J){ve(Q.$$.fragment,J),Y=!1},d(J){J&&(u(e),u(a),u(i),u(g),u(m),u(S),u(A),u(G),u(F),u(C)),st(Q,J),q=!1,At(U)}}}function Sr(s){let e,t,l,a,i=s[12].t("Set Default Model")+"",n,f,c,_,b,p,g,m,E=s[12].t("Set Image Size")+"",w,y,k,I,T,S,A,H,M,G=s[12].t("Set Steps")+"",Q,R,F,C,K,z,j,B;function W(q,U){return U[0]&66&&(b=null),b==null&&(b=q[1]==="openai"&&!q[6].includes("https://api.openai.com")),b?Ro:Ho}let Z=W(s,[-1,-1]),Y=Z(s);return{c(){e=d("hr"),t=D(),l=d("div"),a=d("div"),n=O(i),f=D(),c=d("div"),_=d("div"),Y.c(),p=D(),g=d("div"),m=d("div"),w=O(E),y=D(),k=d("div"),I=d("div"),T=d("input"),A=D(),H=d("div"),M=d("div"),Q=O(G),R=D(),F=d("div"),C=d("div"),K=d("input"),this.h()},l(q){e=h(q,"HR",{class:!0}),t=V(q),l=h(q,"DIV",{});var U=v(l);a=h(U,"DIV",{class:!0});var ue=v(a);n=P(ue,i),ue.forEach(u),f=V(U),c=h(U,"DIV",{class:!0});var he=v(c);_=h(he,"DIV",{class:!0});var J=v(_);Y.l(J),J.forEach(u),he.forEach(u),U.forEach(u),p=V(q),g=h(q,"DIV",{});var ee=v(g);m=h(ee,"DIV",{class:!0});var Ee=v(m);w=P(Ee,E),Ee.forEach(u),y=V(ee),k=h(ee,"DIV",{class:!0});var Ve=v(k);I=h(Ve,"DIV",{class:!0});var Pe=v(I);T=h(Pe,"INPUT",{class:!0,placeholder:!0}),Pe.forEach(u),Ve.forEach(u),ee.forEach(u),A=V(q),H=h(q,"DIV",{});var Ce=v(H);M=h(Ce,"DIV",{class:!0});var ye=v(M);Q=P(ye,G),ye.forEach(u),R=V(Ce),F=h(Ce,"DIV",{class:!0});var Ne=v(F);C=h(Ne,"DIV",{class:!0});var je=v(C);K=h(je,"INPUT",{class:!0,placeholder:!0}),je.forEach(u),Ne.forEach(u),Ce.forEach(u),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(_,"class","flex-1 mr-2"),o(c,"class","flex w-full"),o(m,"class","mb-2.5 text-sm font-medium"),o(T,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(T,"placeholder",S=s[12].t("Enter Image Size (e.g. 512x512)")),o(I,"class","flex-1 mr-2"),o(k,"class","flex w-full"),o(M,"class","mb-2.5 text-sm font-medium"),o(K,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(K,"placeholder",z=s[12].t("Enter Number of Steps (e.g. 50)")),o(C,"class","flex-1 mr-2"),o(F,"class","flex w-full")},m(q,U){L(q,e,U),L(q,t,U),L(q,l,U),r(l,a),r(a,n),r(l,f),r(l,c),r(c,_),Y.m(_,null),L(q,p,U),L(q,g,U),r(g,m),r(m,w),r(g,y),r(g,k),r(k,I),r(I,T),X(T,s[10]),L(q,A,U),L(q,H,U),r(H,M),r(M,Q),r(H,R),r(H,F),r(F,C),r(C,K),X(K,s[11]),j||(B=[te(T,"input",s[29]),te(K,"input",s[30])],j=!0)},p(q,U){U[0]&4096&&i!==(i=q[12].t("Set Default Model")+"")&&N(n,i),Z===(Z=W(q,U))&&Y?Y.p(q,U):(Y.d(1),Y=Z(q),Y&&(Y.c(),Y.m(_,null))),U[0]&4096&&E!==(E=q[12].t("Set Image Size")+"")&&N(w,E),U[0]&4096&&S!==(S=q[12].t("Enter Image Size (e.g. 512x512)"))&&o(T,"placeholder",S),U[0]&1024&&T.value!==q[10]&&X(T,q[10]),U[0]&4096&&G!==(G=q[12].t("Set Steps")+"")&&N(Q,G),U[0]&4096&&z!==(z=q[12].t("Enter Number of Steps (e.g. 50)"))&&o(K,"placeholder",z),U[0]&2048&&K.value!==q[11]&&X(K,q[11])},d(q){q&&(u(e),u(t),u(l),u(p),u(g),u(A),u(H)),Y.d(),j=!1,At(B)}}}function Ho(s){let e,t,l,a,i,n=!s[8]&&Ar(s),f=nt(s[9]??[]),c=[];for(let _=0;_<f.length;_+=1)c[_]=Mr(Dr(s,f,_));return{c(){e=d("select"),n&&n.c(),t=Lt();for(let _=0;_<c.length;_+=1)c[_].c();this.h()},l(_){e=h(_,"SELECT",{class:!0,placeholder:!0});var b=v(e);n&&n.l(b),t=Lt();for(let p=0;p<c.length;p+=1)c[p].l(b);b.forEach(u),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",l=s[12].t("Select a model")),e.required=!0,s[8]===void 0&&Kt(()=>s[28].call(e))},m(_,b){L(_,e,b),n&&n.m(e,null),r(e,t);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);ht(e,s[8],!0),a||(i=te(e,"change",s[28]),a=!0)},p(_,b){if(_[8]?n&&(n.d(1),n=null):n?n.p(_,b):(n=Ar(_),n.c(),n.m(e,t)),b[0]&512){f=nt(_[9]??[]);let p;for(p=0;p<f.length;p+=1){const g=Dr(_,f,p);c[p]?c[p].p(g,b):(c[p]=Mr(g),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}b[0]&4096&&l!==(l=_[12].t("Select a model"))&&o(e,"placeholder",l),b[0]&768&&ht(e,_[8])},d(_){_&&u(e),n&&n.d(),Ct(c,_),a=!1,i()}}}function Ro(s){let e,t,l,a,i,n,f,c=nt(s[9]??[]),_=[];for(let b=0;b<c.length;b+=1)_[b]=Or(Vr(s,c,b));return{c(){e=d("div"),t=d("div"),l=d("input"),a=D(),i=d("datalist");for(let b=0;b<_.length;b+=1)_[b].c();this.h()},l(b){e=h(b,"DIV",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var g=v(t);l=h(g,"INPUT",{list:!0,class:!0,placeholder:!0}),a=V(g),i=h(g,"DATALIST",{id:!0});var m=v(i);for(let E=0;E<_.length;E+=1)_[E].l(m);m.forEach(u),g.forEach(u),p.forEach(u),this.h()},h(){o(l,"list","model-list"),o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select a model"),o(i,"id","model-list"),o(t,"class","flex-1"),o(e,"class","flex w-full")},m(b,p){L(b,e,p),r(e,t),r(t,l),X(l,s[8]),r(t,a),r(t,i);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(i,null);n||(f=te(l,"input",s[27]),n=!0)},p(b,p){if(p[0]&768&&l.value!==b[8]&&X(l,b[8]),p[0]&512){c=nt(b[9]??[]);let g;for(g=0;g<c.length;g+=1){const m=Vr(b,c,g);_[g]?_[g].p(m,p):(_[g]=Or(m),_[g].c(),_[g].m(i,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}},d(b){b&&u(e),Ct(_,b),n=!1,f()}}}function Ar(s){let e,t=s[12].t("Select a model")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&4096&&t!==(t=a[12].t("Select a model")+"")&&N(l,t)},d(a){a&&u(e)}}}function Mr(s){let e,t=s[34].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[34].id,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n[0]&512&&t!==(t=i[34].name+"")&&N(l,t),n[0]&512&&a!==(a=i[34].id)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function Or(s){let e,t=s[34].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[34].id,X(e,e.__value)},m(i,n){L(i,e,n),r(e,l)},p(i,n){n[0]&512&&t!==(t=i[34].name+"")&&N(l,t),n[0]&512&&a!==(a=i[34].id)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function Pr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function Bo(s){let e,t,l,a,i=s[12].t("Image Settings")+"",n,f,c,_,b=s[12].t("Image Generation Engine")+"",p,g,m,E,w,y=s[12].t("Default (Automatic1111)")+"",k,I,T=s[12].t("ComfyUI")+"",S,A,H=s[12].t("Open AI (Dall-E)")+"",M,G,Q,R,F,C,K=s[12].t("Image Generation (Experimental)")+"",z,j,B,W,Z,Y,q,U,ue,he,J,ee,Ee=s[12].t("Save")+"",Ve,Pe,Ce,ye,Ne,je;function Le(pe,fe){return pe[2]===!0?Lo:Po}let Be=Le(s),Se=Be(s);const We=[Co,Uo,No],Te=[];function qe(pe,fe){return pe[1]===""?0:pe[1]==="comfyui"?1:pe[1]==="openai"?2:-1}~(q=qe(s))&&(U=Te[q]=We[q](s));let ke=s[2]&&Sr(s),He=s[0]&&Pr();return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),n=O(i),f=D(),c=d("div"),_=d("div"),p=O(b),g=D(),m=d("div"),E=d("select"),w=d("option"),k=O(y),I=d("option"),S=O(T),A=d("option"),M=O(H),Q=D(),R=d("div"),F=d("div"),C=d("div"),z=O(K),j=D(),B=d("button"),Se.c(),W=D(),Z=d("hr"),Y=D(),U&&U.c(),ue=D(),ke&&ke.c(),he=D(),J=d("div"),ee=d("button"),Ve=O(Ee),Pe=D(),He&&He.c(),this.h()},l(pe){e=h(pe,"FORM",{class:!0});var fe=v(e);t=h(fe,"DIV",{class:!0});var Ae=v(t);l=h(Ae,"DIV",{});var se=v(l);a=h(se,"DIV",{class:!0});var ne=v(a);n=P(ne,i),ne.forEach(u),f=V(se),c=h(se,"DIV",{class:!0});var ae=v(c);_=h(ae,"DIV",{class:!0});var $=v(_);p=P($,b),$.forEach(u),g=V(ae),m=h(ae,"DIV",{class:!0});var x=v(m);E=h(x,"SELECT",{class:!0,placeholder:!0});var ge=v(E);w=h(ge,"OPTION",{});var be=v(w);k=P(be,y),be.forEach(u),I=h(ge,"OPTION",{});var De=v(I);S=P(De,T),De.forEach(u),A=h(ge,"OPTION",{});var we=v(A);M=P(we,H),we.forEach(u),ge.forEach(u),x.forEach(u),ae.forEach(u),Q=V(se),R=h(se,"DIV",{});var de=v(R);F=h(de,"DIV",{class:!0});var oe=v(F);C=h(oe,"DIV",{class:!0});var Me=v(C);z=P(Me,K),Me.forEach(u),j=V(oe),B=h(oe,"BUTTON",{class:!0,type:!0});var ze=v(B);Se.l(ze),ze.forEach(u),oe.forEach(u),de.forEach(u),se.forEach(u),W=V(Ae),Z=h(Ae,"HR",{class:!0}),Y=V(Ae),U&&U.l(Ae),ue=V(Ae),ke&&ke.l(Ae),Ae.forEach(u),he=V(fe),J=h(fe,"DIV",{class:!0});var Ue=v(J);ee=h(Ue,"BUTTON",{class:!0,type:!0});var Ye=v(ee);Ve=P(Ye,Ee),Pe=V(Ye),He&&He.l(Ye),Ye.forEach(u),Ue.forEach(u),fe.forEach(u),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(_,"class","self-center text-xs font-medium"),w.__value="",X(w,w.__value),I.__value="comfyui",X(I,I.__value),A.__value="openai",X(A,A.__value),o(E,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(E,"placeholder",G=s[12].t("Select a mode")),s[1]===void 0&&Kt(()=>s[17].call(E)),o(m,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(C,"class","self-center text-xs font-medium"),o(B,"class","p-1 px-3 text-xs flex rounded transition"),o(B,"type","button"),o(F,"class","py-0.5 flex w-full justify-between"),o(Z,"class","dark:border-gray-850"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden"),o(ee,"class",Ce="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(ee,"type","submit"),ee.disabled=s[0],o(J,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(pe,fe){L(pe,e,fe),r(e,t),r(t,l),r(l,a),r(a,n),r(l,f),r(l,c),r(c,_),r(_,p),r(c,g),r(c,m),r(m,E),r(E,w),r(w,k),r(E,I),r(I,S),r(E,A),r(A,M),ht(E,s[1],!0),r(l,Q),r(l,R),r(R,F),r(F,C),r(C,z),r(F,j),r(F,B),Se.m(B,null),r(t,W),r(t,Z),r(t,Y),~q&&Te[q].m(t,null),r(t,ue),ke&&ke.m(t,null),r(e,he),r(e,J),r(J,ee),r(ee,Ve),r(ee,Pe),He&&He.m(ee,null),ye=!0,Ne||(je=[te(E,"change",s[17]),te(E,"change",s[18]),te(B,"click",s[19]),te(e,"submit",El(s[31]))],Ne=!0)},p(pe,fe){(!ye||fe[0]&4096)&&i!==(i=pe[12].t("Image Settings")+"")&&N(n,i),(!ye||fe[0]&4096)&&b!==(b=pe[12].t("Image Generation Engine")+"")&&N(p,b),(!ye||fe[0]&4096)&&y!==(y=pe[12].t("Default (Automatic1111)")+"")&&N(k,y),(!ye||fe[0]&4096)&&T!==(T=pe[12].t("ComfyUI")+"")&&N(S,T),(!ye||fe[0]&4096)&&H!==(H=pe[12].t("Open AI (Dall-E)")+"")&&N(M,H),(!ye||fe[0]&4096&&G!==(G=pe[12].t("Select a mode")))&&o(E,"placeholder",G),fe[0]&2&&ht(E,pe[1]),(!ye||fe[0]&4096)&&K!==(K=pe[12].t("Image Generation (Experimental)")+"")&&N(z,K),Be===(Be=Le(pe))&&Se?Se.p(pe,fe):(Se.d(1),Se=Be(pe),Se&&(Se.c(),Se.m(B,null)));let Ae=q;q=qe(pe),q===Ae?~q&&Te[q].p(pe,fe):(U&&(kt(),ve(Te[Ae],1,1,()=>{Te[Ae]=null}),Et()),~q?(U=Te[q],U?U.p(pe,fe):(U=Te[q]=We[q](pe),U.c()),re(U,1),U.m(t,ue)):U=null),pe[2]?ke?ke.p(pe,fe):(ke=Sr(pe),ke.c(),ke.m(t,null)):ke&&(ke.d(1),ke=null),(!ye||fe[0]&4096)&&Ee!==(Ee=pe[12].t("Save")+"")&&N(Ve,Ee),pe[0]?He||(He=Pr(),He.c(),He.m(ee,null)):He&&(He.d(1),He=null),(!ye||fe[0]&1&&Ce!==(Ce="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(pe[0]?" cursor-not-allowed":"")))&&o(ee,"class",Ce),(!ye||fe[0]&1)&&(ee.disabled=pe[0])},i(pe){ye||(re(U),ye=!0)},o(pe){ve(U),ye=!1},d(pe){pe&&u(e),Se.d(),~q&&Te[q].d(),ke&&ke.d(),He&&He.d(),Ne=!1,At(je)}}}function jo(s,e,t){let l,a;Ut(s,ta,U=>t(32,l=U));const i=Bs(),n=fl("i18n");Ut(s,n,U=>t(12,a=U));let f=!1,c="",_=!1,b="",p="",g="",m="",E="",w="",y=null,k="",I=50;const T=async()=>{t(9,y=await mi(localStorage.token).catch(U=>(Ie.error(U),null))),t(8,w=await bi(localStorage.token).catch(U=>""))},S=async()=>{if(c==="comfyui"){const U=await Za(localStorage.token,{COMFYUI_BASE_URL:g}).catch(ue=>(Ie.error(ue),console.log(ue),null));U?(t(5,g=U.COMFYUI_BASE_URL),await T(),y&&Ie.success(a.t("Server connection verified"))):t(5,{COMFYUI_BASE_URL:g}=await Xs(localStorage.token),g)}else{const U=await Za(localStorage.token,{AUTOMATIC1111_BASE_URL:b,AUTOMATIC1111_API_AUTH:p}).catch(ue=>(Ie.error(ue),null));U?(t(3,b=U.AUTOMATIC1111_BASE_URL),t(4,p=U.AUTOMATIC1111_API_AUTH),await T(),y&&Ie.success(a.t("Server connection verified"))):t(3,{AUTOMATIC1111_BASE_URL:b,AUTOMATIC1111_API_AUTH:p}=await Xs(localStorage.token),b,t(4,p))}},A=async()=>{const U=await ki(localStorage.token,c,_).catch(ue=>(Ie.error(ue),null));U&&(t(1,c=U.engine),t(2,_=U.enabled)),_&&(Rl.set(await hs()),T())};dl(async()=>{if(l.role==="admin"){const U=await _i(localStorage.token).catch(J=>(Ie.error(J),null));U&&(t(1,c=U.engine),t(2,_=U.enabled));const ue=await Xs(localStorage.token);t(3,b=ue.AUTOMATIC1111_BASE_URL),t(4,p=ue.AUTOMATIC1111_API_AUTH),t(5,g=ue.COMFYUI_BASE_URL);const he=await vi(localStorage.token);t(7,E=he.OPENAI_API_KEY),t(6,m=he.OPENAI_API_BASE_URL),t(10,k=await pi(localStorage.token)),t(11,I=await gi(localStorage.token)),_&&T()}});function H(){c=zt(this),t(1,c)}const M=async()=>{await A()},G=()=>{c===""&&b===""?(Ie.error(a.t("AUTOMATIC1111 Base URL is required.")),t(2,_=!1)):c==="comfyui"&&g===""?(Ie.error(a.t("ComfyUI Base URL is required.")),t(2,_=!1)):c==="openai"&&E===""?(Ie.error(a.t("OpenAI API Key is required.")),t(2,_=!1)):t(2,_=!_),A()};function Q(){b=this.value,t(3,b)}const R=()=>{S()};function F(U){p=U,t(4,p)}function C(){g=this.value,t(5,g)}const K=()=>{S()};function z(){m=this.value,t(6,m)}function j(U){E=U,t(7,E)}function B(){w=this.value,t(8,w),t(9,y)}function W(){w=zt(this),t(8,w),t(9,y)}function Z(){k=this.value,t(10,k)}function Y(){I=this.value,t(11,I)}return[f,c,_,b,p,g,m,E,w,y,k,I,a,i,n,S,A,H,M,G,Q,R,F,C,K,z,j,B,W,Z,Y,async()=>{t(0,f=!0),c==="openai"&&await Ei(localStorage.token,m,E),await wi(localStorage.token,w),await yi(localStorage.token,k).catch(U=>(Ie.error(U),null)),await Ii(localStorage.token,I).catch(U=>(Ie.error(U),null)),i("save"),t(0,f=!1)}]}class Zo extends ul{constructor(e){super(),cl(this,e,jo,Bo,ol,{},null,[-1,-1])}}function Lr(s,e,t){const l=s.slice();return l[27]=e[t],l[28]=e,l[29]=t,l}function Nr(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function Ur(s,e,t){const l=s.slice();return l[33]=e[t],l}function Cr(s,e,t){const l=s.slice();return l[33]=e[t],l}function Go(s){let e,t;return{c(){e=mt("svg"),t=mt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=bt(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-5 h-5")},m(l,a){L(l,e,a),r(e,t)},p:ct,d(l){l&&u(e)}}}function Hr(s){let e,t=s[33].name+"",l,a,i;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(n){e=h(n,"OPTION",{class:!0});var f=v(e);l=P(f,t),a=V(f),f.forEach(u),this.h()},h(){e.__value=i=s[33].id,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,f){L(n,e,f),r(e,l),r(e,a)},p(n,f){f[0]&16&&t!==(t=n[33].name+"")&&N(l,t),f[0]&16&&i!==(i=n[33].id)&&(e.__value=i,X(e,e.__value))},d(n){n&&u(e)}}}function Rr(s){let e,t=s[33].name+"",l,a,i;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(n){e=h(n,"OPTION",{class:!0});var f=v(e);l=P(f,t),a=V(f),f.forEach(u),this.h()},h(){e.__value=i=s[33].id,X(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,f){L(n,e,f),r(e,l),r(e,a)},p(n,f){f[0]&16&&t!==(t=n[33].name+"")&&N(l,t),f[0]&16&&i!==(i=n[33].id)&&(e.__value=i,X(e,e.__value))},d(n){n&&u(e)}}}function Br(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.selected=!0,e.disabled=!0,o(e,"class","text-gray-900")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Type")+"")&&N(l,t)},d(a){a&&u(e)}}}function zo(s){let e,t,l;function a(n){s[17](n,s[30])}let i={};return s[30].dismissible!==void 0&&(i.state=s[30].dismissible),e=new Al({props:i}),St.push(()=>Pt(e,"state",a)),{c(){et(e.$$.fragment)},l(n){tt(e.$$.fragment,n)},m(n,f){lt(e,n,f),l=!0},p(n,f){s=n;const c={};!t&&f[0]&4&&(t=!0,c.state=s[30].dismissible,Ot(()=>t=!1)),e.$set(c)},i(n){l||(re(e.$$.fragment,n),l=!0)},o(n){ve(e.$$.fragment,n),l=!1},d(n){st(e,n)}}}function jr(s){let e,t,l,a,i=s[3].t("Info")+"",n,f,c=s[3].t("Warning")+"",_,b,p=s[3].t("Error")+"",g,m,E=s[3].t("Success")+"",w,y,k,I,T,S,A,H,M,G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',Q,R,F,C,K=s[30].type==""&&Br(s);function z(){s[15].call(l,s[31],s[32])}function j(){s[16].call(k,s[31],s[32])}A=new ql({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[zo]},$$scope:{ctx:s}}});function B(){return s[18](s[32])}return{c(){e=d("div"),t=d("div"),l=d("select"),K&&K.c(),a=d("option"),n=O(i),f=d("option"),_=O(c),b=d("option"),g=O(p),m=d("option"),w=O(E),y=D(),k=d("input"),T=D(),S=d("div"),et(A.$$.fragment),H=D(),M=d("button"),M.innerHTML=G,Q=D(),this.h()},l(W){e=h(W,"DIV",{class:!0});var Z=v(e);t=h(Z,"DIV",{class:!0});var Y=v(t);l=h(Y,"SELECT",{class:!0});var q=v(l);K&&K.l(q),a=h(q,"OPTION",{class:!0});var U=v(a);n=P(U,i),U.forEach(u),f=h(q,"OPTION",{class:!0});var ue=v(f);_=P(ue,c),ue.forEach(u),b=h(q,"OPTION",{class:!0});var he=v(b);g=P(he,p),he.forEach(u),m=h(q,"OPTION",{class:!0});var J=v(m);w=P(J,E),J.forEach(u),q.forEach(u),y=V(Y),k=h(Y,"INPUT",{class:!0,placeholder:!0}),T=V(Y),S=h(Y,"DIV",{class:!0});var ee=v(S);tt(A.$$.fragment,ee),ee.forEach(u),Y.forEach(u),H=V(Z),M=h(Z,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(M)!=="svelte-nlagmo"&&(M.innerHTML=G),Q=V(Z),Z.forEach(u),this.h()},h(){a.__value="info",X(a,a.__value),o(a,"class","text-gray-900"),f.__value="warning",X(f,f.__value),o(f,"class","text-gray-900"),b.__value="error",X(b,b.__value),o(b,"class","text-gray-900"),m.__value="success",X(m,m.__value),o(m,"class","text-gray-900"),o(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[30].type===void 0&&Kt(z),o(k,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),o(k,"placeholder",I=s[3].t("Content")),o(S,"class","relative top-1.5 -left-2"),o(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),o(M,"class","px-2"),o(M,"type","button"),o(e,"class","flex justify-between")},m(W,Z){L(W,e,Z),r(e,t),r(t,l),K&&K.m(l,null),r(l,a),r(a,n),r(l,f),r(f,_),r(l,b),r(b,g),r(l,m),r(m,w),ht(l,s[30].type,!0),r(t,y),r(t,k),X(k,s[30].content),r(t,T),r(t,S),lt(A,S,null),r(e,H),r(e,M),r(e,Q),R=!0,F||(C=[te(l,"change",z),te(k,"input",j),te(M,"click",B)],F=!0)},p(W,Z){s=W,s[30].type==""?K?K.p(s,Z):(K=Br(s),K.c(),K.m(l,a)):K&&(K.d(1),K=null),(!R||Z[0]&8)&&i!==(i=s[3].t("Info")+"")&&N(n,i),(!R||Z[0]&8)&&c!==(c=s[3].t("Warning")+"")&&N(_,c),(!R||Z[0]&8)&&p!==(p=s[3].t("Error")+"")&&N(g,p),(!R||Z[0]&8)&&E!==(E=s[3].t("Success")+"")&&N(w,E),Z[0]&4&&ht(l,s[30].type),(!R||Z[0]&8&&I!==(I=s[3].t("Content")))&&o(k,"placeholder",I),Z[0]&4&&k.value!==s[30].content&&X(k,s[30].content);const Y={};Z[0]&8&&(Y.content=s[3].t("Dismissible")),Z[0]&4|Z[1]&128&&(Y.$$scope={dirty:Z,ctx:s}),A.$set(Y)},i(W){R||(re(A.$$.fragment,W),R=!0)},o(W){ve(A.$$.fragment,W),R=!1},d(W){W&&u(e),K&&K.d(),st(A),F=!1,At(C)}}}function Zr(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",i,n,f,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',_,b,p,g,m,E=nt(s[1]),w=[];for(let k=0;k<E.length;k+=1)w[k]=Gr(Lr(s,E,k));let y=s[1].length>0&&zr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("button"),f.innerHTML=c,_=D(),b=d("div");for(let k=0;k<w.length;k+=1)w[k].c();p=D(),y&&y.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);l=h(T,"DIV",{class:!0});var S=v(l);i=P(S,a),S.forEach(u),n=V(T),f=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(f)!=="svelte-192kpg7"&&(f.innerHTML=c),T.forEach(u),_=V(I),b=h(I,"DIV",{class:!0});var A=v(b);for(let H=0;H<w.length;H+=1)w[H].l(A);A.forEach(u),p=V(I),y&&y.l(I),I.forEach(u),this.h()},h(){o(l,"class","self-center text-sm font-semibold"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between mb-2"),o(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),o(e,"class","space-y-3")},m(k,I){L(k,e,I),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),r(e,_),r(e,b);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(b,null);r(e,p),y&&y.m(e,null),g||(m=te(f,"click",s[19]),g=!0)},p(k,I){if(I[0]&8&&a!==(a=k[3].t("Default Prompt Suggestions")+"")&&N(i,a),I[0]&10){E=nt(k[1]);let T;for(T=0;T<E.length;T+=1){const S=Lr(k,E,T);w[T]?w[T].p(S,I):(w[T]=Gr(S),w[T].c(),w[T].m(b,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=E.length}k[1].length>0?y?y.p(k,I):(y=zr(k),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(k){k&&u(e),Ct(w,k),y&&y.d(),g=!1,m()}}}function Gr(s){let e,t,l,a,i,n,f,c,_,b,p,g,m,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,y,k;function I(){s[20].call(a,s[28],s[29])}function T(){s[21].call(f,s[28],s[29])}function S(){s[22].call(b,s[28],s[29])}function A(){return s[23](s[29])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),n=D(),f=d("input"),_=D(),b=d("input"),g=D(),m=d("button"),m.innerHTML=E,w=D(),this.h()},l(H){e=h(H,"DIV",{class:!0});var M=v(e);t=h(M,"DIV",{class:!0});var G=v(t);l=h(G,"DIV",{class:!0});var Q=v(l);a=h(Q,"INPUT",{class:!0,placeholder:!0}),n=V(Q),f=h(Q,"INPUT",{class:!0,placeholder:!0}),Q.forEach(u),_=V(G),b=h(G,"INPUT",{class:!0,placeholder:!0}),G.forEach(u),g=V(M),m=h(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(m)!=="svelte-1dyt8gv"&&(m.innerHTML=E),w=V(M),M.forEach(u),this.h()},h(){o(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(a,"placeholder",i=s[3].t("Title (e.g. Tell me a fun fact)")),o(f,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(f,"placeholder",c=s[3].t("Subtitle (e.g. about the Roman Empire)")),o(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),o(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(b,"placeholder",p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(t,"class","flex flex-col flex-1 pl-1"),o(m,"class","px-3"),o(m,"type","button"),o(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(H,M){L(H,e,M),r(e,t),r(t,l),r(l,a),X(a,s[27].title[0]),r(l,n),r(l,f),X(f,s[27].title[1]),r(t,_),r(t,b),X(b,s[27].content),r(e,g),r(e,m),r(e,w),y||(k=[te(a,"input",I),te(f,"input",T),te(b,"input",S),te(m,"click",A)],y=!0)},p(H,M){s=H,M[0]&8&&i!==(i=s[3].t("Title (e.g. Tell me a fun fact)"))&&o(a,"placeholder",i),M[0]&2&&a.value!==s[27].title[0]&&X(a,s[27].title[0]),M[0]&8&&c!==(c=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&o(f,"placeholder",c),M[0]&2&&f.value!==s[27].title[1]&&X(f,s[27].title[1]),M[0]&8&&p!==(p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(b,"placeholder",p),M[0]&2&&b.value!==s[27].content&&X(b,s[27].content)},d(H){H&&u(e),y=!1,At(k)}}}function zr(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=O(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&N(l,t)},d(a){a&&u(e)}}}function Ko(s){let e,t,l,a,i,n=s[3].t("Set Task Model")+"",f,c,_,b,p,g,m,E=s[3].t("Local Models")+"",w,y,k,I,T=s[3].t("Current Model")+"",S,A,H,M,G,Q=s[3].t("External Models")+"",R,F,C,K,z=s[3].t("Current Model")+"",j,B,W,Z,Y,q=s[3].t("Title Generation Prompt")+"",U,ue,he,J,ee,Ee,Ve=s[3].t("Search Query Generation Prompt")+"",Pe,Ce,ye,Ne,je,Le,Be=s[3].t("Search Query Generation Prompt Length Threshold")+"",Se,We,Te,qe,ke,He,pe,fe,Ae,se=s[3].t("Banners")+"",ne,ae,$,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',ge,be,De,we,de,oe,Me,ze=s[3].t("Save")+"",Ue,Ye,Je,Fe;_=new ql({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[Go]},$$scope:{ctx:s}}});let it=nt(s[4].filter(Kr)),Ze=[];for(let _e=0;_e<it.length;_e+=1)Ze[_e]=Hr(Cr(s,it,_e));let xe=nt(s[4]),Oe=[];for(let _e=0;_e<xe.length;_e+=1)Oe[_e]=Rr(Ur(s,xe,_e));let rt=nt(s[2]),$e=[];for(let _e=0;_e<rt.length;_e+=1)$e[_e]=jr(Nr(s,rt,_e));const ft=_e=>ve($e[_e],1,1,()=>{$e[_e]=null});let Re=s[5].role==="admin"&&Zr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=O(n),c=D(),et(_.$$.fragment),b=D(),p=d("div"),g=d("div"),m=d("div"),w=O(E),y=D(),k=d("select"),I=d("option"),S=O(T);for(let _e=0;_e<Ze.length;_e+=1)Ze[_e].c();H=D(),M=d("div"),G=d("div"),R=O(Q),F=D(),C=d("select"),K=d("option"),j=O(z);for(let _e=0;_e<Oe.length;_e+=1)Oe[_e].c();W=D(),Z=d("div"),Y=d("div"),U=O(q),ue=D(),he=d("textarea"),J=D(),ee=d("div"),Ee=d("div"),Pe=O(Ve),Ce=D(),ye=d("textarea"),Ne=D(),je=d("div"),Le=d("div"),Se=O(Be),We=D(),Te=d("input"),qe=D(),ke=d("hr"),He=D(),pe=d("div"),fe=d("div"),Ae=d("div"),ne=O(se),ae=D(),$=d("button"),$.innerHTML=x,ge=D(),be=d("div");for(let _e=0;_e<$e.length;_e+=1)$e[_e].c();we=D(),Re&&Re.c(),de=D(),oe=d("div"),Me=d("button"),Ue=O(ze),this.h()},l(_e){e=h(_e,"FORM",{class:!0});var ie=v(e);t=h(ie,"DIV",{class:!0});var ce=v(t);l=h(ce,"DIV",{});var le=v(l);a=h(le,"DIV",{class:!0});var Xe=v(a);i=h(Xe,"DIV",{class:!0});var vt=v(i);f=P(vt,n),vt.forEach(u),c=V(Xe),tt(_.$$.fragment,Xe),Xe.forEach(u),b=V(le),p=h(le,"DIV",{class:!0});var _t=v(p);g=h(_t,"DIV",{class:!0});var Dt=v(g);m=h(Dt,"DIV",{class:!0});var Vt=v(m);w=P(Vt,E),Vt.forEach(u),y=V(Dt),k=h(Dt,"SELECT",{class:!0,placeholder:!0});var Ht=v(k);I=h(Ht,"OPTION",{});var qt=v(I);S=P(qt,T),qt.forEach(u);for(let Qe=0;Qe<Ze.length;Qe+=1)Ze[Qe].l(Ht);Ht.forEach(u),Dt.forEach(u),H=V(_t),M=h(_t,"DIV",{class:!0});var Mt=v(M);G=h(Mt,"DIV",{class:!0});var It=v(G);R=P(It,Q),It.forEach(u),F=V(Mt),C=h(Mt,"SELECT",{class:!0,placeholder:!0});var Rt=v(C);K=h(Rt,"OPTION",{});var Nt=v(K);j=P(Nt,z),Nt.forEach(u);for(let Qe=0;Qe<Oe.length;Qe+=1)Oe[Qe].l(Rt);Rt.forEach(u),Mt.forEach(u),_t.forEach(u),W=V(le),Z=h(le,"DIV",{class:!0});var Bt=v(Z);Y=h(Bt,"DIV",{class:!0});var Wt=v(Y);U=P(Wt,q),Wt.forEach(u),ue=V(Bt),he=h(Bt,"TEXTAREA",{class:!0,rows:!0}),v(he).forEach(u),Bt.forEach(u),J=V(le),ee=h(le,"DIV",{class:!0});var wt=v(ee);Ee=h(wt,"DIV",{class:!0});var ot=v(Ee);Pe=P(ot,Ve),ot.forEach(u),Ce=V(wt),ye=h(wt,"TEXTAREA",{class:!0,rows:!0}),v(ye).forEach(u),wt.forEach(u),Ne=V(le),je=h(le,"DIV",{class:!0});var pt=v(je);Le=h(pt,"DIV",{class:!0});var ut=v(Le);Se=P(ut,Be),ut.forEach(u),We=V(pt),Te=h(pt,"INPUT",{class:!0,type:!0}),pt.forEach(u),le.forEach(u),qe=V(ce),ke=h(ce,"HR",{class:!0}),He=V(ce),pe=h(ce,"DIV",{class:!0});var Ft=v(pe);fe=h(Ft,"DIV",{class:!0});var jt=v(fe);Ae=h(jt,"DIV",{class:!0});var Zt=v(Ae);ne=P(Zt,se),Zt.forEach(u),ae=V(jt),$=h(jt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at($)!=="svelte-1nhoygc"&&($.innerHTML=x),jt.forEach(u),ge=V(Ft),be=h(Ft,"DIV",{class:!0});var Tt=v(be);for(let Qe=0;Qe<$e.length;Qe+=1)$e[Qe].l(Tt);Tt.forEach(u),Ft.forEach(u),we=V(ce),Re&&Re.l(ce),ce.forEach(u),de=V(ie),oe=h(ie,"DIV",{class:!0});var Yt=v(oe);Me=h(Yt,"BUTTON",{class:!0,type:!0});var Ge=v(Me);Ue=P(Ge,ze),Ge.forEach(u),Yt.forEach(u),ie.forEach(u),this.h()},h(){o(i,"class","mr-1"),o(a,"class","mb-2.5 text-sm font-medium flex"),o(m,"class","text-xs mb-1"),I.__value="",X(I,I.__value),I.selected=!0,o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"placeholder",A=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Kt(()=>s[9].call(k)),o(g,"class","flex-1"),o(G,"class","text-xs mb-1"),K.__value="",X(K,K.__value),K.selected=!0,o(C,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(C,"placeholder",B=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Kt(()=>s[10].call(C)),o(M,"class","flex-1"),o(p,"class","flex w-full gap-2"),o(Y,"class","mb-2.5 text-sm font-medium"),o(he,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(he,"rows","6"),o(Z,"class","mt-3"),o(Ee,"class","mb-2.5 text-sm font-medium"),o(ye,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(ye,"rows","6"),o(ee,"class","mt-3"),o(Le,"class","mb-2.5 text-sm font-medium"),o(Te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(Te,"type","number"),o(je,"class","mt-3"),o(ke,"class","dark:border-gray-850 my-3"),o(Ae,"class","self-center text-sm font-semibold"),o($,"class","p-1 px-3 text-xs flex rounded transition"),o($,"type","button"),o(fe,"class","flex w-full justify-between"),o(be,"class","flex flex-col space-y-1"),o(pe,"class",De="space-y-3 "+(s[2].length>0?" mb-3":"")),o(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Me,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Me,"type","submit"),o(oe,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(_e,ie){L(_e,e,ie),r(e,t),r(t,l),r(l,a),r(a,i),r(i,f),r(a,c),lt(_,a,null),r(l,b),r(l,p),r(p,g),r(g,m),r(m,w),r(g,y),r(g,k),r(k,I),r(I,S);for(let ce=0;ce<Ze.length;ce+=1)Ze[ce]&&Ze[ce].m(k,null);ht(k,s[0].TASK_MODEL,!0),r(p,H),r(p,M),r(M,G),r(G,R),r(M,F),r(M,C),r(C,K),r(K,j);for(let ce=0;ce<Oe.length;ce+=1)Oe[ce]&&Oe[ce].m(C,null);ht(C,s[0].TASK_MODEL_EXTERNAL,!0),r(l,W),r(l,Z),r(Z,Y),r(Y,U),r(Z,ue),r(Z,he),X(he,s[0].TITLE_GENERATION_PROMPT_TEMPLATE),r(l,J),r(l,ee),r(ee,Ee),r(Ee,Pe),r(ee,Ce),r(ee,ye),X(ye,s[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),r(l,Ne),r(l,je),r(je,Le),r(Le,Se),r(je,We),r(je,Te),X(Te,s[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),r(t,qe),r(t,ke),r(t,He),r(t,pe),r(pe,fe),r(fe,Ae),r(Ae,ne),r(fe,ae),r(fe,$),r(pe,ge),r(pe,be);for(let ce=0;ce<$e.length;ce+=1)$e[ce]&&$e[ce].m(be,null);r(t,we),Re&&Re.m(t,null),r(e,de),r(e,oe),r(oe,Me),r(Me,Ue),Ye=!0,Je||(Fe=[te(k,"change",s[9]),te(C,"change",s[10]),te(he,"input",s[11]),te(ye,"input",s[12]),te(Te,"input",s[13]),te($,"click",s[14]),te(e,"submit",El(s[24]))],Je=!0)},p(_e,ie){(!Ye||ie[0]&8)&&n!==(n=_e[3].t("Set Task Model")+"")&&N(f,n);const ce={};if(ie[0]&8&&(ce.content=_e[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),ie[1]&128&&(ce.$$scope={dirty:ie,ctx:_e}),_.$set(ce),(!Ye||ie[0]&8)&&E!==(E=_e[3].t("Local Models")+"")&&N(w,E),(!Ye||ie[0]&8)&&T!==(T=_e[3].t("Current Model")+"")&&N(S,T),ie[0]&16){it=nt(_e[4].filter(Kr));let le;for(le=0;le<it.length;le+=1){const Xe=Cr(_e,it,le);Ze[le]?Ze[le].p(Xe,ie):(Ze[le]=Hr(Xe),Ze[le].c(),Ze[le].m(k,null))}for(;le<Ze.length;le+=1)Ze[le].d(1);Ze.length=it.length}if((!Ye||ie[0]&8&&A!==(A=_e[3].t("Select a model")))&&o(k,"placeholder",A),ie[0]&17&&ht(k,_e[0].TASK_MODEL),(!Ye||ie[0]&8)&&Q!==(Q=_e[3].t("External Models")+"")&&N(R,Q),(!Ye||ie[0]&8)&&z!==(z=_e[3].t("Current Model")+"")&&N(j,z),ie[0]&16){xe=nt(_e[4]);let le;for(le=0;le<xe.length;le+=1){const Xe=Ur(_e,xe,le);Oe[le]?Oe[le].p(Xe,ie):(Oe[le]=Rr(Xe),Oe[le].c(),Oe[le].m(C,null))}for(;le<Oe.length;le+=1)Oe[le].d(1);Oe.length=xe.length}if((!Ye||ie[0]&8&&B!==(B=_e[3].t("Select a model")))&&o(C,"placeholder",B),ie[0]&17&&ht(C,_e[0].TASK_MODEL_EXTERNAL),(!Ye||ie[0]&8)&&q!==(q=_e[3].t("Title Generation Prompt")+"")&&N(U,q),ie[0]&17&&X(he,_e[0].TITLE_GENERATION_PROMPT_TEMPLATE),(!Ye||ie[0]&8)&&Ve!==(Ve=_e[3].t("Search Query Generation Prompt")+"")&&N(Pe,Ve),ie[0]&17&&X(ye,_e[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),(!Ye||ie[0]&8)&&Be!==(Be=_e[3].t("Search Query Generation Prompt Length Threshold")+"")&&N(Se,Be),ie[0]&17&&il(Te.value)!==_e[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD&&X(Te,_e[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),(!Ye||ie[0]&8)&&se!==(se=_e[3].t("Banners")+"")&&N(ne,se),ie[0]&12){rt=nt(_e[2]);let le;for(le=0;le<rt.length;le+=1){const Xe=Nr(_e,rt,le);$e[le]?($e[le].p(Xe,ie),re($e[le],1)):($e[le]=jr(Xe),$e[le].c(),re($e[le],1),$e[le].m(be,null))}for(kt(),le=rt.length;le<$e.length;le+=1)ft(le);Et()}(!Ye||ie[0]&4&&De!==(De="space-y-3 "+(_e[2].length>0?" mb-3":"")))&&o(pe,"class",De),_e[5].role==="admin"?Re?Re.p(_e,ie):(Re=Zr(_e),Re.c(),Re.m(t,null)):Re&&(Re.d(1),Re=null),(!Ye||ie[0]&8)&&ze!==(ze=_e[3].t("Save")+"")&&N(Ue,ze)},i(_e){if(!Ye){re(_.$$.fragment,_e);for(let ie=0;ie<rt.length;ie+=1)re($e[ie]);Ye=!0}},o(_e){ve(_.$$.fragment,_e),$e=$e.filter(Boolean);for(let ie=0;ie<$e.length;ie+=1)ve($e[ie]);Ye=!1},d(_e){_e&&u(e),st(_),Ct(Ze,_e),Ct(Oe,_e),Ct($e,_e),Re&&Re.d(),Je=!1,At(Fe)}}}const Kr=s=>s.owned_by==="ollama";function qo(s,e,t){let l,a,i,n;Ut(s,Rl,z=>t(25,l=z)),Ut(s,el,z=>t(4,i=z)),Ut(s,ta,z=>t(5,n=z));const f=Bs(),c=fl("i18n");Ut(s,c,z=>t(3,a=z));let _={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD:0},b=[],p=[];const g=async()=>{t(0,_=await ri(localStorage.token,_)),t(1,b=await ci(localStorage.token,b)),await m(),await Rl.set(await hs())};dl(async()=>{t(0,_=await ai(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,p=await ui(localStorage.token))});const m=async()=>{Zn.set(await fi(localStorage.token,p))};function E(){_.TASK_MODEL=zt(this),t(0,_)}function w(){_.TASK_MODEL_EXTERNAL=zt(this),t(0,_)}function y(){_.TITLE_GENERATION_PROMPT_TEMPLATE=this.value,t(0,_)}function k(){_.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE=this.value,t(0,_)}function I(){_.SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD=il(this.value),t(0,_)}const T=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:Ti(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function S(z,j){z[j].type=zt(this),t(2,p)}function A(z,j){z[j].content=this.value,t(2,p)}function H(z,j){s.$$.not_equal(j.dismissible,z)&&(j.dismissible=z,t(2,p))}const M=z=>{p.splice(z,1),t(2,p)},G=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function Q(z,j){z[j].title[0]=this.value,t(1,b)}function R(z,j){z[j].title[1]=this.value,t(1,b)}function F(z,j){z[j].content=this.value,t(1,b)}return[_,b,p,a,i,n,f,c,g,E,w,y,k,I,T,S,A,H,M,G,Q,R,F,z=>{b.splice(z,1),t(1,b)},()=>{g(),f("save")}]}class Wo extends ul{constructor(e){super(),cl(this,e,qo,Ko,ol,{},null,[-1,-1])}}function qr(s,e,t){const l=s.slice();return l[59]=e[t],l}function Wr(s,e,t){const l=s.slice();return l[59]=e[t],l}function Yr(s,e,t){const l=s.slice();return l[64]=e[t],l[66]=t,l}function Yo(s){let e,t,l,a;return l=new ns({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=v(e);t=h(n,"DIV",{class:!0});var f=v(t);tt(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,n){L(i,e,n),r(e,t),lt(l,t,null),a=!0},p:ct,i(i){a||(re(l.$$.fragment,i),a=!0)},o(i){ve(l.$$.fragment,i),a=!1},d(i){i&&u(e),st(l)}}}function Fo(s){let e,t=s[24].t("Ollama API is disabled")+"",l;return{c(){e=d("div"),l=O(t)},l(a){e=h(a,"DIV",{});var i=v(e);l=P(i,t),i.forEach(u)},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("Ollama API is disabled")+"")&&N(l,t)},i:ct,o:ct,d(a){a&&u(e)}}}function $o(s){let e,t,l,a;const i=[Jo,Xo,Qo],n=[];function f(c,_){return c[8]!==null?0:c[8]===!1?1:2}return e=f(s),t=n[e]=i[e](s),{c(){t.c(),l=Lt()},l(c){t.l(c),l=Lt()},m(c,_){n[e].m(c,_),L(c,l,_),a=!0},p(c,_){let b=e;e=f(c),e===b?n[e].p(c,_):(kt(),ve(n[b],1,1,()=>{n[b]=null}),Et(),t=n[e],t?t.p(c,_):(t=n[e]=i[e](c),t.c()),re(t,1),t.m(l.parentNode,l))},i(c){a||(re(t),a=!0)},o(c){ve(t),a=!1},d(c){c&&u(l),n[e].d(c)}}}function Qo(s){let e,t,l,a;return l=new ns({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=v(e);t=h(n,"DIV",{class:!0});var f=v(t);tt(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,n){L(i,e,n),r(e,t),lt(l,t,null),a=!0},p:ct,i(i){a||(re(l.$$.fragment,i),a=!0)},o(i){ve(l.$$.fragment,i),a=!1},d(i){i&&u(e),st(l)}}}function Xo(s){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),at(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,a){L(l,e,a)},p:ct,i:ct,o:ct,d(l){l&&u(e)}}}function Jo(s){let e,t,l=s[24].t("Manage Ollama Models")+"",a,i,n,f,c,_,b=s[24].t("Pull a model from Ollama.com")+"",p,g,m,E,w,y,k,I,T,S,A=s[24].t("To access the available model names for downloading,")+"",H,M,G,Q=s[24].t("click here.")+"",R,F,C=Object.keys(s[25]).length>0,K,z,j,B=s[24].t("Delete a model")+"",W,Z,Y,q,U,ue,he,J,ee,Ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',Ve,Pe,Ce,ye=s[24].t("Create a model")+"",Ne,je,Le,Be,Se,We,Te,qe,ke,He,pe,fe,Ae,se,ne,ae,$,x,ge,be=s[24].t("Experimental")+"",De,we,de,oe=(s[7]?s[24].t("Hide"):s[24].t("Show"))+"",Me,ze,Ue,Ye,Je,Fe=s[3].length>0&&Fr(s);function it(ie,ce){return ie[9]?tu:eu}let Ze=it(s),xe=Ze(s),Oe=C&&Xr(s),rt=!s[23]&&tn(s),$e=nt(s[26].filter(s[41])),ft=[];for(let ie=0;ie<$e.length;ie+=1)ft[ie]=ln(qr(s,$e,ie));let Re=s[14]!==""&&sn(s),_e=s[7]&&rn(s);return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),Fe&&Fe.c(),n=D(),f=d("div"),c=d("div"),_=d("div"),p=O(b),g=D(),m=d("div"),E=d("div"),w=d("input"),k=D(),I=d("button"),xe.c(),T=D(),S=d("div"),H=O(A),M=D(),G=d("a"),R=O(Q),F=D(),Oe&&Oe.c(),K=D(),z=d("div"),j=d("div"),W=O(B),Z=D(),Y=d("div"),q=d("div"),U=d("select"),rt&&rt.c(),ue=Lt();for(let ie=0;ie<ft.length;ie+=1)ft[ie].c();J=D(),ee=d("button"),ee.innerHTML=Ee,Ve=D(),Pe=d("div"),Ce=d("div"),Ne=O(ye),je=D(),Le=d("div"),Be=d("div"),Se=d("input"),Te=D(),qe=d("textarea"),ke=D(),He=d("div"),pe=d("button"),fe=mt("svg"),Ae=mt("path"),se=mt("path"),ne=D(),Re&&Re.c(),ae=D(),$=d("div"),x=d("div"),ge=d("div"),De=O(be),we=D(),de=d("button"),Me=O(oe),ze=D(),_e&&_e.c(),this.h()},l(ie){e=h(ie,"DIV",{class:!0});var ce=v(e);t=h(ce,"DIV",{class:!0});var le=v(t);a=P(le,l),le.forEach(u),i=V(ce),Fe&&Fe.l(ce),n=V(ce),f=h(ce,"DIV",{class:!0});var Xe=v(f);c=h(Xe,"DIV",{});var vt=v(c);_=h(vt,"DIV",{class:!0});var _t=v(_);p=P(_t,b),_t.forEach(u),g=V(vt),m=h(vt,"DIV",{class:!0});var Dt=v(m);E=h(Dt,"DIV",{class:!0});var Vt=v(E);w=h(Vt,"INPUT",{class:!0,placeholder:!0}),Vt.forEach(u),k=V(Dt),I=h(Dt,"BUTTON",{class:!0});var Ht=v(I);xe.l(Ht),Ht.forEach(u),Dt.forEach(u),T=V(vt),S=h(vt,"DIV",{class:!0});var qt=v(S);H=P(qt,A),M=V(qt),G=h(qt,"A",{class:!0,href:!0,target:!0});var Mt=v(G);R=P(Mt,Q),Mt.forEach(u),qt.forEach(u),F=V(vt),Oe&&Oe.l(vt),vt.forEach(u),K=V(Xe),z=h(Xe,"DIV",{});var It=v(z);j=h(It,"DIV",{class:!0});var Rt=v(j);W=P(Rt,B),Rt.forEach(u),Z=V(It),Y=h(It,"DIV",{class:!0});var Nt=v(Y);q=h(Nt,"DIV",{class:!0});var Bt=v(q);U=h(Bt,"SELECT",{class:!0,placeholder:!0});var Wt=v(U);rt&&rt.l(Wt),ue=Lt();for(let dt=0;dt<ft.length;dt+=1)ft[dt].l(Wt);Wt.forEach(u),Bt.forEach(u),J=V(Nt),ee=h(Nt,"BUTTON",{class:!0,"data-svelte-h":!0}),at(ee)!=="svelte-2dig6p"&&(ee.innerHTML=Ee),Nt.forEach(u),It.forEach(u),Ve=V(Xe),Pe=h(Xe,"DIV",{});var wt=v(Pe);Ce=h(wt,"DIV",{class:!0});var ot=v(Ce);Ne=P(ot,ye),ot.forEach(u),je=V(wt),Le=h(wt,"DIV",{class:!0});var pt=v(Le);Be=h(pt,"DIV",{class:!0});var ut=v(Be);Se=h(ut,"INPUT",{class:!0,placeholder:!0}),Te=V(ut),qe=h(ut,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(qe).forEach(u),ut.forEach(u),ke=V(pt),He=h(pt,"DIV",{class:!0});var Ft=v(He);pe=h(Ft,"BUTTON",{class:!0});var jt=v(pe);fe=bt(jt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Zt=v(fe);Ae=bt(Zt,"path",{d:!0}),v(Ae).forEach(u),se=bt(Zt,"path",{d:!0}),v(se).forEach(u),Zt.forEach(u),jt.forEach(u),Ft.forEach(u),pt.forEach(u),ne=V(wt),Re&&Re.l(wt),wt.forEach(u),ae=V(Xe),$=h(Xe,"DIV",{class:!0});var Tt=v($);x=h(Tt,"DIV",{class:!0});var Yt=v(x);ge=h(Yt,"DIV",{class:!0});var Ge=v(ge);De=P(Ge,be),Ge.forEach(u),we=V(Yt),de=h(Yt,"BUTTON",{class:!0,type:!0});var Qe=v(de);Me=P(Qe,oe),Qe.forEach(u),Yt.forEach(u),Tt.forEach(u),ze=V(Xe),_e&&_e.l(Xe),Xe.forEach(u),ce.forEach(u),this.h()},h(){o(t,"class","text-sm font-medium"),o(_,"class","mb-2 text-sm font-medium"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",y=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(E,"class","flex-1 mr-2"),o(I,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),I.disabled=s[9],o(m,"class","flex w-full"),o(G,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(G,"href","https://ollama.com/library"),o(G,"target","_blank"),o(S,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(j,"class","mb-2 text-sm font-medium"),o(U,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(U,"placeholder",he=s[24].t("Select a model")),s[23]===void 0&&Kt(()=>s[42].call(U)),o(q,"class","flex-1 mr-2"),o(ee,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(Y,"class","flex w-full"),o(Ce,"class","mb-2 text-sm font-medium"),o(Se,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Se,"placeholder",We=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Se.disabled=s[11],o(qe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),o(qe,"rows","6"),o(qe,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),qe.disabled=s[11],o(Be,"class","flex-1 mr-2 flex flex-col gap-2"),o(Ae,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(se,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(fe,"xmlns","http://www.w3.org/2000/svg"),o(fe,"viewBox","0 0 16 16"),o(fe,"fill","currentColor"),o(fe,"class","size-4"),o(pe,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),pe.disabled=s[11],o(He,"class","flex self-start"),o(Le,"class","flex w-full"),o(ge,"class","text-sm font-medium"),o(de,"class","text-xs font-medium text-gray-500"),o(de,"type","button"),o(x,"class","flex justify-between items-center text-xs"),o($,"class","pt-1"),o(f,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5")},m(ie,ce){L(ie,e,ce),r(e,t),r(t,a),r(e,i),Fe&&Fe.m(e,null),r(e,n),r(e,f),r(f,c),r(c,_),r(_,p),r(c,g),r(c,m),r(m,E),r(E,w),X(w,s[10]),r(m,k),r(m,I),xe.m(I,null),r(c,T),r(c,S),r(S,H),r(S,M),r(S,G),r(G,R),r(c,F),Oe&&Oe.m(c,null),r(f,K),r(f,z),r(z,j),r(j,W),r(z,Z),r(z,Y),r(Y,q),r(q,U),rt&&rt.m(U,null),r(U,ue);for(let le=0;le<ft.length;le+=1)ft[le]&&ft[le].m(U,null);ht(U,s[23],!0),r(Y,J),r(Y,ee),r(f,Ve),r(f,Pe),r(Pe,Ce),r(Ce,Ne),r(Pe,je),r(Pe,Le),r(Le,Be),r(Be,Se),X(Se,s[12]),r(Be,Te),r(Be,qe),X(qe,s[13]),r(Le,ke),r(Le,He),r(He,pe),r(pe,fe),r(fe,Ae),r(fe,se),r(Pe,ne),Re&&Re.m(Pe,null),r(f,ae),r(f,$),r($,x),r(x,ge),r(ge,De),r(x,we),r(x,de),r(de,Me),r(f,ze),_e&&_e.m(f,null),Ue=!0,Ye||(Je=[te(w,"input",s[38]),te(I,"click",s[39]),te(U,"change",s[42]),te(ee,"click",s[43]),te(Se,"input",s[44]),te(qe,"input",s[45]),te(pe,"click",s[46]),te(de,"click",s[47])],Ye=!0)},p(ie,ce){if((!Ue||ce[0]&16777216)&&l!==(l=ie[24].t("Manage Ollama Models")+"")&&N(a,l),ie[3].length>0?Fe?(Fe.p(ie,ce),ce[0]&8&&re(Fe,1)):(Fe=Fr(ie),Fe.c(),re(Fe,1),Fe.m(e,n)):Fe&&(kt(),ve(Fe,1,1,()=>{Fe=null}),Et()),(!Ue||ce[0]&16777216)&&b!==(b=ie[24].t("Pull a model from Ollama.com")+"")&&N(p,b),(!Ue||ce[0]&16777216&&y!==(y=ie[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(w,"placeholder",y),ce[0]&1024&&w.value!==ie[10]&&X(w,ie[10]),Ze!==(Ze=it(ie))&&(xe.d(1),xe=Ze(ie),xe&&(xe.c(),xe.m(I,null))),(!Ue||ce[0]&512)&&(I.disabled=ie[9]),(!Ue||ce[0]&16777216)&&A!==(A=ie[24].t("To access the available model names for downloading,")+"")&&N(H,A),(!Ue||ce[0]&16777216)&&Q!==(Q=ie[24].t("click here.")+"")&&N(R,Q),ce[0]&33554432&&(C=Object.keys(ie[25]).length>0),C?Oe?(Oe.p(ie,ce),ce[0]&33554432&&re(Oe,1)):(Oe=Xr(ie),Oe.c(),re(Oe,1),Oe.m(c,null)):Oe&&(kt(),ve(Oe,1,1,()=>{Oe=null}),Et()),(!Ue||ce[0]&16777216)&&B!==(B=ie[24].t("Delete a model")+"")&&N(W,B),ie[23]?rt&&(rt.d(1),rt=null):rt?rt.p(ie,ce):(rt=tn(ie),rt.c(),rt.m(U,ue)),ce[0]&67108880){$e=nt(ie[26].filter(ie[41]));let le;for(le=0;le<$e.length;le+=1){const Xe=qr(ie,$e,le);ft[le]?ft[le].p(Xe,ce):(ft[le]=ln(Xe),ft[le].c(),ft[le].m(U,null))}for(;le<ft.length;le+=1)ft[le].d(1);ft.length=$e.length}(!Ue||ce[0]&16777216&&he!==(he=ie[24].t("Select a model")))&&o(U,"placeholder",he),ce[0]&75497488&&ht(U,ie[23]),(!Ue||ce[0]&16777216)&&ye!==(ye=ie[24].t("Create a model")+"")&&N(Ne,ye),(!Ue||ce[0]&16777216&&We!==(We=ie[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&o(Se,"placeholder",We),(!Ue||ce[0]&2048)&&(Se.disabled=ie[11]),ce[0]&4096&&Se.value!==ie[12]&&X(Se,ie[12]),(!Ue||ce[0]&2048)&&(qe.disabled=ie[11]),ce[0]&8192&&X(qe,ie[13]),(!Ue||ce[0]&2048)&&(pe.disabled=ie[11]),ie[14]!==""?Re?Re.p(ie,ce):(Re=sn(ie),Re.c(),Re.m(Pe,null)):Re&&(Re.d(1),Re=null),(!Ue||ce[0]&16777216)&&be!==(be=ie[24].t("Experimental")+"")&&N(De,be),(!Ue||ce[0]&16777344)&&oe!==(oe=(ie[7]?ie[24].t("Hide"):ie[24].t("Show"))+"")&&N(Me,oe),ie[7]?_e?_e.p(ie,ce):(_e=rn(ie),_e.c(),_e.m(f,null)):_e&&(_e.d(1),_e=null)},i(ie){Ue||(re(Fe),re(Oe),Ue=!0)},o(ie){ve(Fe),ve(Oe),Ue=!1},d(ie){ie&&u(e),Fe&&Fe.d(),xe.d(),Oe&&Oe.d(),rt&&rt.d(),Ct(ft,ie),Re&&Re.d(),_e&&_e.d(),Ye=!1,At(Je)}}}function Fr(s){let e,t,l,a,i,n,f,c,_,b,p,g,m,E=nt(s[3]),w=[];for(let k=0;k<E.length;k+=1)w[k]=$r(Yr(s,E,k));c=new ql({props:{content:"Update All Models",placement:"top",$$slots:{default:[xo]},$$scope:{ctx:s}}});let y=s[5]&&Qr(s);return{c(){e=d("div"),t=d("div"),l=d("select");for(let k=0;k<w.length;k+=1)w[k].c();i=D(),n=d("div"),f=d("div"),et(c.$$.fragment),_=D(),y&&y.c(),b=Lt(),this.h()},l(k){e=h(k,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var S=v(l);for(let M=0;M<w.length;M+=1)w[M].l(S);S.forEach(u),T.forEach(u),i=V(I),n=h(I,"DIV",{});var A=v(n);f=h(A,"DIV",{class:!0});var H=v(f);tt(c.$$.fragment,H),H.forEach(u),A.forEach(u),I.forEach(u),_=V(k),y&&y.l(k),b=Lt(),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[24].t("Select an Ollama instance")),s[4]===void 0&&Kt(()=>s[36].call(l)),o(t,"class","flex-1 pb-1"),o(f,"class","flex w-full justify-end"),o(e,"class","flex gap-2")},m(k,I){L(k,e,I),r(e,t),r(t,l);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(l,null);ht(l,s[4],!0),r(e,i),r(e,n),r(n,f),lt(c,f,null),L(k,_,I),y&&y.m(k,I),L(k,b,I),p=!0,g||(m=te(l,"change",s[36]),g=!0)},p(k,I){if(I[0]&8){E=nt(k[3]);let S;for(S=0;S<E.length;S+=1){const A=Yr(k,E,S);w[S]?w[S].p(A,I):(w[S]=$r(A),w[S].c(),w[S].m(l,null))}for(;S<w.length;S+=1)w[S].d(1);w.length=E.length}(!p||I[0]&16777216&&a!==(a=k[24].t("Select an Ollama instance")))&&o(l,"placeholder",a),I[0]&16&&ht(l,k[4]);const T={};I[2]&32&&(T.$$scope={dirty:I,ctx:k}),c.$set(T),k[5]?y?y.p(k,I):(y=Qr(k),y.c(),y.m(b.parentNode,b)):y&&(y.d(1),y=null)},i(k){p||(re(c.$$.fragment,k),p=!0)},o(k){ve(c.$$.fragment,k),p=!1},d(k){k&&(u(e),u(_),u(b)),Ct(w,k),st(c),y&&y.d(k),g=!1,m()}}}function $r(s){let e,t=s[64]+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=s[66],X(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&8&&t!==(t=a[64]+"")&&N(l,t)},d(a){a&&u(e)}}}function xo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-149ekpm"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(i,n){L(i,e,n),l||(a=te(e,"click",s[37]),l=!0)},p:ct,d(i){i&&u(e),l=!1,a()}}}function Qr(s){let e,t,l,a=s[6]?`(${s[6]}%)`:"",i;return{c(){e=O('Updating "'),t=O(s[5]),l=O('" '),i=O(a)},l(n){e=P(n,'Updating "'),t=P(n,s[5]),l=P(n,'" '),i=P(n,a)},m(n,f){L(n,e,f),L(n,t,f),L(n,l,f),L(n,i,f)},p(n,f){f[0]&32&&N(t,n[5]),f[0]&64&&a!==(a=n[6]?`(${n[6]}%)`:"")&&N(i,a)},d(n){n&&(u(e),u(t),u(l),u(i))}}}function eu(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function tu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function Xr(s){let e,t,l=nt(Object.keys(s[25])),a=[];for(let n=0;n<l.length;n+=1)a[n]=en(Wr(s,l,n));const i=n=>ve(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=Lt()},l(n){for(let f=0;f<a.length;f+=1)a[f].l(n);e=Lt()},m(n,f){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(n,f);L(n,e,f),t=!0},p(n,f){if(f[0]&50331648|f[1]&2){l=nt(Object.keys(n[25]));let c;for(c=0;c<l.length;c+=1){const _=Wr(n,l,c);a[c]?(a[c].p(_,f),re(a[c],1)):(a[c]=en(_),a[c].c(),re(a[c],1),a[c].m(e.parentNode,e))}for(kt(),c=l.length;c<a.length;c+=1)i(c);Et()}},i(n){if(!t){for(let f=0;f<l.length;f+=1)re(a[f]);t=!0}},o(n){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ve(a[f]);t=!1},d(n){n&&u(e),Ct(a,n)}}}function Jr(s){let e,t,l=s[59]+"",a,i,n,f,c,_,b=(s[25][s[59]].pullProgress??0)+"",p,g,m,E,w,y,k;E=new ql({props:{content:s[24].t("Cancel"),$$slots:{default:[lu]},$$scope:{ctx:s}}});let I="digest"in s[25][s[59]]&&xr(s);return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=d("div"),_=d("div"),p=O(b),g=O("%"),m=D(),et(E.$$.fragment),w=D(),I&&I.c(),y=D(),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var A=v(t);a=P(A,l),A.forEach(u),i=V(S),n=h(S,"DIV",{class:!0});var H=v(n);f=h(H,"DIV",{class:!0});var M=v(f);c=h(M,"DIV",{class:!0});var G=v(c);_=h(G,"DIV",{class:!0,style:!0});var Q=v(_);p=P(Q,b),g=P(Q,"%"),Q.forEach(u),G.forEach(u),m=V(M),tt(E.$$.fragment,M),M.forEach(u),w=V(H),I&&I.l(H),H.forEach(u),y=V(S),S.forEach(u),this.h()},h(){o(t,"class","font-medium mb-1"),o(_,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),kl(_,"width",Math.max(15,s[25][s[59]].pullProgress??0)+"%"),o(c,"class","flex-1"),o(f,"class","flex flex-row justify-between space-x-4 pr-2"),o(n,"class",""),o(e,"class","flex flex-col")},m(T,S){L(T,e,S),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),r(c,_),r(_,p),r(_,g),r(f,m),lt(E,f,null),r(n,w),I&&I.m(n,null),r(e,y),k=!0},p(T,S){(!k||S[0]&33554432)&&l!==(l=T[59]+"")&&N(a,l),(!k||S[0]&33554432)&&b!==(b=(T[25][T[59]].pullProgress??0)+"")&&N(p,b),(!k||S[0]&33554432)&&kl(_,"width",Math.max(15,T[25][T[59]].pullProgress??0)+"%");const A={};S[0]&16777216&&(A.content=T[24].t("Cancel")),S[0]&33554432|S[2]&32&&(A.$$scope={dirty:S,ctx:T}),E.$set(A),"digest"in T[25][T[59]]?I?I.p(T,S):(I=xr(T),I.c(),I.m(n,null)):I&&(I.d(1),I=null)},i(T){k||(re(E.$$.fragment,T),k=!0)},o(T){ve(E.$$.fragment,T),k=!1},d(T){T&&u(e),st(E),I&&I.d()}}}function lu(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function i(){return s[40](s[59])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-7r2t6n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function xr(s){let e,t=s[25][s[59]].digest+"",l;return{c(){e=d("div"),l=O(t),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),kl(e,"font-size","0.5rem")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&33554432&&t!==(t=a[25][a[59]].digest+"")&&N(l,t)},d(a){a&&u(e)}}}function en(s){let e,t,l="pullProgress"in s[25][s[59]]&&Jr(s);return{c(){l&&l.c(),e=Lt()},l(a){l&&l.l(a),e=Lt()},m(a,i){l&&l.m(a,i),L(a,e,i),t=!0},p(a,i){"pullProgress"in a[25][a[59]]?l?(l.p(a,i),i[0]&33554432&&re(l,1)):(l=Jr(a),l.c(),re(l,1),l.m(e.parentNode,e)):l&&(kt(),ve(l,1,1,()=>{l=null}),Et())},i(a){t||(re(l),t=!0)},o(a){ve(l),t=!1},d(a){a&&u(e),l&&l.d(a)}}}function tn(s){let e,t=s[24].t("Select a model")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("Select a model")+"")&&N(l,t)},d(a){a&&u(e)}}}function ln(s){let e,t=s[59].name+" ("+(s[59].ollama.size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[59].name,X(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n[0]&67108880&&t!==(t=i[59].name+" ("+(i[59].ollama.size/1024**3).toFixed(1)+" GB)")&&N(l,t),n[0]&67108880&&a!==(a=i[59].name)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function sn(s){let e,t,l,a,i,n,f,c,_=(s[15]??0)+"",b,p,g,m=s[14]&&an(s);return{c(){e=d("div"),t=d("div"),l=O(s[12]),a=D(),i=d("div"),n=d("div"),f=d("div"),c=d("div"),b=O(_),p=O("%"),g=D(),m&&m.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var y=v(t);l=P(y,s[12]),y.forEach(u),a=V(w),i=h(w,"DIV",{class:!0});var k=v(i);n=h(k,"DIV",{class:!0});var I=v(n);f=h(I,"DIV",{class:!0});var T=v(f);c=h(T,"DIV",{class:!0,style:!0});var S=v(c);b=P(S,_),p=P(S,"%"),S.forEach(u),T.forEach(u),I.forEach(u),g=V(k),m&&m.l(k),k.forEach(u),w.forEach(u),this.h()},h(){o(t,"class","font-medium mb-1"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),kl(c,"width",Math.max(15,s[15]??0)+"%"),o(f,"class","flex-1"),o(n,"class","flex flex-row justify-between space-x-4 pr-2"),o(i,"class",""),o(e,"class","flex flex-col mt-1")},m(E,w){L(E,e,w),r(e,t),r(t,l),r(e,a),r(e,i),r(i,n),r(n,f),r(f,c),r(c,b),r(c,p),r(i,g),m&&m.m(i,null)},p(E,w){w[0]&4096&&N(l,E[12]),w[0]&32768&&_!==(_=(E[15]??0)+"")&&N(b,_),w[0]&32768&&kl(c,"width",Math.max(15,E[15]??0)+"%"),E[14]?m?m.p(E,w):(m=an(E),m.c(),m.m(i,null)):m&&(m.d(1),m=null)},d(E){E&&u(e),m&&m.d()}}}function an(s){let e,t;return{c(){e=d("div"),t=O(s[14]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var a=v(e);t=P(a,s[14]),a.forEach(u),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),kl(e,"font-size","0.5rem")},m(l,a){L(l,e,a),r(e,t)},p(l,a){a[0]&16384&&N(t,l[14])},d(l){l&&u(e)}}}function rn(s){let e,t,l,a=s[24].t("Upload a GGUF model")+"",i,n,f,c,_,b,p,g,m,E,w=s[24].t("To access the GGUF models available for downloading,")+"",y,k,I,T=s[24].t("click here.")+"",S,A,H,M;function G(Y,q){return Y[16]==="file"?au:su}let Q=G(s),R=Q(s);function F(Y,q){return Y[16]==="file"?nu:ru}let C=F(s),K=C(s),z=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&nn(s),j=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&on(s);function B(Y,q){if(Y[22])return du;if(Y[21]!==null)return fu}let W=B(s),Z=W&&W(s);return{c(){e=d("form"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("button"),R.c(),c=D(),_=d("div"),b=d("div"),K.c(),p=D(),z&&z.c(),g=D(),j&&j.c(),m=D(),E=d("div"),y=O(w),k=D(),I=d("a"),S=O(T),A=D(),Z&&Z.c(),this.h()},l(Y){e=h(Y,"FORM",{});var q=v(e);t=h(q,"DIV",{class:!0});var U=v(t);l=h(U,"DIV",{class:!0});var ue=v(l);i=P(ue,a),ue.forEach(u),n=V(U),f=h(U,"BUTTON",{class:!0,type:!0});var he=v(f);R.l(he),he.forEach(u),U.forEach(u),c=V(q),_=h(q,"DIV",{class:!0});var J=v(_);b=h(J,"DIV",{class:!0});var ee=v(b);K.l(ee),ee.forEach(u),p=V(J),z&&z.l(J),J.forEach(u),g=V(q),j&&j.l(q),m=V(q),E=h(q,"DIV",{class:!0});var Ee=v(E);y=P(Ee,w),k=V(Ee),I=h(Ee,"A",{class:!0,href:!0,target:!0});var Ve=v(I);S=P(Ve,T),Ve.forEach(u),Ee.forEach(u),A=V(q),Z&&Z.l(q),q.forEach(u),this.h()},h(){o(l,"class","text-sm font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(b,"class","flex flex-col w-full"),o(_,"class","flex w-full mb-1.5"),o(I,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(I,"href","https://huggingface.co/models?search=gguf"),o(I,"target","_blank"),o(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(Y,q){L(Y,e,q),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),R.m(f,null),r(e,c),r(e,_),r(_,b),K.m(b,null),r(_,p),z&&z.m(_,null),r(e,g),j&&j.m(e,null),r(e,m),r(e,E),r(E,y),r(E,k),r(E,I),r(I,S),r(e,A),Z&&Z.m(e,null),H||(M=[te(f,"click",s[48]),te(e,"submit",El(s[55]))],H=!0)},p(Y,q){q[0]&16777216&&a!==(a=Y[24].t("Upload a GGUF model")+"")&&N(i,a),Q===(Q=G(Y))&&R?R.p(Y,q):(R.d(1),R=Q(Y),R&&(R.c(),R.m(f,null))),C===(C=F(Y))&&K?K.p(Y,q):(K.d(1),K=C(Y),K&&(K.c(),K.m(b,null))),Y[16]==="file"&&Y[17]&&Y[17].length>0||Y[16]==="url"&&Y[18]!==""?z?z.p(Y,q):(z=nn(Y),z.c(),z.m(_,null)):z&&(z.d(1),z=null),Y[16]==="file"&&Y[17]&&Y[17].length>0||Y[16]==="url"&&Y[18]!==""?j?j.p(Y,q):(j=on(Y),j.c(),j.m(e,m)):j&&(j.d(1),j=null),q[0]&16777216&&w!==(w=Y[24].t("To access the GGUF models available for downloading,")+"")&&N(y,w),q[0]&16777216&&T!==(T=Y[24].t("click here.")+"")&&N(S,T),W===(W=B(Y))&&Z?Z.p(Y,q):(Z&&Z.d(1),Z=W&&W(Y),Z&&(Z.c(),Z.m(e,null)))},d(Y){Y&&u(e),R.d(),K.d(),z&&z.d(),j&&j.d(),Z&&Z.d(),H=!1,At(M)}}}function su(s){let e,t=s[24].t("URL Mode")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("URL Mode")+"")&&N(l,t)},d(a){a&&u(e)}}}function au(s){let e,t=s[24].t("File Mode")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("File Mode")+"")&&N(l,t)},d(a){a&&u(e)}}}function ru(s){let e,t,l,a,i,n,f;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var _=v(e);t=h(_,"INPUT",{class:!0,type:!0,placeholder:!0}),_.forEach(u),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",a=s[24].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",i="flex-1 "+(s[18]!==""?"mr-2":""))},m(c,_){L(c,e,_),r(e,t),X(t,s[18]),n||(f=te(t,"input",s[53]),n=!0)},p(c,_){_[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[18]!==""?"mr-2":""))&&o(t,"class",l),_[0]&16777216&&a!==(a=c[24].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",a),_[0]&262144&&t.value!==c[18]&&X(t,c[18]),_[0]&262144&&i!==(i="flex-1 "+(c[18]!==""?"mr-2":""))&&o(e,"class",i)},d(c){c&&u(e),n=!1,f()}}}function nu(s){let e,t,l,a,i,n,f;function c(p,g){return p[17]&&p[17].length>0?ou:iu}let _=c(s),b=_(s);return{c(){e=d("div"),t=d("input"),l=D(),a=d("button"),b.c(),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=v(e);t=h(g,"INPUT",{id:!0,type:!0,accept:!0}),l=V(g),a=h(g,"BUTTON",{type:!0,class:!0});var m=v(a);b.l(m),m.forEach(u),g.forEach(u),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(a,"type","button"),o(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(p,g){L(p,e,g),r(e,t),s[49](t),r(e,l),r(e,a),b.m(a,null),n||(f=[te(t,"change",s[50]),te(t,"change",s[51]),te(a,"click",s[52])],n=!0)},p(p,g){_===(_=c(p))&&b?b.p(p,g):(b.d(1),b=_(p),b&&(b.c(),b.m(a,null))),g[0]&131072&&i!==(i="flex-1 "+(p[17]&&p[17].length>0?"mr-2":""))&&o(e,"class",i)},d(p){p&&u(e),s[49](null),b.d(),n=!1,At(f)}}}function iu(s){let e=s[24].t("Click here to select")+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){L(l,t,a)},p(l,a){a[0]&16777216&&e!==(e=l[24].t("Click here to select")+"")&&N(t,e)},d(l){l&&u(t)}}}function ou(s){let e=s[17][0].name+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){L(l,t,a)},p(l,a){a[0]&131072&&e!==(e=l[17][0].name+"")&&N(t,e)},d(l){l&&u(t)}}}function nn(s){let e;function t(i,n){return i[9]?cu:uu}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0});var n=v(e);a.l(n),n.forEach(u),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=s[9]},m(i,n){L(i,e,n),a.m(e,null)},p(i,n){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e,null))),n[0]&512&&(e.disabled=i[9])},d(i){i&&u(e),a.d()}}}function uu(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function cu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function on(s){let e,t,l,a=s[24].t("Modelfile Content")+"",i,n,f,c,_;return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("textarea"),this.h()},l(b){e=h(b,"DIV",{});var p=v(e);t=h(p,"DIV",{});var g=v(t);l=h(g,"DIV",{class:!0});var m=v(l);i=P(m,a),m.forEach(u),n=V(g),f=h(g,"TEXTAREA",{class:!0,rows:!0}),v(f).forEach(u),g.forEach(u),p.forEach(u),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),o(f,"rows","6")},m(b,p){L(b,e,p),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),X(f,s[19]),c||(_=te(f,"input",s[54]),c=!0)},p(b,p){p[0]&16777216&&a!==(a=b[24].t("Modelfile Content")+"")&&N(i,a),p[0]&524288&&X(f,b[19])},d(b){b&&u(e),c=!1,_()}}}function fu(s){let e,t,l=s[24].t("Upload Progress")+"",a,i,n,f,c=(s[21]??0)+"",_,b,p,g,m;return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),_=O(c),b=O("%"),p=D(),g=d("div"),m=O(s[20]),this.h()},l(E){e=h(E,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var y=v(t);a=P(y,l),y.forEach(u),i=V(w),n=h(w,"DIV",{class:!0});var k=v(n);f=h(k,"DIV",{class:!0,style:!0});var I=v(f);_=P(I,c),b=P(I,"%"),I.forEach(u),k.forEach(u),p=V(w),g=h(w,"DIV",{class:!0,style:!0});var T=v(g);m=P(T,s[20]),T.forEach(u),w.forEach(u),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),kl(f,"width",Math.max(15,s[21]??0)+"%"),o(n,"class","w-full rounded-full dark:bg-gray-800"),o(g,"class","mt-1 text-xs dark:text-gray-500"),kl(g,"font-size","0.5rem"),o(e,"class","mt-2")},m(E,w){L(E,e,w),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,_),r(f,b),r(e,p),r(e,g),r(g,m)},p(E,w){w[0]&16777216&&l!==(l=E[24].t("Upload Progress")+"")&&N(a,l),w[0]&2097152&&c!==(c=(E[21]??0)+"")&&N(_,c),w[0]&2097152&&kl(f,"width",Math.max(15,E[21]??0)+"%"),w[0]&1048576&&N(m,E[20])},d(E){E&&u(e)}}}function du(s){let e,t,l=s[24].t("Upload Progress")+"",a,i,n,f,c,_,b,p;return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=O(s[22]),_=D(),b=d("div"),p=O(s[20]),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(u),i=V(m),n=h(m,"DIV",{class:!0});var w=v(n);f=h(w,"DIV",{class:!0,style:!0});var y=v(f);c=P(y,s[22]),y.forEach(u),w.forEach(u),_=V(m),b=h(m,"DIV",{class:!0,style:!0});var k=v(b);p=P(k,s[20]),k.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),kl(f,"width","100%"),o(n,"class","w-full rounded-full dark:bg-gray-800"),o(b,"class","mt-1 text-xs dark:text-gray-500"),kl(b,"font-size","0.5rem"),o(e,"class","mt-2")},m(g,m){L(g,e,m),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),r(e,_),r(e,b),r(b,p)},p(g,m){m[0]&16777216&&l!==(l=g[24].t("Upload Progress")+"")&&N(a,l),m[0]&4194304&&N(c,g[22]),m[0]&1048576&&N(p,g[20])},d(g){g&&u(e)}}}function hu(s){let e,t,l,a,i,n,f,c;function _(E){s[34](E)}let b={};s[1]!==void 0&&(b.show=s[1]),e=new ea({props:b}),St.push(()=>Pt(e,"show",_)),e.$on("confirm",s[35]);const p=[$o,Fo,Yo],g=[];function m(E,w){return E[2]?0:E[2]===!1?1:2}return n=m(s),f=g[n]=p[n](s),{c(){et(e.$$.fragment),l=D(),a=d("div"),i=d("div"),f.c(),this.h()},l(E){tt(e.$$.fragment,E),l=V(E),a=h(E,"DIV",{class:!0});var w=v(a);i=h(w,"DIV",{class:!0});var y=v(i);f.l(y),y.forEach(u),w.forEach(u),this.h()},h(){o(i,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(a,"class","flex flex-col h-full justify-between text-sm")},m(E,w){lt(e,E,w),L(E,l,w),L(E,a,w),r(a,i),g[n].m(i,null),c=!0},p(E,w){const y={};!t&&w[0]&2&&(t=!0,y.show=E[1],Ot(()=>t=!1)),e.$set(y);let k=n;n=m(E),n===k?g[n].p(E,w):(kt(),ve(g[k],1,1,()=>{g[k]=null}),Et(),f=g[n],f?f.p(E,w):(f=g[n]=p[n](E),f.c()),re(f,1),f.m(i,null))},i(E){c||(re(e.$$.fragment,E),re(f),c=!0)},o(E){ve(e.$$.fragment,E),ve(f),c=!1},d(E){E&&(u(l),u(a)),st(e,E),g[n].d()}}}const _u=3;function vu(s,e,t){let l,a,i;Ut(s,as,ae=>t(25,a=ae)),Ut(s,el,ae=>t(26,i=ae));const n=fl("i18n");Ut(s,n,ae=>t(24,l=ae));const f=async()=>await rs(localStorage.token);let c,_=!1,b=null,p=[],g=null,m=null,E=null,w=!1,y=null,k=!1,I="",T=!1,S="",A="",H="",M=null,G="",Q=null,R="file",F=null,C="",K=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,z="",j=null,B="",W="";const Z=async()=>{for(const ae of i.filter($=>{var x;return!(($==null?void 0:$.preset)??!1)&&$.owned_by==="ollama"&&(g===null?!0:(((x=$==null?void 0:$.ollama)==null?void 0:x.urls)??[]).includes(g))})){console.log(ae),t(5,m=ae.id);const[$,x]=await Ga(localStorage.token,ae.id,g).catch(ge=>(Ie.error(ge),null));if($){const ge=$.body.pipeThrough(new TextDecoderStream).pipeThrough(ds(`
`)).getReader();for(;;)try{const{value:be,done:De}=await ge.read();if(De)break;let we=be.split(`
`);for(const de of we)if(de!==""){let oe=JSON.parse(de);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;oe.status&&(oe.digest?(t(6,E=0),oe.completed?t(6,E=Math.round(oe.completed/oe.total*1e3)/10):t(6,E=100)):Ie.success(oe.status))}}catch(be){console.log(be)}}}t(5,m=null),t(6,E=null)},Y=async()=>{const ae=I.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[ae]){Ie.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ae}));return}if(Object.keys(a).length===_u){Ie.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[$,x]=await Ga(localStorage.token,ae,g).catch(ge=>(Ie.error(ge),null));if($){const ge=$.body.pipeThrough(new TextDecoderStream).pipeThrough(ds(`
`)).getReader();for(as.set({...a,[ae]:{...a[ae],abortController:x,reader:ge,done:!1}});;)try{const{value:be,done:De}=await ge.read();if(De)break;let we=be.split(`
`);for(const de of we)if(de!==""){let oe=JSON.parse(de);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;if(oe.status)if(oe.digest){let Me=0;oe.completed?Me=Math.round(oe.completed/oe.total*1e3)/10:Me=100,as.set({...a,[ae]:{...a[ae],pullProgress:Me,digest:oe.digest}})}else Ie.success(oe.status),as.set({...a,[ae]:{...a[ae],done:oe.status==="success"}})}}catch(be){console.log(be),typeof be!="string"&&(be=be.message),Ie.error(be)}console.log(a[ae]),a[ae].done?(Ie.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ae})),el.set(await f())):Ie.error(l.t("Download canceled")),delete a[ae],as.set({...a})}t(10,I=""),t(9,k=!1)},q=async()=>{t(9,k=!0);let ae=!1,$=null,x="";if(R==="file"){const ge=F?F[0]:null;ge&&(t(22,B="Uploading..."),$=await Di(localStorage.token,ge,g).catch(be=>(Ie.error(be),null)))}else t(21,j=0),$=await Vi(localStorage.token,C,g).catch(ge=>(Ie.error(ge),null));if($&&$.ok){const ge=$.body.pipeThrough(new TextDecoderStream).pipeThrough(ds(`
`)).getReader();for(;;){const{value:be,done:De}=await ge.read();if(De)break;try{let we=be.split(`
`);for(const de of we)if(de!==""){let oe=JSON.parse(de.replace(/^data: /,""));if(oe.progress&&(B&&t(22,B=""),t(21,j=oe.progress)),oe.error)throw oe.error;oe.done&&(t(20,z=oe.blob),x=oe.name,ae=!0)}}catch(we){console.log(we)}}}else{const ge=await($==null?void 0:$.json());Ie.error((ge==null?void 0:ge.detail)??ge)}if(ae){const ge=await Ka(localStorage.token,`${x}:latest`,`FROM @${z}
${K}`);if(ge&&ge.ok){const be=ge.body.pipeThrough(new TextDecoderStream).pipeThrough(ds(`
`)).getReader();for(;;){const{value:De,done:we}=await be.read();if(we)break;try{let de=De.split(`
`);for(const oe of de)if(oe!==""){console.log(oe);let Me=JSON.parse(oe);if(console.log(Me),Me.error)throw Me.error;if(Me.detail)throw Me.detail;Me.status&&(!Me.digest&&!Me.status.includes("writing")&&!Me.status.includes("sha256")?Ie.success(Me.status):Me.digest&&(G=Me.digest,Me.completed?Q=Math.round(Me.completed/Me.total*1e3)/10:Q=100))}}catch(de){console.log(de),Ie.error(de)}}}}t(18,C=""),c&&t(0,c.value="",c),t(17,F=null),t(9,k=!1),t(21,j=null),el.set(await f())},U=async()=>{await za(localStorage.token,W,g).catch($=>{Ie.error($)})&&Ie.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:W})),t(23,W=""),el.set(await f())},ue=async ae=>{const{reader:$,abortController:x}=a[ae];x&&x.abort(),$&&(await $.cancel(),delete a[ae],as.set({...a}),await za(localStorage.token,ae),Ie.success(`${ae} download has been canceled`))},he=async()=>{t(11,T=!0);const ae=await Ka(localStorage.token,S,A,g).catch($=>(Ie.error($),null));if(ae&&ae.ok){const $=ae.body.pipeThrough(new TextDecoderStream).pipeThrough(ds(`
`)).getReader();for(;;){const{value:x,done:ge}=await $.read();if(ge)break;try{let be=x.split(`
`);for(const De of be)if(De!==""){console.log(De);let we=JSON.parse(De);if(console.log(we),we.error)throw we.error;if(we.detail)throw we.detail;we.status&&(!we.digest&&!we.status.includes("writing")&&!we.status.includes("sha256")?Ie.success(we.status):we.digest&&(t(14,H=we.digest),we.completed?t(15,M=Math.round(we.completed/we.total*1e3)/10):t(15,M=100)))}}catch(be){console.log(be),Ie.error(be)}}}el.set(await f()),t(11,T=!1),t(12,S=""),t(13,A=""),t(14,H=""),t(15,M=null)};dl(async()=>{(await Pn(localStorage.token)).ENABLE_OLLAMA_API?(t(2,b=!0),await Promise.all([(async()=>{t(3,p=await Ln(localStorage.token).catch($=>(Ie.error($),[]))),p.length>0&&t(4,g=0)})(),(async()=>{t(8,y=await xs(localStorage.token).catch($=>!1))})()])):(t(2,b=!1),Ie.error(l.t("Ollama API is disabled")))});function J(ae){_=ae,t(1,_)}const ee=()=>{U()};function Ee(){g=zt(this),t(4,g)}const Ve=()=>{Z()};function Pe(){I=this.value,t(10,I)}const Ce=()=>{Y()},ye=ae=>{ue(ae)},Ne=ae=>{var $;return!((ae==null?void 0:ae.preset)??!1)&&ae.owned_by==="ollama"&&(g===null?!0:((($=ae==null?void 0:ae.ollama)==null?void 0:$.urls)??[]).includes(g))};function je(){W=zt(this),t(23,W),t(4,g)}const Le=()=>{t(1,_=!0)};function Be(){S=this.value,t(12,S)}function Se(){A=this.value,t(13,A)}const We=()=>{he()},Te=()=>{t(7,w=!w)},qe=()=>{R==="file"?t(16,R="url"):t(16,R="file")};function ke(ae){St[ae?"unshift":"push"](()=>{c=ae,t(0,c)})}function He(){F=this.files,t(17,F)}const pe=()=>{console.log(F)},fe=()=>{c.click()};function Ae(){C=this.value,t(18,C)}function se(){K=this.value,t(19,K)}return[c,_,b,p,g,m,E,w,y,k,I,T,S,A,H,M,R,F,C,K,z,j,B,W,l,a,i,n,Z,Y,q,U,ue,he,J,ee,Ee,Ve,Pe,Ce,ye,Ne,je,Le,Be,Se,We,Te,qe,ke,He,pe,fe,Ae,se,()=>{q()}]}class pu extends ul{constructor(e){super(),cl(this,e,vu,hu,ol,{},null,[-1,-1,-1])}}function un(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function cn(s,e,t){const l=s.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function gu(s){let e,t,l,a;return l=new ns({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=v(e);t=h(n,"DIV",{class:!0});var f=v(t);tt(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,n){L(i,e,n),r(e,t),lt(l,t,null),a=!0},p:ct,i(i){a||(re(l.$$.fragment,i),a=!0)},o(i){ve(l.$$.fragment,i),a=!1},d(i){i&&u(e),st(l)}}}function mu(s){let e,t,l,a,i=s[6].t("OpenAI API")+"",n,f,c,_,b,p,g,m,E,w,y,k,I=s[6].t("Ollama API")+"",T,S,A,H,M,G,Q;function R(B){s[13](B)}let F={};s[4]!==void 0&&(F.state=s[4]),_=new Al({props:F}),St.push(()=>Pt(_,"state",R)),_.$on("change",s[14]);let C=s[4]&&fn(s);function K(B){s[20](B)}let z={};s[5]!==void 0&&(z.state=s[5]),H=new Al({props:z}),St.push(()=>Pt(H,"state",K)),H.$on("change",s[21]);let j=s[5]&&_n(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),n=O(i),f=D(),c=d("div"),et(_.$$.fragment),p=D(),C&&C.c(),g=D(),m=d("hr"),E=D(),w=d("div"),y=d("div"),k=d("div"),T=O(I),S=D(),A=d("div"),et(H.$$.fragment),G=D(),j&&j.c(),this.h()},l(B){e=h(B,"DIV",{class:!0});var W=v(e);t=h(W,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var Y=v(l);a=h(Y,"DIV",{class:!0});var q=v(a);n=P(q,i),q.forEach(u),f=V(Y),c=h(Y,"DIV",{class:!0});var U=v(c);tt(_.$$.fragment,U),U.forEach(u),Y.forEach(u),p=V(Z),C&&C.l(Z),Z.forEach(u),W.forEach(u),g=V(B),m=h(B,"HR",{class:!0}),E=V(B),w=h(B,"DIV",{class:!0});var ue=v(w);y=h(ue,"DIV",{class:!0});var he=v(y);k=h(he,"DIV",{class:!0});var J=v(k);T=P(J,I),J.forEach(u),S=V(he),A=h(he,"DIV",{class:!0});var ee=v(A);tt(H.$$.fragment,ee),ee.forEach(u),he.forEach(u),G=V(ue),j&&j.l(ue),ue.forEach(u),this.h()},h(){o(a,"class","font-medium"),o(c,"class","mt-1"),o(l,"class","flex justify-between items-center text-sm"),o(t,"class","mt-2 space-y-2 pr-1.5"),o(e,"class","space-y-3"),o(m,"class","dark:border-gray-850"),o(k,"class","font-medium"),o(A,"class","mt-1"),o(y,"class","flex justify-between items-center text-sm"),o(w,"class","pr-1.5 space-y-2")},m(B,W){L(B,e,W),r(e,t),r(t,l),r(l,a),r(a,n),r(l,f),r(l,c),lt(_,c,null),r(t,p),C&&C.m(t,null),L(B,g,W),L(B,m,W),L(B,E,W),L(B,w,W),r(w,y),r(y,k),r(k,T),r(y,S),r(y,A),lt(H,A,null),r(w,G),j&&j.m(w,null),Q=!0},p(B,W){(!Q||W[0]&64)&&i!==(i=B[6].t("OpenAI API")+"")&&N(n,i);const Z={};!b&&W[0]&16&&(b=!0,Z.state=B[4],Ot(()=>b=!1)),_.$set(Z),B[4]?C?(C.p(B,W),W[0]&16&&re(C,1)):(C=fn(B),C.c(),re(C,1),C.m(t,null)):C&&(kt(),ve(C,1,1,()=>{C=null}),Et()),(!Q||W[0]&64)&&I!==(I=B[6].t("Ollama API")+"")&&N(T,I);const Y={};!M&&W[0]&32&&(M=!0,Y.state=B[5],Ot(()=>M=!1)),H.$set(Y),B[5]?j?(j.p(B,W),W[0]&32&&re(j,1)):(j=_n(B),j.c(),re(j,1),j.m(w,null)):j&&(kt(),ve(j,1,1,()=>{j=null}),Et())},i(B){Q||(re(_.$$.fragment,B),re(C),re(H.$$.fragment,B),re(j),Q=!0)},o(B){ve(_.$$.fragment,B),ve(C),ve(H.$$.fragment,B),ve(j),Q=!1},d(B){B&&(u(e),u(g),u(m),u(E),u(w)),st(_),C&&C.d(),st(H),j&&j.d()}}}function fn(s){let e,t,l=nt(s[2]),a=[];for(let n=0;n<l.length;n+=1)a[n]=hn(cn(s,l,n));const i=n=>ve(a[n],1,1,()=>{a[n]=null});return{c(){e=d("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=h(n,"DIV",{class:!0});var f=v(e);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(u),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(n,f){L(n,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(n,f){if(f[0]&590){l=nt(n[2]);let c;for(c=0;c<l.length;c+=1){const _=cn(n,l,c);a[c]?(a[c].p(_,f),re(a[c],1)):(a[c]=hn(_),a[c].c(),re(a[c],1),a[c].m(e,null))}for(kt(),c=l.length;c<a.length;c+=1)i(c);Et()}},i(n){if(!t){for(let f=0;f<l.length;f+=1)re(a[f]);t=!0}},o(n){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ve(a[f]);t=!1},d(n){n&&u(e),Ct(a,n)}}}function dn(s){let e,t,l;return t=new ql({props:{content:"Pipelines",$$slots:{default:[bu]},$$scope:{ctx:s}}}),{c(){e=d("div"),et(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=v(e);tt(t.$$.fragment,i),i.forEach(u),this.h()},h(){o(e,"class","absolute top-2.5 right-2.5")},m(a,i){L(a,e,i),lt(t,e,null),l=!0},i(a){l||(re(t.$$.fragment,a),l=!0)},o(a){ve(t.$$.fragment,a),l=!1},d(a){a&&u(e),st(t)}}}function bu(s){let e,t,l,a;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),a=mt("path"),this.h()},l(i){e=bt(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=bt(n,"path",{d:!0}),v(t).forEach(u),l=bt(n,"path",{d:!0}),v(l).forEach(u),a=bt(n,"path",{d:!0}),v(a).forEach(u),n.forEach(u),this.h()},h(){o(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),o(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),o(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(i,n){L(i,e,n),r(e,t),r(e,l),r(e,a)},p:ct,d(i){i&&u(e)}}}function ku(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function i(){return s[18](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function Eu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){L(i,e,n),l||(a=te(e,"click",s[17]),l=!0)},p:ct,d(i){i&&u(e),l=!1,a()}}}function wu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function i(){return s[19](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function hn(s){let e,t,l,a,i,n,f,c,_,b,p,g,m,E,w,y,k=s[6].t("WebUI will make requests to")+"",I,T,S,A,H=s[29]+"",M,G,Q,R,F,C;function K(){s[15].call(l,s[32],s[31])}let z=s[3][s[29]]&&dn(s);function j(q){s[16](q,s[31])}let B={placeholder:s[6].t("API Key")};s[1][s[31]]!==void 0&&(B.value=s[1][s[31]]),c=new hl({props:B}),St.push(()=>Pt(c,"value",j));function W(q,U){return q[31]===0?Eu:ku}let Y=W(s)(s);return E=new ql({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[wu]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("input"),n=D(),z&&z.c(),f=D(),et(c.$$.fragment),b=D(),p=d("div"),Y.c(),g=D(),m=d("div"),et(E.$$.fragment),w=D(),y=d("div"),I=O(k),T=D(),S=d("span"),A=O("'"),M=O(H),G=O("/models'"),Q=D(),this.h()},l(q){e=h(q,"DIV",{class:!0});var U=v(e);t=h(U,"DIV",{class:!0});var ue=v(t);l=h(ue,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),n=V(ue),z&&z.l(ue),ue.forEach(u),f=V(U),tt(c.$$.fragment,U),b=V(U),p=h(U,"DIV",{class:!0});var he=v(p);Y.l(he),he.forEach(u),g=V(U),m=h(U,"DIV",{class:!0});var J=v(m);tt(E.$$.fragment,J),J.forEach(u),U.forEach(u),w=V(q),y=h(q,"DIV",{class:!0});var ee=v(y);I=P(ee,k),T=V(ee),S=h(ee,"SPAN",{class:!0});var Ee=v(S);A=P(Ee,"'"),M=P(Ee,H),G=P(Ee,"/models'"),Ee.forEach(u),Q=V(ee),ee.forEach(u),this.h()},h(){o(l,"class",a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",i=s[6].t("API Base URL")),o(l,"autocomplete","off"),o(t,"class","flex-1 relative"),o(p,"class","self-center flex items-center"),o(m,"class","flex"),o(e,"class","flex w-full gap-2"),o(S,"class","text-gray-200"),o(y,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(q,U){L(q,e,U),r(e,t),r(t,l),X(l,s[29]),r(t,n),z&&z.m(t,null),r(e,f),lt(c,e,null),r(e,b),r(e,p),Y.m(p,null),r(e,g),r(e,m),lt(E,m,null),L(q,w,U),L(q,y,U),r(y,I),r(y,T),r(y,S),r(S,A),r(S,M),r(S,G),r(y,Q),R=!0,F||(C=te(l,"input",K),F=!0)},p(q,U){s=q,(!R||U[0]&12&&a!==(a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"))&&o(l,"class",a),(!R||U[0]&64&&i!==(i=s[6].t("API Base URL")))&&o(l,"placeholder",i),U[0]&4&&l.value!==s[29]&&X(l,s[29]),s[3][s[29]]?z?U[0]&12&&re(z,1):(z=dn(s),z.c(),re(z,1),z.m(t,null)):z&&(kt(),ve(z,1,1,()=>{z=null}),Et());const ue={};U[0]&64&&(ue.placeholder=s[6].t("API Key")),!_&&U[0]&2&&(_=!0,ue.value=s[1][s[31]],Ot(()=>_=!1)),c.$set(ue),Y.p(s,U);const he={};U[1]&4&&(he.$$scope={dirty:U,ctx:s}),E.$set(he),(!R||U[0]&64)&&k!==(k=s[6].t("WebUI will make requests to")+"")&&N(I,k),(!R||U[0]&4)&&H!==(H=s[29]+"")&&N(M,H)},i(q){R||(re(z),re(c.$$.fragment,q),re(E.$$.fragment,q),R=!0)},o(q){ve(z),ve(c.$$.fragment,q),ve(E.$$.fragment,q),R=!1},d(q){q&&(u(e),u(w),u(y)),z&&z.d(),st(c),Y.d(),st(E),F=!1,C()}}}function _n(s){let e,t,l,a,i=s[6].t("Trouble accessing Ollama?")+"",n,f,c,_=s[6].t("Click here for help.")+"",b,p,g=nt(s[0]),m=[];for(let w=0;w<g.length;w+=1)m[w]=vn(un(s,g,w));const E=w=>ve(m[w],1,1,()=>{m[w]=null});return{c(){e=d("div"),t=d("div");for(let w=0;w<m.length;w+=1)m[w].c();l=D(),a=d("div"),n=O(i),f=D(),c=d("a"),b=O(_),this.h()},l(w){e=h(w,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var k=v(t);for(let S=0;S<m.length;S+=1)m[S].l(k);k.forEach(u),y.forEach(u),l=V(w),a=h(w,"DIV",{class:!0});var I=v(a);n=P(I,i),f=V(I),c=h(I,"A",{class:!0,href:!0,target:!0});var T=v(c);b=P(T,_),T.forEach(u),I.forEach(u),this.h()},h(){o(t,"class","flex-1 flex flex-col gap-2"),o(e,"class","flex w-full gap-1.5"),o(c,"class","text-gray-300 font-medium underline"),o(c,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(c,"target","_blank"),o(a,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(w,y){L(w,e,y),r(e,t);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(t,null);L(w,l,y),L(w,a,y),r(a,n),r(a,f),r(a,c),r(c,b),p=!0},p(w,y){if(y[0]&1089){g=nt(w[0]);let k;for(k=0;k<g.length;k+=1){const I=un(w,g,k);m[k]?(m[k].p(I,y),re(m[k],1)):(m[k]=vn(I),m[k].c(),re(m[k],1),m[k].m(t,null))}for(kt(),k=g.length;k<m.length;k+=1)E(k);Et()}(!p||y[0]&64)&&i!==(i=w[6].t("Trouble accessing Ollama?")+"")&&N(n,i),(!p||y[0]&64)&&_!==(_=w[6].t("Click here for help.")+"")&&N(b,_)},i(w){if(!p){for(let y=0;y<g.length;y+=1)re(m[y]);p=!0}},o(w){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)ve(m[y]);p=!1},d(w){w&&(u(e),u(l),u(a)),Ct(m,w)}}}function yu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function i(){return s[24](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function Iu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){L(i,e,n),l||(a=te(e,"click",s[23]),l=!0)},p:ct,d(i){i&&u(e),l=!1,a()}}}function Tu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function i(){return s[25](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=h(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(n,f){L(n,e,f),l||(a=te(e,"click",i),l=!0)},p(n,f){s=n},d(n){n&&u(e),l=!1,a()}}}function vn(s){let e,t,l,a,i,n,f,c,_,b,p,g;function m(){s[22].call(t,s[30],s[31])}function E(k,I){return k[31]===0?Iu:yu}let y=E(s)(s);return c=new ql({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=D(),i=d("div"),y.c(),n=D(),f=d("div"),et(c.$$.fragment),_=D(),this.h()},l(k){e=h(k,"DIV",{class:!0});var I=v(e);t=h(I,"INPUT",{class:!0,placeholder:!0}),a=V(I),i=h(I,"DIV",{class:!0});var T=v(i);y.l(T),T.forEach(u),n=V(I),f=h(I,"DIV",{class:!0});var S=v(f);tt(c.$$.fragment,S),S.forEach(u),_=V(I),I.forEach(u),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[6].t("Enter URL (e.g. http://localhost:11434)")),o(i,"class","self-center flex items-center"),o(f,"class","flex"),o(e,"class","flex gap-1.5")},m(k,I){L(k,e,I),r(e,t),X(t,s[29]),r(e,a),r(e,i),y.m(i,null),r(e,n),r(e,f),lt(c,f,null),r(e,_),b=!0,p||(g=te(t,"input",m),p=!0)},p(k,I){s=k,(!b||I[0]&64&&l!==(l=s[6].t("Enter URL (e.g. http://localhost:11434)")))&&o(t,"placeholder",l),I[0]&1&&t.value!==s[29]&&X(t,s[29]),y.p(s,I);const T={};I[1]&4&&(T.$$scope={dirty:I,ctx:s}),c.$set(T)},i(k){b||(re(c.$$.fragment,k),b=!0)},o(k){ve(c.$$.fragment,k),b=!1},d(k){k&&u(e),y.d(),st(c),p=!1,g()}}}function Du(s){let e,t,l,a,i,n,f,c=s[6].t("Save")+"",_,b,p,g;const m=[mu,gu],E=[];function w(y,k){return y[4]!==null&&y[5]!==null?0:1}return l=w(s),a=E[l]=m[l](s),{c(){e=d("form"),t=d("div"),a.c(),i=D(),n=d("div"),f=d("button"),_=O(c),this.h()},l(y){e=h(y,"FORM",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var I=v(t);a.l(I),I.forEach(u),i=V(k),n=h(k,"DIV",{class:!0});var T=v(n);f=h(T,"BUTTON",{class:!0,type:!0});var S=v(f);_=P(S,c),S.forEach(u),T.forEach(u),k.forEach(u),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(f,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(f,"type","submit"),o(n,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(y,k){L(y,e,k),r(e,t),E[l].m(t,null),r(e,i),r(e,n),r(n,f),r(f,_),b=!0,p||(g=te(e,"submit",El(s[26])),p=!0)},p(y,k){let I=l;l=w(y),l===I?E[l].p(y,k):(kt(),ve(E[I],1,1,()=>{E[I]=null}),Et(),a=E[l],a?a.p(y,k):(a=E[l]=m[l](y),a.c()),re(a,1),a.m(t,null)),(!b||k[0]&64)&&c!==(c=y[6].t("Save")+"")&&N(_,c)},i(y){b||(re(a),b=!0)},o(y){ve(a),b=!1},d(y){y&&u(e),E[l].d(),p=!1,g()}}}function Vu(s,e,t){let l,a;Ut(s,ta,B=>t(27,l=B));const i=Bs(),n=fl("i18n");Ut(s,n,B=>t(6,a=B));const f=async()=>await rs(localStorage.token);let c=[""],_=[""],b=[""],p={},g=null,m=null;const E=async B=>{t(2,b=b.map(Z=>Z.replace(/\/$/,""))),t(2,b=await Fa(localStorage.token,b)),t(1,_=await $a(localStorage.token,_));const W=await Ya(localStorage.token,B).catch(Z=>(Ie.error(Z),null));W&&(Ie.success(a.t("Server connection verified")),W.pipelines&&t(3,p[b[B]]=!0,p)),await el.set(await f())},w=async B=>{t(0,c=c.filter(Z=>Z!=="").map(Z=>Z.replace(/\/$/,""))),t(0,c=await qa(localStorage.token,c)),await xs(localStorage.token,B).catch(Z=>(Ie.error(Z),null))&&Ie.success(a.t("Server connection verified")),await el.set(await f())},y=async()=>{if(t(2,b=b.map(B=>B.replace(/\/$/,""))),_.length!==b.length&&(_.length>b.length&&t(1,_=_.slice(0,b.length)),_.length<b.length)){const B=b.length-_.length;for(let W=0;W<B;W++)_.push("")}t(2,b=await Fa(localStorage.token,b)),t(1,_=await $a(localStorage.token,_)),await el.set(await f())},k=async()=>{t(0,c=c.filter(B=>B!=="").map(B=>B.replace(/\/$/,""))),console.log(c),c.length===0?(t(5,m=!1),await Wa(localStorage.token,m),Ie.info(a.t("Ollama API disabled"))):(t(0,c=await qa(localStorage.token,c)),await xs(localStorage.token).catch(W=>(Ie.error(W),null))&&(Ie.success(a.t("Server connection verified")),await el.set(await f())))};dl(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,c=await Ln(localStorage.token))})(),(async()=>{t(2,b=await Si(localStorage.token))})(),(async()=>{t(1,_=await Ai(localStorage.token))})()]),b.forEach(async(Z,Y)=>{(await Ya(localStorage.token,Y)).pipelines&&t(3,p[Z]=!0,p)});const B=await Pn(localStorage.token),W=await Mi(localStorage.token);t(4,g=W.ENABLE_OPENAI_API),t(5,m=B.ENABLE_OLLAMA_API)}});function I(B){g=B,t(4,g)}const T=async()=>{Oi(localStorage.token,g)};function S(B,W){B[W]=this.value,t(2,b)}function A(B,W){s.$$.not_equal(_[W],B)&&(_[W]=B,t(1,_))}const H=()=>{t(2,b=[...b,""]),t(1,_=[..._,""])},M=B=>{t(2,b=b.filter((W,Z)=>B!==Z)),t(1,_=_.filter((W,Z)=>B!==Z))},G=B=>{E(B)};function Q(B){m=B,t(5,m)}const R=async()=>{Wa(localStorage.token,m),c.length===0&&t(0,c=[""])};function F(B,W){B[W]=this.value,t(0,c)}return[c,_,b,p,g,m,a,i,n,E,w,y,k,I,T,S,A,H,M,G,Q,R,F,()=>{t(0,c=[...c,""])},B=>{t(0,c=c.filter((W,Z)=>B!==Z))},B=>{w(B)},()=>{y(),k(),i("save")}]}class Su extends ul{constructor(e){super(),cl(this,e,Vu,Du,ol,{},null,[-1,-1])}}function pn(s,e,t){const l=s.slice();return l[58]=e[t],l}function gn(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}

									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1u2pzpa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-3 self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function mn(s){let e,t,l,a,i,n,f,c,_,b=s[19].t("Embedding Batch Size")+"",p,g,m,E,w,y,k,I,T,S;function A(M){s[35](M)}let H={placeholder:s[19].t("API Key")};return s[15]!==void 0&&(H.value=s[15]),i=new hl({props:H}),St.push(()=>Pt(i,"value",A)),{c(){e=d("div"),t=d("input"),a=D(),et(i.$$.fragment),f=D(),c=d("div"),_=d("div"),p=O(b),g=D(),m=d("div"),E=d("input"),w=D(),y=d("div"),k=d("input"),this.h()},l(M){e=h(M,"DIV",{class:!0});var G=v(e);t=h(G,"INPUT",{class:!0,placeholder:!0}),a=V(G),tt(i.$$.fragment,G),G.forEach(u),f=V(M),c=h(M,"DIV",{class:!0});var Q=v(c);_=h(Q,"DIV",{class:!0});var R=v(_);p=P(R,b),R.forEach(u),g=V(Q),m=h(Q,"DIV",{class:!0});var F=v(m);E=h(F,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),F.forEach(u),w=V(Q),y=h(Q,"DIV",{class:!0});var C=v(y);k=h(C,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),C.forEach(u),Q.forEach(u),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder",l=s[19].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2"),o(_,"class","self-center text-xs font-medium"),o(E,"id","steps-range"),o(E,"type","range"),o(E,"min","1"),o(E,"max","2048"),o(E,"step","1"),o(E,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),o(m,"class","flex-1"),o(k,"type","number"),o(k,"class","bg-transparent text-center w-14"),o(k,"min","-2"),o(k,"max","16000"),o(k,"step","1"),o(y,"class",""),o(c,"class","flex mt-0.5 space-x-2")},m(M,G){L(M,e,G),r(e,t),X(t,s[16]),r(e,a),lt(i,e,null),L(M,f,G),L(M,c,G),r(c,_),r(_,p),r(c,g),r(c,m),r(m,E),X(E,s[17]),r(c,w),r(c,y),r(y,k),X(k,s[17]),I=!0,T||(S=[te(t,"input",s[34]),te(E,"change",s[36]),te(E,"input",s[36]),te(k,"input",s[37])],T=!0)},p(M,G){(!I||G[0]&524288&&l!==(l=M[19].t("API Base URL")))&&o(t,"placeholder",l),G[0]&65536&&t.value!==M[16]&&X(t,M[16]);const Q={};G[0]&524288&&(Q.placeholder=M[19].t("API Key")),!n&&G[0]&32768&&(n=!0,Q.value=M[15],Ot(()=>n=!1)),i.$set(Q),(!I||G[0]&524288)&&b!==(b=M[19].t("Embedding Batch Size")+"")&&N(p,b),G[0]&131072&&X(E,M[17]),G[0]&131072&&il(k.value)!==M[17]&&X(k,M[17])},i(M){I||(re(i.$$.fragment,M),I=!0)},o(M){ve(i.$$.fragment,M),I=!1},d(M){M&&(u(e),u(f),u(c)),st(i),T=!1,At(S)}}}function Au(s){let e,t=s[19].t("Off")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&524288&&t!==(t=a[19].t("Off")+"")&&N(l,t)},d(a){a&&u(e)}}}function Mu(s){let e,t=s[19].t("On")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&524288&&t!==(t=a[19].t("On")+"")&&N(l,t)},d(a){a&&u(e)}}}function Ou(s){let e,t,l,a,i,n,f,c=s[6]===""&&bn(s);return{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),c&&c.c(),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var p=v(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(u),i=V(b),c&&c.l(b),b.forEach(u),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[19].t("Set embedding model (e.g. {{model}})",{model:s[7].slice(-40)})),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(_,b){L(_,e,b),r(e,t),r(t,l),X(l,s[7]),r(e,i),c&&c.m(e,null),n||(f=te(l,"input",s[40]),n=!0)},p(_,b){b[0]&1572992&&a!==(a=_[19].t("Set embedding model (e.g. {{model}})",{model:_[7].slice(-40)}))&&o(l,"placeholder",a),b[0]&1048704&&l.value!==_[7]&&X(l,_[7]),_[6]===""?c?c.p(_,b):(c=bn(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(_){_&&u(e),c&&c.d(),n=!1,f()}}}function Pu(s){let e,t,l,a,i,n,f,c=!s[7]&&kn(s),_=nt(s[20].filter(Dn)),b=[];for(let p=0;p<_.length;p+=1)b[p]=En(pn(s,_,p));return{c(){e=d("div"),t=d("div"),l=d("select"),c&&c.c(),a=Lt();for(let p=0;p<b.length;p+=1)b[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);l=h(m,"SELECT",{class:!0,placeholder:!0});var E=v(l);c&&c.l(E),a=Lt();for(let w=0;w<b.length;w+=1)b[w].l(E);E.forEach(u),m.forEach(u),g.forEach(u),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",i=s[19].t("Select a model")),l.required=!0,s[7]===void 0&&Kt(()=>s[39].call(l)),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(p,g){L(p,e,g),r(e,t),r(t,l),c&&c.m(l,null),r(l,a);for(let m=0;m<b.length;m+=1)b[m]&&b[m].m(l,null);ht(l,s[7],!0),n||(f=te(l,"change",s[39]),n=!0)},p(p,g){if(p[7]?c&&(c.d(1),c=null):c?c.p(p,g):(c=kn(p),c.c(),c.m(l,a)),g[0]&1048576){_=nt(p[20].filter(Dn));let m;for(m=0;m<_.length;m+=1){const E=pn(p,_,m);b[m]?b[m].p(E,g):(b[m]=En(E),b[m].c(),b[m].m(l,null))}for(;m<b.length;m+=1)b[m].d(1);b.length=_.length}g[0]&524288&&i!==(i=p[19].t("Select a model"))&&o(l,"placeholder",i),g[0]&1048704&&ht(l,p[7])},d(p){p&&u(e),c&&c.d(),Ct(b,p),n=!1,f()}}}function bn(s){let e,t,l;function a(f,c){return f[2]?Nu:Lu}let i=a(s),n=i(s);return{c(){e=d("button"),n.c(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var c=v(e);n.l(c),c.forEach(u),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(f,c){L(f,e,c),n.m(e,null),t||(l=te(e,"click",s[41]),t=!0)},p(f,c){i!==(i=a(f))&&(n.d(1),n=i(f),n&&(n.c(),n.m(e,null))),c[0]&4&&(e.disabled=f[2])},d(f){f&&u(e),n.d(),t=!1,l()}}}function Lu(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Nu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function kn(s){let e,t=s[19].t("Select a model")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value="",X(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){L(a,e,i),r(e,l)},p(a,i){i[0]&524288&&t!==(t=a[19].t("Select a model")+"")&&N(l,t)},d(a){a&&u(e)}}}function En(s){let e,t=s[58].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=v(e);l=P(n,t),n.forEach(u),this.h()},h(){e.__value=a=s[58].id,X(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,n){L(i,e,n),r(e,l)},p(i,n){n[0]&1048576&&t!==(t=i[58].name+"")&&N(l,t),n[0]&1048576&&a!==(a=i[58].id)&&(e.__value=a,X(e,e.__value))},d(i){i&&u(e)}}}function wn(s){let e,t,l=s[19].t("Reranking Model")+"",a,i,n,f,c,_,b,p,g,m;function E(k,I){return k[3]?Cu:Uu}let w=E(s),y=w(s);return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=d("input"),b=D(),p=d("button"),y.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(u),i=V(I),n=h(I,"DIV",{class:!0});var S=v(n);f=h(S,"DIV",{class:!0});var A=v(f);c=h(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(u),b=V(S),p=h(S,"BUTTON",{class:!0});var H=v(p);y.l(H),H.forEach(u),S.forEach(u),I.forEach(u),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder",_=s[19].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[3],o(n,"class","flex w-full"),o(e,"class","")},m(k,I){L(k,e,I),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),X(c,s[8]),r(n,b),r(n,p),y.m(p,null),g||(m=[te(c,"input",s[42]),te(p,"click",s[43])],g=!0)},p(k,I){I[0]&524288&&l!==(l=k[19].t("Reranking Model")+"")&&N(a,l),I[0]&524288&&_!==(_=k[19].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&o(c,"placeholder",_),I[0]&256&&c.value!==k[8]&&X(c,k[8]),w!==(w=E(k))&&(y.d(1),y=w(k),y&&(y.c(),y.m(p,null))),I[0]&8&&(p.disabled=k[3])},d(k){k&&u(e),y.d(),g=!1,At(m)}}}function Uu(s){let e,t,l;return{c(){e=mt("svg"),t=mt("path"),l=mt("path"),this.h()},l(a){e=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=bt(i,"path",{d:!0}),v(t).forEach(u),l=bt(i,"path",{d:!0}),v(l).forEach(u),i.forEach(u),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){L(a,e,i),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Cu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){L(l,e,a)},d(l){l&&u(e)}}}function yn(s){let e,t,l,a,i,n;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=h(f,"DIV",{class:!0});var c=v(e);t=h(c,"DIV",{class:!0});var _=v(t);l=h(_,"INPUT",{class:!0,placeholder:!0}),_.forEach(u),c.forEach(u),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[19].t("Enter Tika Server URL")),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full mt-2")},m(f,c){L(f,e,c),r(e,t),r(t,l),X(l,s[10]),i||(n=te(l,"input",s[46]),i=!0)},p(f,c){c[0]&524288&&a!==(a=f[19].t("Enter Tika Server URL"))&&o(l,"placeholder",a),c[0]&1024&&l.value!==f[10]&&X(l,f[10])},d(f){f&&u(e),i=!1,n()}}}function In(s){let e,t,l=s[19].t("Minimum Score")+"",a,i,n,f,c,_,b,p;return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("input"),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(u),i=V(m),n=h(m,"DIV",{class:!0});var w=v(n);f=h(w,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),w.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium min-w-fit"),o(f,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"type","number"),o(f,"step","0.01"),o(f,"placeholder",c=s[19].t("Enter Score")),o(f,"autocomplete","off"),o(f,"min","0.0"),o(f,"title",_=s[19].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),o(n,"class","self-center p-3"),o(e,"class","flex w-full")},m(g,m){L(g,e,m),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),X(f,s[18].r),b||(p=te(f,"input",s[48]),b=!0)},p(g,m){m[0]&524288&&l!==(l=g[19].t("Minimum Score")+"")&&N(a,l),m[0]&524288&&c!==(c=g[19].t("Enter Score"))&&o(f,"placeholder",c),m[0]&524288&&_!==(_=g[19].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&o(f,"title",_),m[0]&262144&&il(f.value)!==g[18].r&&X(f,g[18].r)},d(g){g&&u(e),b=!1,p()}}}function Tn(s){let e,t=s[19].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,a,i;return{c(){e=d("div"),l=O(t),a=D(),i=d("hr"),this.h()},l(n){e=h(n,"DIV",{class:!0});var f=v(e);l=P(f,t),f.forEach(u),a=V(n),i=h(n,"HR",{class:!0}),this.h()},h(){o(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(i,"class","dark:border-gray-850 my-3")},m(n,f){L(n,e,f),r(e,l),L(n,a,f),L(n,i,f)},p(n,f){f[0]&524288&&t!==(t=n[19].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&N(l,t)},d(n){n&&(u(e),u(a),u(i))}}}function Hu(s){let e,t,l,a,i,n,f,c,_,b,p=s[19].t("General Settings")+"",g,m,E,w,y=s[19].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",k,I,T,S,A=s[19].t("Scan")+"",H,M,G,Q,R,F,C=s[19].t("Embedding Model Engine")+"",K,z,j,B,W,Z=s[19].t("Default (SentenceTransformers)")+"",Y,q,U=s[19].t("Ollama")+"",ue,he,J=s[19].t("OpenAI")+"",ee,Ee,Ve,Pe,Ce,ye=s[19].t("Hybrid Search")+"",Ne,je,Le,Be,Se,We,Te,qe,ke,He,pe=s[19].t("Embedding Model")+"",fe,Ae,se,ne,ae=s[19].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",$,x,ge,be,De,we,de,oe=s[19].t("Content Extraction")+"",Me,ze,Ue,Ye,Je=s[19].t("Engine")+"",Fe,it,Ze,xe,Oe,rt=s[19].t("Default")+"",$e,ft,Re,_e=s[19].t("Tika")+"",ie,ce,le,Xe,vt,_t,Dt,Vt=s[19].t("Query Params")+"",Ht,qt,Mt,It,Rt,Nt=s[19].t("Top K")+"",Bt,Wt,wt,ot,pt,ut,Ft,jt,Zt,Tt,Yt=s[19].t("RAG Template")+"",Ge,Qe,dt,Ml,Bl,Ol,ll,_l,Pl=s[19].t("Chunk Params")+"",Tl,Wl,sl,vl,pl,Ll=s[19].t("Chunk Size")+"",Dl,Yl,gl,$t,Vl,Fl,al,Sl,wl=s[19].t("Chunk Overlap")+"",jl,$l,Ql,rl,_s,js,Xl,Nl,Jl,is=s[19].t("PDF Extract Images (OCR)")+"",vs,Zs,Ul,os=(s[14]?s[19].t("On"):s[19].t("Off"))+"",ps,Gs,gs,zs,Zl,yl,Gl,la='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Ks,xl,us=s[19].t("Reset Upload Directory")+"",ms,qs,Il,zl,sa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',Ws,es,cs=s[19].t("Reset Vector Storage")+"",bs,Ys,ts,Kl,fs=s[19].t("Save")+"",ks,gt,Fs,aa;function Cn(me){s[27](me)}let ra={};s[5]!==void 0&&(ra.show=s[5]),e=new ea({props:ra}),St.push(()=>Pt(e,"show",Cn)),e.$on("confirm",s[28]);function Hn(me){s[29](me)}let na={};s[4]!==void 0&&(na.show=s[4]),a=new ea({props:na}),St.push(()=>Pt(a,"show",Hn)),a.$on("confirm",s[30]);let tl=s[1]&&gn(),Gt=s[6]==="openai"&&mn(s);function ia(me,Ke){return me[18].hybrid===!0?Mu:Au}let Es=ia(s),ml=Es(s);function oa(me,Ke){return me[6]==="ollama"?Pu:Ou}let ws=oa(s),bl=ws(s),Qt=s[18].hybrid===!0&&wn(s),Xt=s[11]&&yn(s),Jt=s[18].hybrid===!0&&In(s),xt=s[18].hybrid===!0&&Tn(s);return{c(){et(e.$$.fragment),l=D(),et(a.$$.fragment),n=D(),f=d("form"),c=d("div"),_=d("div"),b=d("div"),g=O(p),m=D(),E=d("div"),w=d("div"),k=O(y),I=D(),T=d("button"),S=d("div"),H=O(A),M=D(),tl&&tl.c(),Q=D(),R=d("div"),F=d("div"),K=O(C),z=D(),j=d("div"),B=d("select"),W=d("option"),Y=O(Z),q=d("option"),ue=O(U),he=d("option"),ee=O(J),Ee=D(),Gt&&Gt.c(),Ve=D(),Pe=d("div"),Ce=d("div"),Ne=O(ye),je=D(),Le=d("button"),ml.c(),Be=D(),Se=d("hr"),We=D(),Te=d("div"),qe=D(),ke=d("div"),He=d("div"),fe=O(pe),Ae=D(),bl.c(),se=D(),ne=d("div"),$=O(ae),x=D(),Qt&&Qt.c(),ge=D(),be=d("hr"),De=D(),we=d("div"),de=d("div"),Me=O(oe),ze=D(),Ue=d("div"),Ye=d("div"),Fe=O(Je),it=D(),Ze=d("div"),xe=d("select"),Oe=d("option"),$e=O(rt),ft=D(),Re=d("option"),ie=O(_e),ce=D(),Xt&&Xt.c(),le=D(),Xe=d("hr"),vt=D(),_t=d("div"),Dt=d("div"),Ht=O(Vt),qt=D(),Mt=d("div"),It=d("div"),Rt=d("div"),Bt=O(Nt),Wt=D(),wt=d("div"),ot=d("input"),ut=D(),Jt&&Jt.c(),Ft=D(),xt&&xt.c(),jt=D(),Zt=d("div"),Tt=d("div"),Ge=O(Yt),Qe=D(),dt=d("textarea"),Ml=D(),Bl=d("hr"),Ol=D(),ll=d("div"),_l=d("div"),Tl=O(Pl),Wl=D(),sl=d("div"),vl=d("div"),pl=d("div"),Dl=O(Ll),Yl=D(),gl=d("div"),$t=d("input"),Fl=D(),al=d("div"),Sl=d("div"),jl=O(wl),$l=D(),Ql=d("div"),rl=d("input"),js=D(),Xl=d("div"),Nl=d("div"),Jl=d("div"),vs=O(is),Zs=D(),Ul=d("button"),ps=O(os),Gs=D(),gs=d("hr"),zs=D(),Zl=d("div"),yl=d("button"),Gl=d("div"),Gl.innerHTML=la,Ks=D(),xl=d("div"),ms=O(us),qs=D(),Il=d("button"),zl=d("div"),zl.innerHTML=sa,Ws=D(),es=d("div"),bs=O(cs),Ys=D(),ts=d("div"),Kl=d("button"),ks=O(fs),this.h()},l(me){tt(e.$$.fragment,me),l=V(me),tt(a.$$.fragment,me),n=V(me),f=h(me,"FORM",{class:!0});var Ke=v(f);c=h(Ke,"DIV",{class:!0});var yt=v(c);_=h(yt,"DIV",{class:!0});var nl=v(_);b=h(nl,"DIV",{class:!0});var ua=v(b);g=P(ua,p),ua.forEach(u),m=V(nl),E=h(nl,"DIV",{class:!0});var ys=v(E);w=h(ys,"DIV",{class:!0});var ca=v(w);k=P(ca,y),ca.forEach(u),I=V(ys),T=h(ys,"BUTTON",{class:!0,type:!0});var Is=v(T);S=h(Is,"DIV",{class:!0});var fa=v(S);H=P(fa,A),fa.forEach(u),M=V(Is),tl&&tl.l(Is),Is.forEach(u),ys.forEach(u),Q=V(nl),R=h(nl,"DIV",{class:!0});var Ts=v(R);F=h(Ts,"DIV",{class:!0});var da=v(F);K=P(da,C),da.forEach(u),z=V(Ts),j=h(Ts,"DIV",{class:!0});var ha=v(j);B=h(ha,"SELECT",{class:!0,placeholder:!0});var Ds=v(B);W=h(Ds,"OPTION",{});var _a=v(W);Y=P(_a,Z),_a.forEach(u),q=h(Ds,"OPTION",{});var va=v(q);ue=P(va,U),va.forEach(u),he=h(Ds,"OPTION",{});var pa=v(he);ee=P(pa,J),pa.forEach(u),Ds.forEach(u),ha.forEach(u),Ts.forEach(u),Ee=V(nl),Gt&&Gt.l(nl),Ve=V(nl),Pe=h(nl,"DIV",{class:!0});var Vs=v(Pe);Ce=h(Vs,"DIV",{class:!0});var ga=v(Ce);Ne=P(ga,ye),ga.forEach(u),je=V(Vs),Le=h(Vs,"BUTTON",{class:!0,type:!0});var ma=v(Le);ml.l(ma),ma.forEach(u),Vs.forEach(u),nl.forEach(u),Be=V(yt),Se=h(yt,"HR",{class:!0}),We=V(yt),Te=h(yt,"DIV",{class:!0}),v(Te).forEach(u),qe=V(yt),ke=h(yt,"DIV",{});var Cl=v(ke);He=h(Cl,"DIV",{class:!0});var ba=v(He);fe=P(ba,pe),ba.forEach(u),Ae=V(Cl),bl.l(Cl),se=V(Cl),ne=h(Cl,"DIV",{class:!0});var ka=v(ne);$=P(ka,ae),ka.forEach(u),x=V(Cl),Qt&&Qt.l(Cl),Cl.forEach(u),ge=V(yt),be=h(yt,"HR",{class:!0}),De=V(yt),we=h(yt,"DIV",{class:!0});var ls=v(we);de=h(ls,"DIV",{class:!0});var Ea=v(de);Me=P(Ea,oe),Ea.forEach(u),ze=V(ls),Ue=h(ls,"DIV",{class:!0});var Ss=v(Ue);Ye=h(Ss,"DIV",{class:!0});var wa=v(Ye);Fe=P(wa,Je),wa.forEach(u),it=V(Ss),Ze=h(Ss,"DIV",{class:!0});var ya=v(Ze);xe=h(ya,"SELECT",{class:!0});var $s=v(xe);Oe=h($s,"OPTION",{});var Qs=v(Oe);$e=P(Qs,rt),ft=V(Qs),Qs.forEach(u),Re=h($s,"OPTION",{});var Ia=v(Re);ie=P(Ia,_e),Ia.forEach(u),$s.forEach(u),ya.forEach(u),Ss.forEach(u),ce=V(ls),Xt&&Xt.l(ls),ls.forEach(u),le=V(yt),Xe=h(yt,"HR",{class:!0}),vt=V(yt),_t=h(yt,"DIV",{class:!0});var Hl=v(_t);Dt=h(Hl,"DIV",{class:!0});var Ta=v(Dt);Ht=P(Ta,Vt),Ta.forEach(u),qt=V(Hl),Mt=h(Hl,"DIV",{class:!0});var As=v(Mt);It=h(As,"DIV",{class:!0});var Ms=v(It);Rt=h(Ms,"DIV",{class:!0});var Da=v(Rt);Bt=P(Da,Nt),Da.forEach(u),Wt=V(Ms),wt=h(Ms,"DIV",{class:!0});var Va=v(wt);ot=h(Va,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Va.forEach(u),Ms.forEach(u),ut=V(As),Jt&&Jt.l(As),As.forEach(u),Ft=V(Hl),xt&&xt.l(Hl),jt=V(Hl),Zt=h(Hl,"DIV",{});var Os=v(Zt);Tt=h(Os,"DIV",{class:!0});var Sa=v(Tt);Ge=P(Sa,Yt),Sa.forEach(u),Qe=V(Os),dt=h(Os,"TEXTAREA",{class:!0,rows:!0}),v(dt).forEach(u),Os.forEach(u),Hl.forEach(u),Ml=V(yt),Bl=h(yt,"HR",{class:!0}),Ol=V(yt),ll=h(yt,"DIV",{class:!0});var ss=v(ll);_l=h(ss,"DIV",{class:!0});var Aa=v(_l);Tl=P(Aa,Pl),Aa.forEach(u),Wl=V(ss),sl=h(ss,"DIV",{class:!0});var Ps=v(sl);vl=h(Ps,"DIV",{class:!0});var Ls=v(vl);pl=h(Ls,"DIV",{class:!0});var Ma=v(pl);Dl=P(Ma,Ll),Ma.forEach(u),Yl=V(Ls),gl=h(Ls,"DIV",{class:!0});var Oa=v(gl);$t=h(Oa,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Oa.forEach(u),Ls.forEach(u),Fl=V(Ps),al=h(Ps,"DIV",{class:!0});var Ns=v(al);Sl=h(Ns,"DIV",{class:!0});var Pa=v(Sl);jl=P(Pa,wl),Pa.forEach(u),$l=V(Ns),Ql=h(Ns,"DIV",{class:!0});var La=v(Ql);rl=h(La,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),La.forEach(u),Ns.forEach(u),Ps.forEach(u),js=V(ss),Xl=h(ss,"DIV",{class:!0});var Na=v(Xl);Nl=h(Na,"DIV",{class:!0});var Us=v(Nl);Jl=h(Us,"DIV",{class:!0});var Ua=v(Jl);vs=P(Ua,is),Ua.forEach(u),Zs=V(Us),Ul=h(Us,"BUTTON",{class:!0,type:!0});var Ca=v(Ul);ps=P(Ca,os),Ca.forEach(u),Us.forEach(u),Na.forEach(u),ss.forEach(u),Gs=V(yt),gs=h(yt,"HR",{class:!0}),zs=V(yt),Zl=h(yt,"DIV",{});var Cs=v(Zl);yl=h(Cs,"BUTTON",{class:!0,type:!0});var Hs=v(yl);Gl=h(Hs,"DIV",{class:!0,"data-svelte-h":!0}),at(Gl)!=="svelte-1m6igha"&&(Gl.innerHTML=la),Ks=V(Hs),xl=h(Hs,"DIV",{class:!0});var Ha=v(xl);ms=P(Ha,us),Ha.forEach(u),Hs.forEach(u),qs=V(Cs),Il=h(Cs,"BUTTON",{class:!0,type:!0});var Rs=v(Il);zl=h(Rs,"DIV",{class:!0,"data-svelte-h":!0}),at(zl)!=="svelte-16tyzd9"&&(zl.innerHTML=sa),Ws=V(Rs),es=h(Rs,"DIV",{class:!0});var Ra=v(es);bs=P(Ra,cs),Ra.forEach(u),Rs.forEach(u),Cs.forEach(u),yt.forEach(u),Ys=V(Ke),ts=h(Ke,"DIV",{class:!0});var Ba=v(ts);Kl=h(Ba,"BUTTON",{class:!0,type:!0});var ja=v(Kl);ks=P(ja,fs),ja.forEach(u),Ba.forEach(u),Ke.forEach(u),this.h()},h(){o(b,"class","mb-0.5 text-sm font-medium"),o(w,"class","self-center text-xs font-medium"),o(S,"class","self-center font-medium"),o(T,"class",G="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),o(T,"type","button"),T.disabled=s[1],o(E,"class","flex w-full justify-between"),o(F,"class","self-center text-xs font-medium"),W.__value="",X(W,W.__value),q.__value="ollama",X(q,q.__value),he.__value="openai",X(he,he.__value),o(B,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(B,"placeholder","Select an embedding model engine"),s[6]===void 0&&Kt(()=>s[32].call(B)),o(j,"class","flex items-center relative"),o(R,"class","flex w-full justify-between"),o(Ce,"class","self-center text-xs font-medium"),o(Le,"class","p-1 px-3 text-xs flex rounded transition"),o(Le,"type","button"),o(Pe,"class","flex w-full justify-between"),o(_,"class","flex flex-col gap-0.5"),o(Se,"class","dark:border-gray-850"),o(Te,"class","space-y-2"),o(He,"class","mb-2 text-sm font-medium"),o(ne,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(be,"class","dark:border-gray-850"),o(de,"class","text-sm font-medium"),o(Ye,"class","self-center text-xs font-medium"),Oe.__value="",X(Oe,Oe.__value),Re.__value="tika",X(Re,Re.__value),o(xe,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),s[9]===void 0&&Kt(()=>s[44].call(xe)),o(Ze,"class","flex items-center relative"),o(Ue,"class","flex w-full justify-between mt-2"),o(we,"class",""),o(Xe,"class","dark:border-gray-850"),o(Dt,"class","text-sm font-medium"),o(Rt,"class","self-center text-xs font-medium min-w-fit"),o(ot,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(ot,"type","number"),o(ot,"placeholder",pt=s[19].t("Enter Top K")),o(ot,"autocomplete","off"),o(ot,"min","0"),o(wt,"class","self-center p-3"),o(It,"class","flex w-full justify-between"),o(Mt,"class","flex"),o(Tt,"class","mb-2.5 text-sm font-medium"),o(dt,"class","w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(dt,"rows","4"),o(_t,"class",""),o(Bl,"class","dark:border-gray-850"),o(_l,"class","text-sm font-medium"),o(pl,"class","self-center text-xs font-medium min-w-fit mb-1"),o($t,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o($t,"type","number"),o($t,"placeholder",Vl=s[19].t("Enter Chunk Size")),o($t,"autocomplete","off"),o($t,"min","0"),o(gl,"class","self-center"),o(vl,"class","w-full justify-between"),o(Sl,"class","self-center text-xs font-medium min-w-fit mb-1"),o(rl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(rl,"type","number"),o(rl,"placeholder",_s=s[19].t("Enter Chunk Overlap")),o(rl,"autocomplete","off"),o(rl,"min","0"),o(Ql,"class","self-center"),o(al,"class","w-full"),o(sl,"class","my-2 flex gap-1.5"),o(Jl,"class","text-xs font-medium"),o(Ul,"class","text-xs font-medium text-gray-500"),o(Ul,"type","button"),o(Nl,"class","flex justify-between items-center text-xs"),o(Xl,"class","my-3"),o(ll,"class",""),o(gs,"class","dark:border-gray-850"),o(Gl,"class","self-center mr-3"),o(xl,"class","self-center text-sm font-medium"),o(yl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(yl,"type","button"),o(zl,"class","self-center mr-3"),o(es,"class","self-center text-sm font-medium"),o(Il,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(Il,"type","button"),o(c,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full"),o(Kl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Kl,"type","submit"),o(ts,"class","flex justify-end pt-3 text-sm font-medium"),o(f,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(me,Ke){lt(e,me,Ke),L(me,l,Ke),lt(a,me,Ke),L(me,n,Ke),L(me,f,Ke),r(f,c),r(c,_),r(_,b),r(b,g),r(_,m),r(_,E),r(E,w),r(w,k),r(E,I),r(E,T),r(T,S),r(S,H),r(T,M),tl&&tl.m(T,null),r(_,Q),r(_,R),r(R,F),r(F,K),r(R,z),r(R,j),r(j,B),r(B,W),r(W,Y),r(B,q),r(q,ue),r(B,he),r(he,ee),ht(B,s[6],!0),r(_,Ee),Gt&&Gt.m(_,null),r(_,Ve),r(_,Pe),r(Pe,Ce),r(Ce,Ne),r(Pe,je),r(Pe,Le),ml.m(Le,null),r(c,Be),r(c,Se),r(c,We),r(c,Te),r(c,qe),r(c,ke),r(ke,He),r(He,fe),r(ke,Ae),bl.m(ke,null),r(ke,se),r(ke,ne),r(ne,$),r(ke,x),Qt&&Qt.m(ke,null),r(c,ge),r(c,be),r(c,De),r(c,we),r(we,de),r(de,Me),r(we,ze),r(we,Ue),r(Ue,Ye),r(Ye,Fe),r(Ue,it),r(Ue,Ze),r(Ze,xe),r(xe,Oe),r(Oe,$e),r(Oe,ft),r(xe,Re),r(Re,ie),ht(xe,s[9],!0),r(we,ce),Xt&&Xt.m(we,null),r(c,le),r(c,Xe),r(c,vt),r(c,_t),r(_t,Dt),r(Dt,Ht),r(_t,qt),r(_t,Mt),r(Mt,It),r(It,Rt),r(Rt,Bt),r(It,Wt),r(It,wt),r(wt,ot),X(ot,s[18].k),r(Mt,ut),Jt&&Jt.m(Mt,null),r(_t,Ft),xt&&xt.m(_t,null),r(_t,jt),r(_t,Zt),r(Zt,Tt),r(Tt,Ge),r(Zt,Qe),r(Zt,dt),X(dt,s[18].template),r(c,Ml),r(c,Bl),r(c,Ol),r(c,ll),r(ll,_l),r(_l,Tl),r(ll,Wl),r(ll,sl),r(sl,vl),r(vl,pl),r(pl,Dl),r(vl,Yl),r(vl,gl),r(gl,$t),X($t,s[12]),r(sl,Fl),r(sl,al),r(al,Sl),r(Sl,jl),r(al,$l),r(al,Ql),r(Ql,rl),X(rl,s[13]),r(ll,js),r(ll,Xl),r(Xl,Nl),r(Nl,Jl),r(Jl,vs),r(Nl,Zs),r(Nl,Ul),r(Ul,ps),r(c,Gs),r(c,gs),r(c,zs),r(c,Zl),r(Zl,yl),r(yl,Gl),r(yl,Ks),r(yl,xl),r(xl,ms),r(Zl,qs),r(Zl,Il),r(Il,zl),r(Il,Ws),r(Il,es),r(es,bs),r(f,Ys),r(f,ts),r(ts,Kl),r(Kl,ks),gt=!0,Fs||(aa=[te(T,"click",s[31]),te(B,"change",s[32]),te(B,"change",s[33]),te(Le,"click",s[38]),te(xe,"change",s[44]),te(xe,"change",s[45]),te(ot,"input",s[47]),te(dt,"input",s[49]),te($t,"input",s[50]),te(rl,"input",s[51]),te(Ul,"click",s[52]),te(yl,"click",s[53]),te(Il,"click",s[54]),te(f,"submit",El(s[55]))],Fs=!0)},p(me,Ke){const yt={};!t&&Ke[0]&32&&(t=!0,yt.show=me[5],Ot(()=>t=!1)),e.$set(yt);const nl={};!i&&Ke[0]&16&&(i=!0,nl.show=me[4],Ot(()=>i=!1)),a.$set(nl),(!gt||Ke[0]&524288)&&p!==(p=me[19].t("General Settings")+"")&&N(g,p),(!gt||Ke[0]&524288)&&y!==(y=me[19].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&N(k,y),(!gt||Ke[0]&524288)&&A!==(A=me[19].t("Scan")+"")&&N(H,A),me[1]?tl||(tl=gn(),tl.c(),tl.m(T,null)):tl&&(tl.d(1),tl=null),(!gt||Ke[0]&2&&G!==(G="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(me[1]?" cursor-not-allowed":"")))&&o(T,"class",G),(!gt||Ke[0]&2)&&(T.disabled=me[1]),(!gt||Ke[0]&524288)&&C!==(C=me[19].t("Embedding Model Engine")+"")&&N(K,C),(!gt||Ke[0]&524288)&&Z!==(Z=me[19].t("Default (SentenceTransformers)")+"")&&N(Y,Z),(!gt||Ke[0]&524288)&&U!==(U=me[19].t("Ollama")+"")&&N(ue,U),(!gt||Ke[0]&524288)&&J!==(J=me[19].t("OpenAI")+"")&&N(ee,J),Ke[0]&64&&ht(B,me[6]),me[6]==="openai"?Gt?(Gt.p(me,Ke),Ke[0]&64&&re(Gt,1)):(Gt=mn(me),Gt.c(),re(Gt,1),Gt.m(_,Ve)):Gt&&(kt(),ve(Gt,1,1,()=>{Gt=null}),Et()),(!gt||Ke[0]&524288)&&ye!==(ye=me[19].t("Hybrid Search")+"")&&N(Ne,ye),Es===(Es=ia(me))&&ml?ml.p(me,Ke):(ml.d(1),ml=Es(me),ml&&(ml.c(),ml.m(Le,null))),(!gt||Ke[0]&524288)&&pe!==(pe=me[19].t("Embedding Model")+"")&&N(fe,pe),ws===(ws=oa(me))&&bl?bl.p(me,Ke):(bl.d(1),bl=ws(me),bl&&(bl.c(),bl.m(ke,se))),(!gt||Ke[0]&524288)&&ae!==(ae=me[19].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&N($,ae),me[18].hybrid===!0?Qt?Qt.p(me,Ke):(Qt=wn(me),Qt.c(),Qt.m(ke,null)):Qt&&(Qt.d(1),Qt=null),(!gt||Ke[0]&524288)&&oe!==(oe=me[19].t("Content Extraction")+"")&&N(Me,oe),(!gt||Ke[0]&524288)&&Je!==(Je=me[19].t("Engine")+"")&&N(Fe,Je),(!gt||Ke[0]&524288)&&rt!==(rt=me[19].t("Default")+"")&&N($e,rt),(!gt||Ke[0]&524288)&&_e!==(_e=me[19].t("Tika")+"")&&N(ie,_e),Ke[0]&512&&ht(xe,me[9]),me[11]?Xt?Xt.p(me,Ke):(Xt=yn(me),Xt.c(),Xt.m(we,null)):Xt&&(Xt.d(1),Xt=null),(!gt||Ke[0]&524288)&&Vt!==(Vt=me[19].t("Query Params")+"")&&N(Ht,Vt),(!gt||Ke[0]&524288)&&Nt!==(Nt=me[19].t("Top K")+"")&&N(Bt,Nt),(!gt||Ke[0]&524288&&pt!==(pt=me[19].t("Enter Top K")))&&o(ot,"placeholder",pt),Ke[0]&262144&&il(ot.value)!==me[18].k&&X(ot,me[18].k),me[18].hybrid===!0?Jt?Jt.p(me,Ke):(Jt=In(me),Jt.c(),Jt.m(Mt,null)):Jt&&(Jt.d(1),Jt=null),me[18].hybrid===!0?xt?xt.p(me,Ke):(xt=Tn(me),xt.c(),xt.m(_t,jt)):xt&&(xt.d(1),xt=null),(!gt||Ke[0]&524288)&&Yt!==(Yt=me[19].t("RAG Template")+"")&&N(Ge,Yt),Ke[0]&262144&&X(dt,me[18].template),(!gt||Ke[0]&524288)&&Pl!==(Pl=me[19].t("Chunk Params")+"")&&N(Tl,Pl),(!gt||Ke[0]&524288)&&Ll!==(Ll=me[19].t("Chunk Size")+"")&&N(Dl,Ll),(!gt||Ke[0]&524288&&Vl!==(Vl=me[19].t("Enter Chunk Size")))&&o($t,"placeholder",Vl),Ke[0]&4096&&il($t.value)!==me[12]&&X($t,me[12]),(!gt||Ke[0]&524288)&&wl!==(wl=me[19].t("Chunk Overlap")+"")&&N(jl,wl),(!gt||Ke[0]&524288&&_s!==(_s=me[19].t("Enter Chunk Overlap")))&&o(rl,"placeholder",_s),Ke[0]&8192&&il(rl.value)!==me[13]&&X(rl,me[13]),(!gt||Ke[0]&524288)&&is!==(is=me[19].t("PDF Extract Images (OCR)")+"")&&N(vs,is),(!gt||Ke[0]&540672)&&os!==(os=(me[14]?me[19].t("On"):me[19].t("Off"))+"")&&N(ps,os),(!gt||Ke[0]&524288)&&us!==(us=me[19].t("Reset Upload Directory")+"")&&N(ms,us),(!gt||Ke[0]&524288)&&cs!==(cs=me[19].t("Reset Vector Storage")+"")&&N(bs,cs),(!gt||Ke[0]&524288)&&fs!==(fs=me[19].t("Save")+"")&&N(ks,fs)},i(me){gt||(re(e.$$.fragment,me),re(a.$$.fragment,me),re(Gt),gt=!0)},o(me){ve(e.$$.fragment,me),ve(a.$$.fragment,me),ve(Gt),gt=!1},d(me){me&&(u(l),u(n),u(f)),st(e,me),st(a,me),tl&&tl.d(),Gt&&Gt.d(),ml.d(),bl.d(),Qt&&Qt.d(),Xt&&Xt.d(),Jt&&Jt.d(),xt&&xt.d(),Fs=!1,At(aa)}}}const Dn=s=>s.id&&s.ollama&&!((s==null?void 0:s.preset)??!1);function Ru(s,e,t){let l,a;Ut(s,el,ne=>t(20,a=ne));const i=fl("i18n");Ut(s,i,ne=>t(19,l=ne));let{saveHandler:n}=e,f=!1,c=!1,_=!1,b=!1,p=!1,g="",m="",E="",w="default",y="",k=!1,I=0,T=0,S=!0,A="",H="",M=1,G={template:"",r:0,k:4,hybrid:!1};const Q=async()=>{t(1,f=!0);const ne=await Ni(localStorage.token);t(1,f=!1),ne&&(await Gn.set(await Pi(localStorage.token)),Ie.success(l.t("Scan complete!")))},R=async()=>{if(g===""&&m.split("/").length-1>1){Ie.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(g==="ollama"&&m===""){Ie.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(g==="openai"&&m===""){Ie.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(g==="openai"&&A===""||H===""){Ie.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",m),t(2,c=!0);const ne=await ji(localStorage.token,{embedding_engine:g,embedding_model:m,...g==="openai"?{openai_config:{key:A,url:H,batch_size:M}}:{}}).catch(async ae=>(Ie.error(ae),await K(),null));t(2,c=!1),ne&&(console.log("embeddingModelUpdateHandler:",ne),ne.status===!0&&Ie.success(l.t('Embedding model set to "{{embedding_model}}"',ne),{duration:1e3*10}))},F=async()=>{console.log("Update reranking model attempt:",E),t(3,_=!0);const ne=await Ui(localStorage.token,{reranking_model:E}).catch(async ae=>(Ie.error(ae),await z(),null));t(3,_=!1),ne&&(console.log("rerankingModelUpdateHandler:",ne),ne.status===!0&&(E===""?Ie.success(l.t("Reranking model disabled",ne),{duration:1e3*10}):Ie.success(l.t('Reranking model set to "{{reranking_model}}"',ne),{duration:1e3*10})))},C=async()=>{if(R(),G.hybrid&&F(),w==="tika"&&y===""){Ie.error(l.t("Tika Server URL required."));return}await Un(localStorage.token,{pdf_extract_images:S,chunk:{chunk_overlap:T,chunk_size:I},content_extraction:{engine:w,tika_server_url:y}}),await Qa(localStorage.token,G)},K=async()=>{const ne=await Ci(localStorage.token);ne&&(t(6,g=ne.embedding_engine),t(7,m=ne.embedding_model),t(15,A=ne.openai_config.key),t(16,H=ne.openai_config.url),t(17,M=ne.openai_config.batch_size??1))},z=async()=>{const ne=await Hi(localStorage.token);ne&&t(8,E=ne.reranking_model)},j=async()=>{t(18,G.hybrid=!G.hybrid,G),t(18,G=await Qa(localStorage.token,G))};dl(async()=>{await K(),await z(),t(18,G=await Li(localStorage.token));const ne=await Nn(localStorage.token);ne&&(t(14,S=ne.pdf_extract_images),t(12,I=ne.chunk.chunk_size),t(13,T=ne.chunk.chunk_overlap),t(9,w=ne.content_extraction.engine),t(10,y=ne.content_extraction.tika_server_url),t(11,k=w==="tika"))});function B(ne){p=ne,t(5,p)}const W=async()=>{await Ri(localStorage.token).catch(ae=>(Ie.error(ae),null))&&Ie.success(l.t("Success"))};function Z(ne){b=ne,t(4,b)}const Y=()=>{Bi(localStorage.token).catch(ae=>(Ie.error(ae),null))&&Ie.success(l.t("Success"))},q=()=>{Q(),console.log("check")};function U(){g=zt(this),t(6,g)}const ue=ne=>{ne.target.value==="ollama"?t(7,m=""):ne.target.value==="openai"?t(7,m="text-embedding-3-small"):ne.target.value===""&&t(7,m="sentence-transformers/all-MiniLM-L6-v2")};function he(){H=this.value,t(16,H)}function J(ne){A=ne,t(15,A)}function ee(){M=il(this.value),t(17,M)}function Ee(){M=il(this.value),t(17,M)}const Ve=()=>{j()};function Pe(){m=zt(this),t(7,m)}function Ce(){m=this.value,t(7,m)}const ye=()=>{R()};function Ne(){E=this.value,t(8,E)}const je=()=>{F()};function Le(){w=zt(this),t(9,w)}const Be=ne=>{t(11,k=ne.target.value==="tika")};function Se(){y=this.value,t(10,y)}function We(){G.k=il(this.value),t(18,G)}function Te(){G.r=il(this.value),t(18,G)}function qe(){G.template=this.value,t(18,G)}function ke(){I=il(this.value),t(12,I)}function He(){T=il(this.value),t(13,T)}const pe=()=>{t(14,S=!S)},fe=()=>{t(5,p=!0)},Ae=()=>{t(4,b=!0)},se=()=>{C(),n()};return s.$$set=ne=>{"saveHandler"in ne&&t(0,n=ne.saveHandler)},[n,f,c,_,b,p,g,m,E,w,y,k,I,T,S,A,H,M,G,l,a,i,Q,R,F,C,j,B,W,Z,Y,q,U,ue,he,J,ee,Ee,Ve,Pe,Ce,ye,Ne,je,Le,Be,Se,We,Te,qe,ke,He,pe,fe,Ae,se]}class Bu extends ul{constructor(e){super(),cl(this,e,Ru,Hu,ol,{saveHandler:0},null,[-1,-1])}}function Vn(s,e,t){const l=s.slice();return l[23]=e[t],l}function Sn(s){let e,t,l=s[3].t("Web Search")+"",a,i,n,f,c,_=s[3].t("Enable Web Search")+"",b,p,g,m,E,w,y,k=s[3].t("Web Search Engine")+"",I,T,S,A,H,M=s[3].t("Select a engine")+"",G,Q,R,F,C,K,z,j,B,W=s[3].t("Web Loader Settings")+"",Z,Y,q,U,ue,he=s[3].t("Bypass SSL verification for Websites")+"",J,ee,Ee,Ve,Pe,Ce=s[3].t("Youtube Loader Settings")+"",ye,Ne,je,Le,Be,Se=s[3].t("Language")+"",We,Te,qe,ke,He,pe,fe,Ae;function se(de){s[7](de)}let ne={};s[1].search.enabled!==void 0&&(ne.state=s[1].search.enabled),g=new Al({props:ne}),St.push(()=>Pt(g,"state",se));let ae=nt(s[5]),$=[];for(let de=0;de<ae.length;de+=1)$[de]=An(Vn(s,ae,de));let x=s[1].search.engine!==""&&Mn(s),ge=s[1].search.enabled&&On(s);function be(de,oe){return de[1].ssl_verification===!0?Fu:Yu}let De=be(s),we=De(s);return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=d("div"),b=O(_),p=D(),et(g.$$.fragment),E=D(),w=d("div"),y=d("div"),I=O(k),T=D(),S=d("div"),A=d("select"),H=d("option"),G=O(M);for(let de=0;de<$.length;de+=1)$[de].c();R=D(),x&&x.c(),F=D(),ge&&ge.c(),C=D(),K=d("hr"),z=D(),j=d("div"),B=d("div"),Z=O(W),Y=D(),q=d("div"),U=d("div"),ue=d("div"),J=O(he),ee=D(),Ee=d("button"),we.c(),Ve=D(),Pe=d("div"),ye=O(Ce),Ne=D(),je=d("div"),Le=d("div"),Be=d("div"),We=O(Se),Te=D(),qe=d("div"),ke=d("input"),this.h()},l(de){e=h(de,"DIV",{});var oe=v(e);t=h(oe,"DIV",{class:!0});var Me=v(t);a=P(Me,l),Me.forEach(u),i=V(oe),n=h(oe,"DIV",{});var ze=v(n);f=h(ze,"DIV",{class:!0});var Ue=v(f);c=h(Ue,"DIV",{class:!0});var Ye=v(c);b=P(Ye,_),Ye.forEach(u),p=V(Ue),tt(g.$$.fragment,Ue),Ue.forEach(u),ze.forEach(u),E=V(oe),w=h(oe,"DIV",{class:!0});var Je=v(w);y=h(Je,"DIV",{class:!0});var Fe=v(y);I=P(Fe,k),Fe.forEach(u),T=V(Je),S=h(Je,"DIV",{class:!0});var it=v(S);A=h(it,"SELECT",{class:!0,placeholder:!0});var Ze=v(A);H=h(Ze,"OPTION",{});var xe=v(H);G=P(xe,M),xe.forEach(u);for(let _t=0;_t<$.length;_t+=1)$[_t].l(Ze);Ze.forEach(u),it.forEach(u),Je.forEach(u),R=V(oe),x&&x.l(oe),F=V(oe),ge&&ge.l(oe),oe.forEach(u),C=V(de),K=h(de,"HR",{class:!0}),z=V(de),j=h(de,"DIV",{});var Oe=v(j);B=h(Oe,"DIV",{class:!0});var rt=v(B);Z=P(rt,W),rt.forEach(u),Y=V(Oe),q=h(Oe,"DIV",{});var $e=v(q);U=h($e,"DIV",{class:!0});var ft=v(U);ue=h(ft,"DIV",{class:!0});var Re=v(ue);J=P(Re,he),Re.forEach(u),ee=V(ft),Ee=h(ft,"BUTTON",{class:!0,type:!0});var _e=v(Ee);we.l(_e),_e.forEach(u),ft.forEach(u),$e.forEach(u),Ve=V(Oe),Pe=h(Oe,"DIV",{class:!0});var ie=v(Pe);ye=P(ie,Ce),ie.forEach(u),Ne=V(Oe),je=h(Oe,"DIV",{});var ce=v(je);Le=h(ce,"DIV",{class:!0});var le=v(Le);Be=h(le,"DIV",{class:!0});var Xe=v(Be);We=P(Xe,Se),Xe.forEach(u),Te=V(le),qe=h(le,"DIV",{class:!0});var vt=v(qe);ke=h(vt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),vt.forEach(u),le.forEach(u),ce.forEach(u),Oe.forEach(u),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(c,"class","self-center text-xs font-medium"),o(f,"class","py-0.5 flex w-full justify-between"),o(y,"class","self-center text-xs font-medium"),H.disabled=!0,H.selected=!0,H.__value="",X(H,H.__value),o(A,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(A,"placeholder",Q=s[3].t("Select a engine")),A.required=!0,s[1].search.engine===void 0&&Kt(()=>s[8].call(A)),o(S,"class","flex items-center relative"),o(w,"class","py-0.5 flex w-full justify-between"),o(K,"class","dark:border-gray-850 my-2"),o(B,"class","mb-1 text-sm font-medium"),o(ue,"class","self-center text-xs font-medium"),o(Ee,"class","p-1 px-3 text-xs flex rounded transition"),o(Ee,"type","button"),o(U,"class","py-0.5 flex w-full justify-between"),o(Pe,"class","mt-2 mb-1 text-sm font-medium"),o(Be,"class","w-20 text-xs font-medium self-center"),o(ke,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(ke,"type","text"),o(ke,"placeholder",He=s[3].t("Enter language codes")),o(ke,"autocomplete","off"),o(qe,"class","flex-1 self-center"),o(Le,"class","py-0.5 flex w-full justify-between")},m(de,oe){L(de,e,oe),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),r(c,b),r(f,p),lt(g,f,null),r(e,E),r(e,w),r(w,y),r(y,I),r(w,T),r(w,S),r(S,A),r(A,H),r(H,G);for(let Me=0;Me<$.length;Me+=1)$[Me]&&$[Me].m(A,null);ht(A,s[1].search.engine,!0),r(e,R),x&&x.m(e,null),r(e,F),ge&&ge.m(e,null),L(de,C,oe),L(de,K,oe),L(de,z,oe),L(de,j,oe),r(j,B),r(B,Z),r(j,Y),r(j,q),r(q,U),r(U,ue),r(ue,J),r(U,ee),r(U,Ee),we.m(Ee,null),r(j,Ve),r(j,Pe),r(Pe,ye),r(j,Ne),r(j,je),r(je,Le),r(Le,Be),r(Be,We),r(Le,Te),r(Le,qe),r(qe,ke),X(ke,s[2]),pe=!0,fe||(Ae=[te(A,"change",s[8]),te(Ee,"click",s[19]),te(ke,"input",s[20])],fe=!0)},p(de,oe){(!pe||oe&8)&&l!==(l=de[3].t("Web Search")+"")&&N(a,l),(!pe||oe&8)&&_!==(_=de[3].t("Enable Web Search")+"")&&N(b,_);const Me={};if(!m&&oe&2&&(m=!0,Me.state=de[1].search.enabled,Ot(()=>m=!1)),g.$set(Me),(!pe||oe&8)&&k!==(k=de[3].t("Web Search Engine")+"")&&N(I,k),(!pe||oe&8)&&M!==(M=de[3].t("Select a engine")+"")&&N(G,M),oe&32){ae=nt(de[5]);let ze;for(ze=0;ze<ae.length;ze+=1){const Ue=Vn(de,ae,ze);$[ze]?$[ze].p(Ue,oe):($[ze]=An(Ue),$[ze].c(),$[ze].m(A,null))}for(;ze<$.length;ze+=1)$[ze].d(1);$.length=ae.length}(!pe||oe&8&&Q!==(Q=de[3].t("Select a engine")))&&o(A,"placeholder",Q),oe&34&&ht(A,de[1].search.engine),de[1].search.engine!==""?x?(x.p(de,oe),oe&2&&re(x,1)):(x=Mn(de),x.c(),re(x,1),x.m(e,F)):x&&(kt(),ve(x,1,1,()=>{x=null}),Et()),de[1].search.enabled?ge?ge.p(de,oe):(ge=On(de),ge.c(),ge.m(e,null)):ge&&(ge.d(1),ge=null),(!pe||oe&8)&&W!==(W=de[3].t("Web Loader Settings")+"")&&N(Z,W),(!pe||oe&8)&&he!==(he=de[3].t("Bypass SSL verification for Websites")+"")&&N(J,he),De===(De=be(de))&&we?we.p(de,oe):(we.d(1),we=De(de),we&&(we.c(),we.m(Ee,null))),(!pe||oe&8)&&Ce!==(Ce=de[3].t("Youtube Loader Settings")+"")&&N(ye,Ce),(!pe||oe&8)&&Se!==(Se=de[3].t("Language")+"")&&N(We,Se),(!pe||oe&8&&He!==(He=de[3].t("Enter language codes")))&&o(ke,"placeholder",He),oe&4&&ke.value!==de[2]&&X(ke,de[2])},i(de){pe||(re(g.$$.fragment,de),re(x),pe=!0)},o(de){ve(g.$$.fragment,de),ve(x),pe=!1},d(de){de&&(u(e),u(C),u(K),u(z),u(j)),st(g),Ct($,de),x&&x.d(),ge&&ge.d(),we.d(),fe=!1,At(Ae)}}}function An(s){let e,t=s[23]+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=s[23],X(e,e.__value)},m(a,i){L(a,e,i),r(e,l)},p:ct,d(a){a&&u(e)}}}function Mn(s){let e,t,l,a;const i=[Wu,qu,Ku,zu,Gu,Zu,ju],n=[];function f(c,_){return c[1].search.engine==="searxng"?0:c[1].search.engine==="google_pse"?1:c[1].search.engine==="brave"?2:c[1].search.engine==="serpstack"?3:c[1].search.engine==="serper"?4:c[1].search.engine==="serply"?5:c[1].search.engine==="tavily"?6:-1}return~(t=f(s))&&(l=n[t]=i[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(c){e=h(c,"DIV",{class:!0});var _=v(e);l&&l.l(_),_.forEach(u),this.h()},h(){o(e,"class","mt-1.5")},m(c,_){L(c,e,_),~t&&n[t].m(e,null),a=!0},p(c,_){let b=t;t=f(c),t===b?~t&&n[t].p(c,_):(l&&(kt(),ve(n[b],1,1,()=>{n[b]=null}),Et()),~t?(l=n[t],l?l.p(c,_):(l=n[t]=i[t](c),l.c()),re(l,1),l.m(e,null)):l=null)},i(c){a||(re(l),a=!0)},o(c){ve(l),a=!1},d(c){c&&u(e),~t&&n[t].d()}}}function ju(s){let e,t,l=s[3].t("Tavily API Key")+"",a,i,n,f,c;function _(p){s[16](p)}let b={placeholder:s[3].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),n=new hl({props:b}),St.push(()=>Pt(n,"value",_)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=P(m,l),m.forEach(u),i=V(g),tt(n.$$.fragment,g),g.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,g){L(p,e,g),r(e,t),r(t,a),r(e,i),lt(n,e,null),c=!0},p(p,g){(!c||g&8)&&l!==(l=p[3].t("Tavily API Key")+"")&&N(a,l);const m={};g&8&&(m.placeholder=p[3].t("Enter Tavily API Key")),!f&&g&2&&(f=!0,m.value=p[1].search.tavily_api_key,Ot(()=>f=!1)),n.$set(m)},i(p){c||(re(n.$$.fragment,p),c=!0)},o(p){ve(n.$$.fragment,p),c=!1},d(p){p&&u(e),st(n)}}}function Zu(s){let e,t,l=s[3].t("Serply API Key")+"",a,i,n,f,c;function _(p){s[15](p)}let b={placeholder:s[3].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),n=new hl({props:b}),St.push(()=>Pt(n,"value",_)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=P(m,l),m.forEach(u),i=V(g),tt(n.$$.fragment,g),g.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,g){L(p,e,g),r(e,t),r(t,a),r(e,i),lt(n,e,null),c=!0},p(p,g){(!c||g&8)&&l!==(l=p[3].t("Serply API Key")+"")&&N(a,l);const m={};g&8&&(m.placeholder=p[3].t("Enter Serply API Key")),!f&&g&2&&(f=!0,m.value=p[1].search.serply_api_key,Ot(()=>f=!1)),n.$set(m)},i(p){c||(re(n.$$.fragment,p),c=!0)},o(p){ve(n.$$.fragment,p),c=!1},d(p){p&&u(e),st(n)}}}function Gu(s){let e,t,l=s[3].t("Serper API Key")+"",a,i,n,f,c;function _(p){s[14](p)}let b={placeholder:s[3].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),n=new hl({props:b}),St.push(()=>Pt(n,"value",_)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=P(m,l),m.forEach(u),i=V(g),tt(n.$$.fragment,g),g.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,g){L(p,e,g),r(e,t),r(t,a),r(e,i),lt(n,e,null),c=!0},p(p,g){(!c||g&8)&&l!==(l=p[3].t("Serper API Key")+"")&&N(a,l);const m={};g&8&&(m.placeholder=p[3].t("Enter Serper API Key")),!f&&g&2&&(f=!0,m.value=p[1].search.serper_api_key,Ot(()=>f=!1)),n.$set(m)},i(p){c||(re(n.$$.fragment,p),c=!0)},o(p){ve(n.$$.fragment,p),c=!1},d(p){p&&u(e),st(n)}}}function zu(s){let e,t,l=s[3].t("Serpstack API Key")+"",a,i,n,f,c;function _(p){s[13](p)}let b={placeholder:s[3].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),n=new hl({props:b}),St.push(()=>Pt(n,"value",_)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=P(m,l),m.forEach(u),i=V(g),tt(n.$$.fragment,g),g.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,g){L(p,e,g),r(e,t),r(t,a),r(e,i),lt(n,e,null),c=!0},p(p,g){(!c||g&8)&&l!==(l=p[3].t("Serpstack API Key")+"")&&N(a,l);const m={};g&8&&(m.placeholder=p[3].t("Enter Serpstack API Key")),!f&&g&2&&(f=!0,m.value=p[1].search.serpstack_api_key,Ot(()=>f=!1)),n.$set(m)},i(p){c||(re(n.$$.fragment,p),c=!0)},o(p){ve(n.$$.fragment,p),c=!1},d(p){p&&u(e),st(n)}}}function Ku(s){let e,t,l=s[3].t("Brave Search API Key")+"",a,i,n,f,c;function _(p){s[12](p)}let b={placeholder:s[3].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),n=new hl({props:b}),St.push(()=>Pt(n,"value",_)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var m=v(t);a=P(m,l),m.forEach(u),i=V(g),tt(n.$$.fragment,g),g.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,g){L(p,e,g),r(e,t),r(t,a),r(e,i),lt(n,e,null),c=!0},p(p,g){(!c||g&8)&&l!==(l=p[3].t("Brave Search API Key")+"")&&N(a,l);const m={};g&8&&(m.placeholder=p[3].t("Enter Brave Search API Key")),!f&&g&2&&(f=!0,m.value=p[1].search.brave_search_api_key,Ot(()=>f=!1)),n.$set(m)},i(p){c||(re(n.$$.fragment,p),c=!0)},o(p){ve(n.$$.fragment,p),c=!1},d(p){p&&u(e),st(n)}}}function qu(s){let e,t,l=s[3].t("Google PSE API Key")+"",a,i,n,f,c,_,b,p=s[3].t("Google PSE Engine Id")+"",g,m,E,w,y,k,I,T,S;function A(M){s[10](M)}let H={placeholder:s[3].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(H.value=s[1].search.google_pse_api_key),n=new hl({props:H}),St.push(()=>Pt(n,"value",A)),{c(){e=d("div"),t=d("div"),a=O(l),i=D(),et(n.$$.fragment),c=D(),_=d("div"),b=d("div"),g=O(p),m=D(),E=d("div"),w=d("div"),y=d("input"),this.h()},l(M){e=h(M,"DIV",{});var G=v(e);t=h(G,"DIV",{class:!0});var Q=v(t);a=P(Q,l),Q.forEach(u),i=V(G),tt(n.$$.fragment,G),G.forEach(u),c=V(M),_=h(M,"DIV",{class:!0});var R=v(_);b=h(R,"DIV",{class:!0});var F=v(b);g=P(F,p),F.forEach(u),m=V(R),E=h(R,"DIV",{class:!0});var C=v(E);w=h(C,"DIV",{class:!0});var K=v(w);y=h(K,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),K.forEach(u),C.forEach(u),R.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(b,"class","self-center text-xs font-medium mb-1"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"type","text"),o(y,"placeholder",k=s[3].t("Enter Google PSE Engine Id")),o(y,"autocomplete","off"),o(w,"class","flex-1"),o(E,"class","flex w-full"),o(_,"class","mt-1.5")},m(M,G){L(M,e,G),r(e,t),r(t,a),r(e,i),lt(n,e,null),L(M,c,G),L(M,_,G),r(_,b),r(b,g),r(_,m),r(_,E),r(E,w),r(w,y),X(y,s[1].search.google_pse_engine_id),I=!0,T||(S=te(y,"input",s[11]),T=!0)},p(M,G){(!I||G&8)&&l!==(l=M[3].t("Google PSE API Key")+"")&&N(a,l);const Q={};G&8&&(Q.placeholder=M[3].t("Enter Google PSE API Key")),!f&&G&2&&(f=!0,Q.value=M[1].search.google_pse_api_key,Ot(()=>f=!1)),n.$set(Q),(!I||G&8)&&p!==(p=M[3].t("Google PSE Engine Id")+"")&&N(g,p),(!I||G&8&&k!==(k=M[3].t("Enter Google PSE Engine Id")))&&o(y,"placeholder",k),G&34&&y.value!==M[1].search.google_pse_engine_id&&X(y,M[1].search.google_pse_engine_id)},i(M){I||(re(n.$$.fragment,M),I=!0)},o(M){ve(n.$$.fragment,M),I=!1},d(M){M&&(u(e),u(c),u(_)),st(n),T=!1,S()}}}function Wu(s){let e,t,l=s[3].t("Searxng Query URL")+"",a,i,n,f,c,_,b,p;return{c(){e=d("div"),t=d("div"),a=O(l),i=D(),n=d("div"),f=d("div"),c=d("input"),this.h()},l(g){e=h(g,"DIV",{});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(u),i=V(m),n=h(m,"DIV",{class:!0});var w=v(n);f=h(w,"DIV",{class:!0});var y=v(f);c=h(y,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),y.forEach(u),w.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"type","text"),o(c,"placeholder",_=s[3].t("Enter Searxng Query URL")),o(c,"autocomplete","off"),o(f,"class","flex-1"),o(n,"class","flex w-full")},m(g,m){L(g,e,m),r(e,t),r(t,a),r(e,i),r(e,n),r(n,f),r(f,c),X(c,s[1].search.searxng_query_url),b||(p=te(c,"input",s[9]),b=!0)},p(g,m){m&8&&l!==(l=g[3].t("Searxng Query URL")+"")&&N(a,l),m&8&&_!==(_=g[3].t("Enter Searxng Query URL"))&&o(c,"placeholder",_),m&34&&c.value!==g[1].search.searxng_query_url&&X(c,g[1].search.searxng_query_url)},i:ct,o:ct,d(g){g&&u(e),b=!1,p()}}}function On(s){let e,t,l,a=s[3].t("Search Result Count")+"",i,n,f,c,_,b,p,g=s[3].t("Concurrent Requests")+"",m,E,w,y,k,I;return{c(){e=d("div"),t=d("div"),l=d("div"),i=O(a),n=D(),f=d("input"),_=D(),b=d("div"),p=d("div"),m=O(g),E=D(),w=d("input"),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var A=v(t);l=h(A,"DIV",{class:!0});var H=v(l);i=P(H,a),H.forEach(u),n=V(A),f=h(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(u),_=V(S),b=h(S,"DIV",{class:!0});var M=v(b);p=h(M,"DIV",{class:!0});var G=v(p);m=P(G,g),G.forEach(u),E=V(M),w=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),S.forEach(u),this.h()},h(){o(l,"class","self-center text-xs font-medium mb-1"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",c=s[3].t("Search Result Count")),f.required=!0,o(t,"class","w-full"),o(p,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",y=s[3].t("Concurrent Requests")),w.required=!0,o(b,"class","w-full"),o(e,"class","mt-2 flex gap-2 mb-1")},m(T,S){L(T,e,S),r(e,t),r(t,l),r(l,i),r(t,n),r(t,f),X(f,s[1].search.result_count),r(e,_),r(e,b),r(b,p),r(p,m),r(b,E),r(b,w),X(w,s[1].search.concurrent_requests),k||(I=[te(f,"input",s[17]),te(w,"input",s[18])],k=!0)},p(T,S){S&8&&a!==(a=T[3].t("Search Result Count")+"")&&N(i,a),S&8&&c!==(c=T[3].t("Search Result Count"))&&o(f,"placeholder",c),S&34&&f.value!==T[1].search.result_count&&X(f,T[1].search.result_count),S&8&&g!==(g=T[3].t("Concurrent Requests")+"")&&N(m,g),S&8&&y!==(y=T[3].t("Concurrent Requests"))&&o(w,"placeholder",y),S&34&&w.value!==T[1].search.concurrent_requests&&X(w,T[1].search.concurrent_requests)},d(T){T&&u(e),k=!1,At(I)}}}function Yu(s){let e,t=s[3].t("Off")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i&8&&t!==(t=a[3].t("Off")+"")&&N(l,t)},d(a){a&&u(e)}}}function Fu(s){let e,t=s[3].t("On")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){L(a,e,i),r(e,l)},p(a,i){i&8&&t!==(t=a[3].t("On")+"")&&N(l,t)},d(a){a&&u(e)}}}function $u(s){let e,t,l,a,i,n=s[3].t("Save")+"",f,c,_,b,p=s[1]&&Sn(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),i=d("button"),f=O(n),this.h()},l(g){e=h(g,"FORM",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var E=v(t);p&&p.l(E),E.forEach(u),l=V(m),a=h(m,"DIV",{class:!0});var w=v(a);i=h(w,"BUTTON",{class:!0,type:!0});var y=v(i);f=P(y,n),y.forEach(u),w.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,m){L(g,e,m),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,i),r(i,f),c=!0,_||(b=te(e,"submit",El(s[21])),_=!0)},p(g,[m]){g[1]?p?(p.p(g,m),m&2&&re(p,1)):(p=Sn(g),p.c(),re(p,1),p.m(t,null)):p&&(kt(),ve(p,1,1,()=>{p=null}),Et()),(!c||m&8)&&n!==(n=g[3].t("Save")+"")&&N(f,n)},i(g){c||(re(p),c=!0)},o(g){ve(p),c=!1},d(g){g&&u(e),p&&p.d(),_=!1,b()}}}function Qu(s,e,t){let l;const a=fl("i18n");Ut(s,a,R=>t(3,l=R));let{saveHandler:i}=e,n=null,f=["searxng","google_pse","brave","serpstack","serper","serply","duckduckgo","tavily","jina"],c="en",_=null;const b=async()=>{await Un(localStorage.token,{web:n,youtube:{language:c.split(",").map(R=>R.trim()),translation:_}})};dl(async()=>{const R=await Nn(localStorage.token);R&&(t(1,n=R.web),t(2,c=R.youtube.language.join(",")),_=R.youtube.translation)});function p(R){s.$$.not_equal(n.search.enabled,R)&&(n.search.enabled=R,t(1,n))}function g(){n.search.engine=zt(this),t(1,n),t(5,f)}function m(){n.search.searxng_query_url=this.value,t(1,n),t(5,f)}function E(R){s.$$.not_equal(n.search.google_pse_api_key,R)&&(n.search.google_pse_api_key=R,t(1,n))}function w(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,f)}function y(R){s.$$.not_equal(n.search.brave_search_api_key,R)&&(n.search.brave_search_api_key=R,t(1,n))}function k(R){s.$$.not_equal(n.search.serpstack_api_key,R)&&(n.search.serpstack_api_key=R,t(1,n))}function I(R){s.$$.not_equal(n.search.serper_api_key,R)&&(n.search.serper_api_key=R,t(1,n))}function T(R){s.$$.not_equal(n.search.serply_api_key,R)&&(n.search.serply_api_key=R,t(1,n))}function S(R){s.$$.not_equal(n.search.tavily_api_key,R)&&(n.search.tavily_api_key=R,t(1,n))}function A(){n.search.result_count=this.value,t(1,n),t(5,f)}function H(){n.search.concurrent_requests=this.value,t(1,n),t(5,f)}const M=()=>{t(1,n.ssl_verification=!n.ssl_verification,n),b()};function G(){c=this.value,t(2,c)}const Q=async()=>{await b(),i()};return s.$$set=R=>{"saveHandler"in R&&t(0,i=R.saveHandler)},[i,n,c,l,a,f,b,p,g,m,E,w,y,k,I,T,S,A,H,M,G,Q]}class Xu extends ul{constructor(e){super(),cl(this,e,Qu,$u,ol,{saveHandler:0})}}function Ju(s){let e,t;return e=new Do({props:{saveHandler:s[23]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[23]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function xu(s){let e,t;return e=new zi({props:{saveHandler:s[22]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[22]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function ec(s){let e,t;return e=new Zo({}),e.$on("save",s[21]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function tc(s){let e,t;return e=new Oo({props:{saveHandler:s[20]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[20]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function lc(s){let e,t;return e=new Wo({}),e.$on("save",s[19]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function sc(s){let e,t;return e=new Xu({props:{saveHandler:s[18]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[18]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function ac(s){let e,t;return e=new Bu({props:{saveHandler:s[17]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[17]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function rc(s){let e,t;return e=new pu({}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function nc(s){let e,t;return e=new Su({}),e.$on("save",s[16]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function ic(s){let e,t;return e=new xi({props:{saveHandler:s[15]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[15]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function oc(s){let e,t;return e=new Wi({props:{saveHandler:s[14]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[14]),e.$set(i)},i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function uc(s){let e,t,l,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',n,f,c=s[1].t("General")+"",_,b,p,g,m,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',w,y,k=s[1].t("Users")+"",I,T,S,A,H,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',G,Q,R=s[1].t("Connections")+"",F,C,K,z,j,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',W,Z,Y=s[1].t("Models")+"",q,U,ue,he,J,ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Ee,Ve,Pe=s[1].t("Documents")+"",Ce,ye,Ne,je,Le,Be='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',Se,We,Te=s[1].t("Web Search")+"",qe,ke,He,pe,fe,Ae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',se,ne,ae=s[1].t("Interface")+"",$,x,ge,be,De,we='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',de,oe,Me=s[1].t("Audio")+"",ze,Ue,Ye,Je,Fe,it='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',Ze,xe,Oe=s[1].t("Images")+"",rt,$e,ft,Re,_e,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',ce,le,Xe=s[1].t("Pipelines")+"",vt,_t,Dt,Vt,Ht,qt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Mt,It,Rt=s[1].t("Database")+"",Nt,Bt,Wt,wt,ot,pt,ut,Ft,jt;const Zt=[oc,ic,nc,rc,ac,sc,lc,tc,ec,xu,Ju],Tt=[];function Yt(Ge,Qe){return Ge[0]==="general"?0:Ge[0]==="users"?1:Ge[0]==="connections"?2:Ge[0]==="models"?3:Ge[0]==="documents"?4:Ge[0]==="web"?5:Ge[0]==="interface"?6:Ge[0]==="audio"?7:Ge[0]==="images"?8:Ge[0]==="db"?9:Ge[0]==="pipelines"?10:-1}return~(ot=Yt(s))&&(pt=Tt[ot]=Zt[ot](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=i,n=D(),f=d("div"),_=O(c),p=D(),g=d("button"),m=d("div"),m.innerHTML=E,w=D(),y=d("div"),I=O(k),S=D(),A=d("button"),H=d("div"),H.innerHTML=M,G=D(),Q=d("div"),F=O(R),K=D(),z=d("button"),j=d("div"),j.innerHTML=B,W=D(),Z=d("div"),q=O(Y),ue=D(),he=d("button"),J=d("div"),J.innerHTML=ee,Ee=D(),Ve=d("div"),Ce=O(Pe),Ne=D(),je=d("button"),Le=d("div"),Le.innerHTML=Be,Se=D(),We=d("div"),qe=O(Te),He=D(),pe=d("button"),fe=d("div"),fe.innerHTML=Ae,se=D(),ne=d("div"),$=O(ae),ge=D(),be=d("button"),De=d("div"),De.innerHTML=we,de=D(),oe=d("div"),ze=O(Me),Ye=D(),Je=d("button"),Fe=d("div"),Fe.innerHTML=it,Ze=D(),xe=d("div"),rt=O(Oe),ft=D(),Re=d("button"),_e=d("div"),_e.innerHTML=ie,ce=D(),le=d("div"),vt=O(Xe),Dt=D(),Vt=d("button"),Ht=d("div"),Ht.innerHTML=qt,Mt=D(),It=d("div"),Nt=O(Rt),Wt=D(),wt=d("div"),pt&&pt.c(),this.h()},l(Ge){e=h(Ge,"DIV",{class:!0});var Qe=v(e);t=h(Qe,"DIV",{id:!0,class:!0});var dt=v(t);l=h(dt,"BUTTON",{class:!0});var Ml=v(l);a=h(Ml,"DIV",{class:!0,"data-svelte-h":!0}),at(a)!=="svelte-1e9u9pw"&&(a.innerHTML=i),n=V(Ml),f=h(Ml,"DIV",{class:!0});var Bl=v(f);_=P(Bl,c),Bl.forEach(u),Ml.forEach(u),p=V(dt),g=h(dt,"BUTTON",{class:!0});var Ol=v(g);m=h(Ol,"DIV",{class:!0,"data-svelte-h":!0}),at(m)!=="svelte-28mfsy"&&(m.innerHTML=E),w=V(Ol),y=h(Ol,"DIV",{class:!0});var ll=v(y);I=P(ll,k),ll.forEach(u),Ol.forEach(u),S=V(dt),A=h(dt,"BUTTON",{class:!0});var _l=v(A);H=h(_l,"DIV",{class:!0,"data-svelte-h":!0}),at(H)!=="svelte-1xixjje"&&(H.innerHTML=M),G=V(_l),Q=h(_l,"DIV",{class:!0});var Pl=v(Q);F=P(Pl,R),Pl.forEach(u),_l.forEach(u),K=V(dt),z=h(dt,"BUTTON",{class:!0});var Tl=v(z);j=h(Tl,"DIV",{class:!0,"data-svelte-h":!0}),at(j)!=="svelte-17kkxfv"&&(j.innerHTML=B),W=V(Tl),Z=h(Tl,"DIV",{class:!0});var Wl=v(Z);q=P(Wl,Y),Wl.forEach(u),Tl.forEach(u),ue=V(dt),he=h(dt,"BUTTON",{class:!0});var sl=v(he);J=h(sl,"DIV",{class:!0,"data-svelte-h":!0}),at(J)!=="svelte-ofbvgh"&&(J.innerHTML=ee),Ee=V(sl),Ve=h(sl,"DIV",{class:!0});var vl=v(Ve);Ce=P(vl,Pe),vl.forEach(u),sl.forEach(u),Ne=V(dt),je=h(dt,"BUTTON",{class:!0});var pl=v(je);Le=h(pl,"DIV",{class:!0,"data-svelte-h":!0}),at(Le)!=="svelte-1t9ru36"&&(Le.innerHTML=Be),Se=V(pl),We=h(pl,"DIV",{class:!0});var Ll=v(We);qe=P(Ll,Te),Ll.forEach(u),pl.forEach(u),He=V(dt),pe=h(dt,"BUTTON",{class:!0});var Dl=v(pe);fe=h(Dl,"DIV",{class:!0,"data-svelte-h":!0}),at(fe)!=="svelte-1i52rm6"&&(fe.innerHTML=Ae),se=V(Dl),ne=h(Dl,"DIV",{class:!0});var Yl=v(ne);$=P(Yl,ae),Yl.forEach(u),Dl.forEach(u),ge=V(dt),be=h(dt,"BUTTON",{class:!0});var gl=v(be);De=h(gl,"DIV",{class:!0,"data-svelte-h":!0}),at(De)!=="svelte-sf0iba"&&(De.innerHTML=we),de=V(gl),oe=h(gl,"DIV",{class:!0});var $t=v(oe);ze=P($t,Me),$t.forEach(u),gl.forEach(u),Ye=V(dt),Je=h(dt,"BUTTON",{class:!0});var Vl=v(Je);Fe=h(Vl,"DIV",{class:!0,"data-svelte-h":!0}),at(Fe)!=="svelte-1gc3odz"&&(Fe.innerHTML=it),Ze=V(Vl),xe=h(Vl,"DIV",{class:!0});var Fl=v(xe);rt=P(Fl,Oe),Fl.forEach(u),Vl.forEach(u),ft=V(dt),Re=h(dt,"BUTTON",{class:!0});var al=v(Re);_e=h(al,"DIV",{class:!0,"data-svelte-h":!0}),at(_e)!=="svelte-1q46caf"&&(_e.innerHTML=ie),ce=V(al),le=h(al,"DIV",{class:!0});var Sl=v(le);vt=P(Sl,Xe),Sl.forEach(u),al.forEach(u),Dt=V(dt),Vt=h(dt,"BUTTON",{class:!0});var wl=v(Vt);Ht=h(wl,"DIV",{class:!0,"data-svelte-h":!0}),at(Ht)!=="svelte-35c53k"&&(Ht.innerHTML=qt),Mt=V(wl),It=h(wl,"DIV",{class:!0});var jl=v(It);Nt=P(jl,Rt),jl.forEach(u),wl.forEach(u),dt.forEach(u),Wt=V(Qe),wt=h(Qe,"DIV",{class:!0});var $l=v(wt);pt&&pt.l($l),$l.forEach(u),Qe.forEach(u),this.h()},h(){o(a,"class","self-center mr-2"),o(f,"class","self-center"),o(l,"class",b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(m,"class","self-center mr-2"),o(y,"class","self-center"),o(g,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(H,"class","self-center mr-2"),o(Q,"class","self-center"),o(A,"class",C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(j,"class","self-center mr-2"),o(Z,"class","self-center"),o(z,"class",U="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(J,"class","self-center mr-2"),o(Ve,"class","self-center"),o(he,"class",ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(Le,"class","self-center mr-2"),o(We,"class","self-center"),o(je,"class",ke="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(fe,"class","self-center mr-2"),o(ne,"class","self-center"),o(pe,"class",x="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(De,"class","self-center mr-2"),o(oe,"class","self-center"),o(be,"class",Ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(Fe,"class","self-center mr-2"),o(xe,"class","self-center"),o(Je,"class",$e="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(_e,"class","self-center mr-2"),o(le,"class","self-center"),o(Re,"class",_t="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(Ht,"class","self-center mr-2"),o(It,"class","self-center"),o(Vt,"class",Bt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),o(t,"id","admin-settings-tabs-container"),o(t,"class","tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none"),o(wt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll"),o(e,"class","flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4")},m(Ge,Qe){L(Ge,e,Qe),r(e,t),r(t,l),r(l,a),r(l,n),r(l,f),r(f,_),r(t,p),r(t,g),r(g,m),r(g,w),r(g,y),r(y,I),r(t,S),r(t,A),r(A,H),r(A,G),r(A,Q),r(Q,F),r(t,K),r(t,z),r(z,j),r(z,W),r(z,Z),r(Z,q),r(t,ue),r(t,he),r(he,J),r(he,Ee),r(he,Ve),r(Ve,Ce),r(t,Ne),r(t,je),r(je,Le),r(je,Se),r(je,We),r(We,qe),r(t,He),r(t,pe),r(pe,fe),r(pe,se),r(pe,ne),r(ne,$),r(t,ge),r(t,be),r(be,De),r(be,de),r(be,oe),r(oe,ze),r(t,Ye),r(t,Je),r(Je,Fe),r(Je,Ze),r(Je,xe),r(xe,rt),r(t,ft),r(t,Re),r(Re,_e),r(Re,ce),r(Re,le),r(le,vt),r(t,Dt),r(t,Vt),r(Vt,Ht),r(Vt,Mt),r(Vt,It),r(It,Nt),r(e,Wt),r(e,wt),~ot&&Tt[ot].m(wt,null),ut=!0,Ft||(jt=[te(l,"click",s[3]),te(g,"click",s[4]),te(A,"click",s[5]),te(z,"click",s[6]),te(he,"click",s[7]),te(je,"click",s[8]),te(pe,"click",s[9]),te(be,"click",s[10]),te(Je,"click",s[11]),te(Re,"click",s[12]),te(Vt,"click",s[13])],Ft=!0)},p(Ge,[Qe]){(!ut||Qe&2)&&c!==(c=Ge[1].t("General")+"")&&N(_,c),(!ut||Qe&1&&b!==(b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Ge[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(l,"class",b),(!ut||Qe&2)&&k!==(k=Ge[1].t("Users")+"")&&N(I,k),(!ut||Qe&1&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(g,"class",T),(!ut||Qe&2)&&R!==(R=Ge[1].t("Connections")+"")&&N(F,R),(!ut||Qe&1&&C!==(C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(A,"class",C),(!ut||Qe&2)&&Y!==(Y=Ge[1].t("Models")+"")&&N(q,Y),(!ut||Qe&1&&U!==(U="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(z,"class",U),(!ut||Qe&2)&&Pe!==(Pe=Ge[1].t("Documents")+"")&&N(Ce,Pe),(!ut||Qe&1&&ye!==(ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(he,"class",ye),(!ut||Qe&2)&&Te!==(Te=Ge[1].t("Web Search")+"")&&N(qe,Te),(!ut||Qe&1&&ke!==(ke="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(je,"class",ke),(!ut||Qe&2)&&ae!==(ae=Ge[1].t("Interface")+"")&&N($,ae),(!ut||Qe&1&&x!==(x="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(pe,"class",x),(!ut||Qe&2)&&Me!==(Me=Ge[1].t("Audio")+"")&&N(ze,Me),(!ut||Qe&1&&Ue!==(Ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(be,"class",Ue),(!ut||Qe&2)&&Oe!==(Oe=Ge[1].t("Images")+"")&&N(rt,Oe),(!ut||Qe&1&&$e!==($e="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(Je,"class",$e),(!ut||Qe&2)&&Xe!==(Xe=Ge[1].t("Pipelines")+"")&&N(vt,Xe),(!ut||Qe&1&&_t!==(_t="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(Re,"class",_t),(!ut||Qe&2)&&Rt!==(Rt=Ge[1].t("Database")+"")&&N(Nt,Rt),(!ut||Qe&1&&Bt!==(Bt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Ge[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&o(Vt,"class",Bt);let dt=ot;ot=Yt(Ge),ot===dt?~ot&&Tt[ot].p(Ge,Qe):(pt&&(kt(),ve(Tt[dt],1,1,()=>{Tt[dt]=null}),Et()),~ot?(pt=Tt[ot],pt?pt.p(Ge,Qe):(pt=Tt[ot]=Zt[ot](Ge),pt.c()),re(pt,1),pt.m(wt,null)):pt=null)},i(Ge){ut||(re(pt),ut=!0)},o(Ge){ve(pt),ut=!1},d(Ge){Ge&&u(e),~ot&&Tt[ot].d(),Ft=!1,At(jt)}}}function cc(s,e,t){let l;const a=fl("i18n");Ut(s,a,F=>t(1,l=F));let i="general";return dl(()=>{const F=document.getElementById("admin-settings-tabs-container");F&&F.addEventListener("wheel",function(C){C.deltaY!==0&&(F.scrollLeft+=C.deltaY)})}),[i,l,a,()=>{t(0,i="general")},()=>{t(0,i="users")},()=>{t(0,i="connections")},()=>{t(0,i="models")},()=>{t(0,i="documents")},()=>{t(0,i="web")},()=>{t(0,i="interface")},()=>{t(0,i="audio")},()=>{t(0,i="images")},()=>{t(0,i="pipelines")},()=>{t(0,i="db")},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},async()=>{Ie.success(l.t("Settings saved successfully!")),await Js(),await Rl.set(await hs())},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))},()=>{Ie.success(l.t("Settings saved successfully!"))}]}class fc extends ul{constructor(e){super(),cl(this,e,cc,uc,ol,{})}}function dc(s){let e,t;return e=new fc({}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:ct,i(l){t||(re(e.$$.fragment,l),t=!0)},o(l){ve(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}class Uc extends ul{constructor(e){super(),cl(this,e,null,dc,ol,{})}}export{Uc as component};
//# sourceMappingURL=8.a7eefedc.js.map
