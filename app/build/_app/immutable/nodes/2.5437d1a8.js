import{s as rt,f as h,l as O,a as S,g as v,h as _,m as H,d as u,c as M,j as c,i as P,r as n,u as ee,O as Cl,n as $,C as Ue,v as ct,P as pt,w as Be,Q as Ne,z as Ke,A as qe,R as He,S as os,o as Jt,p as vt,T as Vl,U as jt,K as Ut,V as hl,W as kt,X as Tl,t as Hl,e as pl,E as Br,F as xr,G as Nr,H as Or,Y as Jr,Z as Al,k as mt}from"../chunks/scheduler.8ceb707f.js";import{S as nt,i as ot,b as ve,d as _e,m as me,a as se,g as yt,t as ae,c as Et,e as pe,f as It}from"../chunks/index.07e72a31.js";import{a as Ye}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as ys}from"../chunks/FileSaver.min.898eb36f.js";import{g as kl}from"../chunks/navigation.4d72fedf.js";import{a as Qr,b as Hr,c as en}from"../chunks/index.c405526f.js";import{u as tn,g as ln,a as sn,b as fl,d as an,c as ya,e as Ur,f as ds,h as $r,i as Pr,j as rn,k as nn,l as on,m as cn,n as un,o as Il,p as fn,q as dn,r as jr,s as hn}from"../chunks/index.31423eb8.js";import{g as vn}from"../chunks/index.74f7e71e.js";import{g as _n}from"../chunks/index.e68fa13d.js";import{g as mn,a as pn,u as gn,b as bn}from"../chunks/index.1a3f7366.js";import{S as zr,g as wn}from"../chunks/SensitiveInput.3814abd7.js";import{u as Bl,d as kn,W as Rr,e as xl,f as rs,g as dl,t as yn,c as cs,h as Es,i as Kt,j as Zr,k as Wr,l as ns,m as gs,p as Dl,n as ul,o as hs,q as bs,a as En,r as vs,v as In,w as Dn,x as Vn}from"../chunks/index.de68b371.js";import{M as Nl}from"../chunks/Modal.9e048b4e.js";import{u as Tn,a as Cn,b as Sn,c as Mn,d as An}from"../chunks/index.ff31356f.js";import{g as Ln}from"../chunks/index.5b5097e5.js";import{g as Ol,c as Bn,a as Ea,d as xn,e as Nn,f as On,h as Hn}from"../chunks/index.a303954b.js";import{T as qt}from"../chunks/create.4fbceb05.js";import{g as Un}from"../chunks/index.ba268a08.js";import{e as Qe}from"../chunks/each.0e379b97.js";import{g as $n}from"../chunks/index.58b61bf1.js";import{A as Pn}from"../chunks/AdvancedParams.94f6fb31.js";import{S as Fr}from"../chunks/Switch.8a79adb4.js";import{d as is}from"../chunks/dayjs.min.1e504c00.js";import{a as jn,u as zn,g as as,d as Rn,b as Zn,T as Wn,A as Yr,S as Fn,U as Yn}from"../chunks/ShareChatModal.e684fb29.js";import"../chunks/index.c4ca6160.js";import{g as Kn,a as qn,u as Gn,b as Xn}from"../chunks/index.a48b5b28.js";import{S as Jn}from"../chunks/Spinner.73030589.js";import{V as Qn}from"../chunks/Valves.0441dd3c.js";import{D as eo,M as Ll}from"../chunks/Dropdown.268d4eaa.js";import{M as to}from"../chunks/menu-trigger.87a134fd.js";import{f as lo}from"../chunks/index.505b608a.js";import{D as so,S as ao,G as Kr}from"../chunks/DocumentDuplicate.7b80d4fe.js";import{C as ro}from"../chunks/ConfirmDialog.beed6fd0.js";const no=(s,e)=>e.some(t=>s instanceof t);let Ia,Da;function oo(){return Ia||(Ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function io(){return Da||(Da=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qr=new WeakMap,ws=new WeakMap,Gr=new WeakMap,_s=new WeakMap,Is=new WeakMap;function co(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",r),s.removeEventListener("error",o)},r=()=>{t(wl(s.result)),a()},o=()=>{l(s.error),a()};s.addEventListener("success",r),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qr.set(t,s)}).catch(()=>{}),Is.set(e,s),e}function uo(s){if(ws.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",r),s.removeEventListener("error",o),s.removeEventListener("abort",o)},r=()=>{t(),a()},o=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",r),s.addEventListener("error",o),s.addEventListener("abort",o)});ws.set(s,e)}let ks={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return ws.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Gr.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wl(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fo(s){ks=s(ks)}function ho(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(ms(this),e,...t);return Gr.set(l,e.sort?e.sort():[e]),wl(l)}:io().includes(s)?function(...e){return s.apply(ms(this),e),wl(qr.get(this))}:function(...e){return wl(s.apply(ms(this),e))}}function vo(s){return typeof s=="function"?ho(s):(s instanceof IDBTransaction&&uo(s),no(s,oo())?new Proxy(s,ks):s)}function wl(s){if(s instanceof IDBRequest)return co(s);if(_s.has(s))return _s.get(s);const e=vo(s);return e!==s&&(_s.set(s,e),Is.set(e,s)),e}const ms=s=>Is.get(s);function _o(s,e,{blocked:t,upgrade:l,blocking:a,terminated:r}={}){const o=indexedDB.open(s,e),i=wl(o);return l&&o.addEventListener("upgradeneeded",f=>{l(wl(o.result),f.oldVersion,f.newVersion,wl(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),i.then(f=>{r&&f.addEventListener("close",()=>r()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),i}function Va(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),wl(t).then(()=>{})}const mo=["get","getKey","getAll","getAllKeys","count"],po=["put","add","delete","clear"],ps=new Map;function Ta(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ps.get(e))return ps.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=po.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||mo.includes(t)))return;const r=async function(o,...i){const f=this.transaction(o,a?"readwrite":"readonly");let d=f.store;return l&&(d=d.index(i.shift())),(await Promise.all([d[t](...i),a&&f.done]))[0]};return ps.set(e,r),r}fo(s=>({...s,get:(e,t,l)=>Ta(e,t)||s.get(e,t,l),has:(e,t)=>!!Ta(e,t)||s.has(e,t)}));function Ca(s){let e,t,l,a=s[4].t("Current Password")+"",r,o,i,f,d,g,p,m=s[4].t("New Password")+"",b,w,y,E,D,T,V,I=s[4].t("Confirm Password")+"",k,C,L,Z,Y,N,F,j=s[4].t("Update password")+"",B,A,x;return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("div"),f=h("input"),d=S(),g=h("div"),p=h("div"),b=O(m),w=S(),y=h("div"),E=h("input"),D=S(),T=h("div"),V=h("div"),k=O(I),C=S(),L=h("div"),Z=h("input"),Y=S(),N=h("div"),F=h("button"),B=O(j),this.h()},l(U){e=v(U,"DIV",{class:!0});var R=_(e);t=v(R,"DIV",{class:!0});var K=_(t);l=v(K,"DIV",{class:!0});var z=_(l);r=H(z,a),z.forEach(u),o=M(K),i=v(K,"DIV",{class:!0});var W=_(i);f=v(W,"INPUT",{class:!0,type:!0,autocomplete:!0}),W.forEach(u),K.forEach(u),d=M(R),g=v(R,"DIV",{class:!0});var q=_(g);p=v(q,"DIV",{class:!0});var X=_(p);b=H(X,m),X.forEach(u),w=M(q),y=v(q,"DIV",{class:!0});var J=_(y);E=v(J,"INPUT",{class:!0,type:!0,autocomplete:!0}),J.forEach(u),q.forEach(u),D=M(R),T=v(R,"DIV",{class:!0});var G=_(T);V=v(G,"DIV",{class:!0});var ne=_(V);k=H(ne,I),ne.forEach(u),C=M(G),L=v(G,"DIV",{class:!0});var fe=_(L);Z=v(fe,"INPUT",{class:!0,type:!0,autocomplete:!0}),fe.forEach(u),G.forEach(u),R.forEach(u),Y=M(U),N=v(U,"DIV",{class:!0});var he=_(N);F=v(he,"BUTTON",{class:!0});var ue=_(F);B=H(ue,j),ue.forEach(u),he.forEach(u),this.h()},h(){c(l,"class","mb-1 text-xs text-gray-500"),c(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(f,"type","password"),c(f,"autocomplete","current-password"),f.required=!0,c(i,"class","flex-1"),c(t,"class","flex flex-col w-full"),c(p,"class","mb-1 text-xs text-gray-500"),c(E,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(E,"type","password"),c(E,"autocomplete","new-password"),E.required=!0,c(y,"class","flex-1"),c(g,"class","flex flex-col w-full"),c(V,"class","mb-1 text-xs text-gray-500"),c(Z,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(Z,"type","password"),c(Z,"autocomplete","off"),Z.required=!0,c(L,"class","flex-1"),c(T,"class","flex flex-col w-full"),c(e,"class","py-2.5 space-y-1.5"),c(F,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),c(N,"class","mt-3 flex justify-end")},m(U,R){P(U,e,R),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,f),Ne(f,s[1]),n(e,d),n(e,g),n(g,p),n(p,b),n(g,w),n(g,y),n(y,E),Ne(E,s[2]),n(e,D),n(e,T),n(T,V),n(V,k),n(T,C),n(T,L),n(L,Z),Ne(Z,s[3]),P(U,Y,R),P(U,N,R),n(N,F),n(F,B),A||(x=[ee(f,"input",s[8]),ee(E,"input",s[9]),ee(Z,"input",s[10])],A=!0)},p(U,R){R&16&&a!==(a=U[4].t("Current Password")+"")&&$(r,a),R&2&&f.value!==U[1]&&Ne(f,U[1]),R&16&&m!==(m=U[4].t("New Password")+"")&&$(b,m),R&4&&E.value!==U[2]&&Ne(E,U[2]),R&16&&I!==(I=U[4].t("Confirm Password")+"")&&$(k,I),R&8&&Z.value!==U[3]&&Ne(Z,U[3]),R&16&&j!==(j=U[4].t("Update password")+"")&&$(B,j)},d(U){U&&(u(e),u(Y),u(N)),A=!1,ct(x)}}}function go(s){let e,t,l,a=s[4].t("Change Password")+"",r,o,i,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",d,g,p,m,b=s[0]&&Ca(s);return{c(){e=h("form"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),d=O(f),g=S(),b&&b.c(),this.h()},l(w){e=v(w,"FORM",{class:!0});var y=_(e);t=v(y,"DIV",{class:!0});var E=_(t);l=v(E,"DIV",{class:!0});var D=_(l);r=H(D,a),D.forEach(u),o=M(E),i=v(E,"BUTTON",{class:!0,type:!0});var T=_(i);d=H(T,f),T.forEach(u),E.forEach(u),g=M(y),b&&b.l(y),y.forEach(u),this.h()},h(){c(l,"class","font-medium"),c(i,"class","text-xs font-medium text-gray-500"),c(i,"type","button"),c(t,"class","flex justify-between items-center text-sm"),c(e,"class","flex flex-col text-sm")},m(w,y){P(w,e,y),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,d),n(e,g),b&&b.m(e,null),p||(m=[ee(i,"click",s[7]),ee(e,"submit",Cl(s[11]))],p=!0)},p(w,[y]){y&16&&a!==(a=w[4].t("Change Password")+"")&&$(r,a),y&17&&f!==(f=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&$(d,f),w[0]?b?b.p(w,y):(b=Ca(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Ue,o:Ue,d(w){w&&u(e),b&&b.d(),p=!1,ct(m)}}}function bo(s,e,t){let l;const a=pt("i18n");Be(s,a,y=>t(4,l=y));let r=!1,o="",i="",f="";const d=async()=>{i===f?(await Tn(localStorage.token,o,i).catch(E=>(Ye.error(E),null))&&Ye.success(l.t("Successfully updated.")),t(1,o=""),t(2,i=""),t(3,f="")):(Ye.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,f=""))},g=()=>{t(0,r=!r)};function p(){o=this.value,t(1,o)}function m(){i=this.value,t(2,i)}function b(){f=this.value,t(3,f)}return[r,o,i,f,l,a,d,g,p,m,b,()=>{d()}]}class wo extends nt{constructor(e){super(),ot(this,e,bo,go,rt,{})}}function ko(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=qe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M12 4.5v15m7.5-7.5h-15"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){P(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function yo(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class Eo extends nt{constructor(e){super(),ot(this,e,yo,ko,rt,{className:0,strokeWidth:1})}}function Sa(s){let e,t,l,a,r=s[9].t("JWT Token")+"",o,i,f,d,g,p,m,b,w,y,E=s[9].t("API Key")+"",D,T,V,I,k,C,L,Z;d=new zr({props:{value:localStorage.token,readOnly:!0}});function Y(x,U){return x[4]?Do:Io}let N=Y(s),F=N(s);const j=[To,Vo],B=[];function A(x,U){return x[5]?0:1}return I=A(s),k=B[I]=j[I](s),{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),o=O(r),i=S(),f=h("div"),ve(d.$$.fragment),g=S(),p=h("button"),F.c(),m=S(),b=h("div"),w=h("div"),y=h("div"),D=O(E),T=S(),V=h("div"),k.c(),this.h()},l(x){e=v(x,"DIV",{class:!0});var U=_(e);t=v(U,"DIV",{class:!0});var R=_(t);l=v(R,"DIV",{class:!0});var K=_(l);a=v(K,"DIV",{class:!0});var z=_(a);o=H(z,r),z.forEach(u),K.forEach(u),i=M(R),f=v(R,"DIV",{class:!0});var W=_(f);_e(d.$$.fragment,W),g=M(W),p=v(W,"BUTTON",{class:!0});var q=_(p);F.l(q),q.forEach(u),W.forEach(u),R.forEach(u),m=M(U),b=v(U,"DIV",{class:!0});var X=_(b);w=v(X,"DIV",{class:!0});var J=_(w);y=v(J,"DIV",{class:!0});var G=_(y);D=H(G,E),G.forEach(u),J.forEach(u),T=M(X),V=v(X,"DIV",{class:!0});var ne=_(V);k.l(ne),ne.forEach(u),X.forEach(u),U.forEach(u),this.h()},h(){c(a,"class","self-center text-xs font-medium"),c(l,"class","flex justify-between w-full"),c(p,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),c(f,"class","flex mt-2"),c(t,"class","justify-between w-full"),c(y,"class","self-center text-xs font-medium"),c(w,"class","flex justify-between w-full"),c(V,"class","flex mt-2"),c(b,"class","justify-between w-full"),c(e,"class","flex flex-col gap-4")},m(x,U){P(x,e,U),n(e,t),n(t,l),n(l,a),n(a,o),n(t,i),n(t,f),me(d,f,null),n(f,g),n(f,p),F.m(p,null),n(e,m),n(e,b),n(b,w),n(w,y),n(y,D),n(b,T),n(b,V),B[I].m(V,null),C=!0,L||(Z=ee(p,"click",s[21]),L=!0)},p(x,U){(!C||U&512)&&r!==(r=x[9].t("JWT Token")+"")&&$(o,r),N!==(N=Y(x))&&(F.d(1),F=N(x),F&&(F.c(),F.m(p,null))),(!C||U&512)&&E!==(E=x[9].t("API Key")+"")&&$(D,E);let R=I;I=A(x),I===R?B[I].p(x,U):(yt(),ae(B[R],1,1,()=>{B[R]=null}),Et(),k=B[I],k?k.p(x,U):(k=B[I]=j[I](x),k.c()),se(k,1),k.m(V,null))},i(x){C||(se(d.$$.fragment,x),se(k),C=!0)},o(x){ae(d.$$.fragment,x),ae(k),C=!1},d(x){x&&u(e),pe(d),F.d(),B[I].d(),L=!1,Z()}}}function Io(s){let e,t,l;return{c(){e=Ke("svg"),t=Ke("path"),l=Ke("path"),this.h()},l(a){e=qe(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=_(e);t=qe(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),l=qe(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){P(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function Do(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=_(e);t=qe(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){P(l,e,a),n(e,t)},d(l){l&&u(e)}}}function Vo(s){let e,t,l,a=s[9].t("Create new secret key")+"",r,o,i,f;return t=new Eo({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=h("button"),ve(t.$$.fragment),l=S(),r=O(a),this.h()},l(d){e=v(d,"BUTTON",{class:!0});var g=_(e);_e(t.$$.fragment,g),l=M(g),r=H(g,a),g.forEach(u),this.h()},h(){c(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(d,g){P(d,e,g),me(t,e,null),n(e,l),n(e,r),o=!0,i||(f=ee(e,"click",s[24]),i=!0)},p(d,g){(!o||g&512)&&a!==(a=d[9].t("Create new secret key")+"")&&$(r,a)},i(d){o||(se(t.$$.fragment,d),o=!0)},o(d){ae(t.$$.fragment,d),o=!1},d(d){d&&u(e),pe(t),i=!1,f()}}}function To(s){let e,t,l,a,r,o,i,f;e=new zr({props:{value:s[5],readOnly:!0}});function d(m,b){return m[6]?So:Co}let g=d(s),p=g(s);return r=new qt({props:{content:s[9].t("Create new key"),$$slots:{default:[Mo]},$$scope:{ctx:s}}}),{c(){ve(e.$$.fragment),t=S(),l=h("button"),p.c(),a=S(),ve(r.$$.fragment),this.h()},l(m){_e(e.$$.fragment,m),t=M(m),l=v(m,"BUTTON",{class:!0});var b=_(l);p.l(b),b.forEach(u),a=M(m),_e(r.$$.fragment,m),this.h()},h(){c(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(m,b){me(e,m,b),P(m,t,b),P(m,l,b),p.m(l,null),P(m,a,b),me(r,m,b),o=!0,i||(f=ee(l,"click",s[22]),i=!0)},p(m,b){const w={};b&32&&(w.value=m[5]),e.$set(w),g!==(g=d(m))&&(p.d(1),p=g(m),p&&(p.c(),p.m(l,null)));const y={};b&512&&(y.content=m[9].t("Create new key")),b&67108864&&(y.$$scope={dirty:b,ctx:m}),r.$set(y)},i(m){o||(se(e.$$.fragment,m),se(r.$$.fragment,m),o=!0)},o(m){ae(e.$$.fragment,m),ae(r.$$.fragment,m),o=!1},d(m){m&&(u(t),u(l),u(a)),pe(e,m),p.d(),pe(r,m),i=!1,f()}}}function Co(s){let e,t,l;return{c(){e=Ke("svg"),t=Ke("path"),l=Ke("path"),this.h()},l(a){e=qe(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=_(e);t=qe(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),l=qe(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){P(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function So(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=_(e);t=qe(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){P(l,e,a),n(e,t)},d(l){l&&u(e)}}}function Mo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){c(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,o){P(r,e,o),l||(a=ee(e,"click",s[23]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function Ao(s){let e,t,l,a,r,o,i,f,d,g,p,m,b,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,E,D,T=s[9].t("Profile Image")+"",V,I,k,C,L=s[9].t("Use Initials")+"",Z,Y,N,F=s[9].t("Use Gravatar")+"",j,B,A,x=s[9].t("Remove")+"",U,R,K,z,W,q=s[9].t("Name")+"",X,J,G,ne,fe,he,ue,De,Te,Q,oe,ce,te=s[9].t("API keys")+"",re,de,ge,Ce=(s[3]?s[9].t("Hide"):s[9].t("Show"))+"",Me,be,Pe,ke,Re,Ie=s[9].t("Save")+"",Ze,le,we,Oe;ue=new wo({});let je=s[3]&&Sa(s);return{c(){e=h("div"),t=h("div"),l=h("input"),a=S(),r=h("div"),o=h("div"),i=h("div"),f=h("div"),d=h("button"),g=h("img"),m=S(),b=h("div"),b.innerHTML=w,y=S(),E=h("div"),D=h("div"),V=O(T),I=S(),k=h("div"),C=h("button"),Z=O(L),Y=S(),N=h("button"),j=O(F),B=S(),A=h("button"),U=O(x),R=S(),K=h("div"),z=h("div"),W=h("div"),X=O(q),J=S(),G=h("div"),ne=h("input"),fe=S(),he=h("div"),ve(ue.$$.fragment),De=S(),Te=h("hr"),Q=S(),oe=h("div"),ce=h("div"),re=O(te),de=S(),ge=h("button"),Me=O(Ce),be=S(),je&&je.c(),Pe=S(),ke=h("div"),Re=h("button"),Ze=O(Ie),this.h()},l(ye){e=v(ye,"DIV",{class:!0});var Ve=_(e);t=v(Ve,"DIV",{class:!0});var ze=_(t);l=v(ze,"INPUT",{id:!0,type:!0,accept:!0}),a=M(ze),r=v(ze,"DIV",{class:!0});var gt=_(r);o=v(gt,"DIV",{class:!0});var at=_(o);i=v(at,"DIV",{class:!0});var st=_(i);f=v(st,"DIV",{class:!0});var it=_(f);d=v(it,"BUTTON",{class:!0,type:!0});var ut=_(d);g=v(ut,"IMG",{src:!0,alt:!0,class:!0}),m=M(ut),b=v(ut,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-11ivb2j"&&(b.innerHTML=w),ut.forEach(u),it.forEach(u),st.forEach(u),y=M(at),E=v(at,"DIV",{class:!0});var _t=_(E);D=v(_t,"DIV",{class:!0});var et=_(D);V=H(et,T),et.forEach(u),I=M(_t),k=v(_t,"DIV",{});var Je=_(k);C=v(Je,"BUTTON",{class:!0});var Vt=_(C);Z=H(Vt,L),Vt.forEach(u),Y=M(Je),N=v(Je,"BUTTON",{class:!0});var Dt=_(N);j=H(Dt,F),Dt.forEach(u),B=M(Je),A=v(Je,"BUTTON",{class:!0});var Ge=_(A);U=H(Ge,x),Ge.forEach(u),Je.forEach(u),_t.forEach(u),at.forEach(u),R=M(gt),K=v(gt,"DIV",{class:!0});var Xe=_(K);z=v(Xe,"DIV",{class:!0});var bt=_(z);W=v(bt,"DIV",{class:!0});var Tt=_(W);X=H(Tt,q),Tt.forEach(u),J=M(bt),G=v(bt,"DIV",{class:!0});var dt=_(G);ne=v(dt,"INPUT",{class:!0,type:!0}),dt.forEach(u),bt.forEach(u),Xe.forEach(u),gt.forEach(u),fe=M(ze),he=v(ze,"DIV",{class:!0});var We=_(he);_e(ue.$$.fragment,We),We.forEach(u),De=M(ze),Te=v(ze,"HR",{class:!0}),Q=M(ze),oe=v(ze,"DIV",{class:!0});var Ee=_(oe);ce=v(Ee,"DIV",{class:!0});var Ae=_(ce);re=H(Ae,te),Ae.forEach(u),de=M(Ee),ge=v(Ee,"BUTTON",{class:!0,type:!0});var Se=_(ge);Me=H(Se,Ce),Se.forEach(u),Ee.forEach(u),be=M(ze),je&&je.l(ze),ze.forEach(u),Pe=M(Ve),ke=v(Ve,"DIV",{class:!0});var $e=_(ke);Re=v($e,"BUTTON",{class:!0});var xt=_(Re);Ze=H(xt,Ie),xt.forEach(u),$e.forEach(u),Ve.forEach(u),this.h()},h(){c(l,"id","profile-image-input"),c(l,"type","file"),l.hidden=!0,c(l,"accept","image/*"),os(g.src,p=s[1]!==""?s[1]:Ol(s[2]))||c(g,"src",p),c(g,"alt","profile"),c(g,"class","rounded-full size-16 object-cover"),c(b,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),c(d,"class","relative rounded-full dark:bg-gray-700"),c(d,"type","button"),c(f,"class","self-center mt-2"),c(i,"class","flex flex-col"),c(D,"class","mb-0.5 text-sm font-medium"),c(C,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(N,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(A,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),c(E,"class","flex-1 flex flex-col self-center gap-0.5"),c(o,"class","flex space-x-5"),c(W,"class","mb-1 text-xs font-medium"),c(ne,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(ne,"type","text"),ne.required=!0,c(G,"class","flex-1"),c(z,"class","flex flex-col w-full"),c(K,"class","pt-0.5"),c(r,"class","space-y-1"),c(he,"class","py-0.5"),c(Te,"class","dark:border-gray-850 my-4"),c(ce,"class","font-medium"),c(ge,"class","text-xs font-medium text-gray-500"),c(ge,"type","button"),c(oe,"class","flex justify-between items-center text-sm"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(Re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(ke,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(ye,Ve){P(ye,e,Ve),n(e,t),n(t,l),s[13](l),n(t,a),n(t,r),n(r,o),n(o,i),n(i,f),n(f,d),n(d,g),n(d,m),n(d,b),n(o,y),n(o,E),n(E,D),n(D,V),n(E,I),n(E,k),n(k,C),n(C,Z),n(k,Y),n(k,N),n(N,j),n(k,B),n(k,A),n(A,U),n(r,R),n(r,K),n(K,z),n(z,W),n(W,X),n(z,J),n(z,G),n(G,ne),Ne(ne,s[2]),n(t,fe),n(t,he),me(ue,he,null),n(t,De),n(t,Te),n(t,Q),n(t,oe),n(oe,ce),n(ce,re),n(oe,de),n(oe,ge),n(ge,Me),n(t,be),je&&je.m(t,null),n(e,Pe),n(e,ke),n(ke,Re),n(Re,Ze),le=!0,we||(Oe=[ee(l,"change",s[14]),ee(d,"click",s[15]),ee(C,"click",s[16]),ee(N,"click",s[17]),ee(A,"click",s[18]),ee(ne,"input",s[19]),ee(ge,"click",s[20]),ee(Re,"click",s[25])],we=!0)},p(ye,[Ve]){(!le||Ve&6&&!os(g.src,p=ye[1]!==""?ye[1]:Ol(ye[2])))&&c(g,"src",p),(!le||Ve&512)&&T!==(T=ye[9].t("Profile Image")+"")&&$(V,T),(!le||Ve&512)&&L!==(L=ye[9].t("Use Initials")+"")&&$(Z,L),(!le||Ve&512)&&F!==(F=ye[9].t("Use Gravatar")+"")&&$(j,F),(!le||Ve&512)&&x!==(x=ye[9].t("Remove")+"")&&$(U,x),(!le||Ve&512)&&q!==(q=ye[9].t("Name")+"")&&$(X,q),Ve&4&&ne.value!==ye[2]&&Ne(ne,ye[2]),(!le||Ve&512)&&te!==(te=ye[9].t("API keys")+"")&&$(re,te),(!le||Ve&520)&&Ce!==(Ce=(ye[3]?ye[9].t("Hide"):ye[9].t("Show"))+"")&&$(Me,Ce),ye[3]?je?(je.p(ye,Ve),Ve&8&&se(je,1)):(je=Sa(ye),je.c(),se(je,1),je.m(t,null)):je&&(yt(),ae(je,1,1,()=>{je=null}),Et()),(!le||Ve&512)&&Ie!==(Ie=ye[9].t("Save")+"")&&$(Ze,Ie)},i(ye){le||(se(ue.$$.fragment,ye),se(je),le=!0)},o(ye){ae(ue.$$.fragment,ye),ae(je),le=!1},d(ye){ye&&u(e),s[13](null),pe(ue),je&&je.d(),we=!1,ct(Oe)}}}function Lo(s,e,t){let l,a;Be(s,Bl,B=>t(8,l=B));const r=pt("i18n");Be(s,r,B=>t(9,a=B));let{saveHandler:o}=e,i="",f="",d=!1,g=!1,p="",m=!1,b;const w=async()=>{f!==l.name&&(i===Ol(l.name)||i==="")&&t(1,i=Ol(f));const B=await Sn(localStorage.token,f,i).catch(A=>{Ye.error(A)});return B?(await Bl.set(B),!0):!1},y=async()=>{t(5,p=await Mn(localStorage.token)),p?Ye.success(a.t("API Key created.")):Ye.error(a.t("Failed to create API Key."))};Jt(async()=>{t(2,f=l.name),t(1,i=l.profile_image_url),t(5,p=await Cn(localStorage.token).catch(B=>(console.log(B),"")))});function E(B){vt[B?"unshift":"push"](()=>{b=B,t(7,b)})}const D=B=>{const A=b.files??[];let x=new FileReader;x.onload=U=>{let R=`${U.target.result}`;const K=new Image;K.src=R,K.onload=function(){const z=document.createElement("canvas"),W=z.getContext("2d"),q=K.width/K.height;let X,J;q>1?(X=100*q,J=100):(X=100,J=100/q),z.width=100,z.height=100;const G=(100-X)/2,ne=(100-J)/2;W.drawImage(K,G,ne,X,J);const fe=z.toDataURL("image/jpeg");t(1,i=fe),t(7,b.files=null,b)}},A.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(A[0].type)&&x.readAsDataURL(A[0])},T=()=>{b.click()},V=async()=>{Bn()?t(1,i=Ol(f)):Ye.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},I=async()=>{const B=await Ln(l.email);t(1,i=B)},k=async()=>{t(1,i="/user.png")};function C(){f=this.value,t(2,f)}const L=()=>{t(3,d=!d)},Z=()=>{Ea(localStorage.token),t(4,g=!0),setTimeout(()=>{t(4,g=!1)},2e3)},Y=()=>{Ea(p),t(6,m=!0),setTimeout(()=>{t(6,m=!1)},2e3)},N=()=>{y()},F=()=>{y()},j=async()=>{await w()&&o()};return s.$$set=B=>{"saveHandler"in B&&t(0,o=B.saveHandler)},[o,i,f,d,g,p,m,b,l,a,r,w,y,E,D,T,V,I,k,C,L,Z,Y,N,F,j]}class Bo extends nt{constructor(e){super(),ot(this,e,Lo,Ao,rt,{saveHandler:0})}}function xo(s){let e,t;return{c(){e=O("v"),t=O(xl)},l(l){e=H(l,"v"),t=H(l,xl)},m(l,a){P(l,e,a),P(l,t,a)},p:Ue,d(l){l&&(u(e),u(t))}}}function Ma(s){let e,t,l,a,r=s[4].t("Ollama Version")+"",o,i,f,d,g=(s[0]??"N/A")+"",p;return{c(){e=h("hr"),t=S(),l=h("div"),a=h("div"),o=O(r),i=S(),f=h("div"),d=h("div"),p=O(g),this.h()},l(m){e=v(m,"HR",{class:!0}),t=M(m),l=v(m,"DIV",{});var b=_(l);a=v(b,"DIV",{class:!0});var w=_(a);o=H(w,r),w.forEach(u),i=M(b),f=v(b,"DIV",{class:!0});var y=_(f);d=v(y,"DIV",{class:!0});var E=_(d);p=H(E,g),E.forEach(u),y.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","dark:border-gray-850"),c(a,"class","mb-2.5 text-sm font-medium"),c(d,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),c(f,"class","flex w-full")},m(m,b){P(m,e,b),P(m,t,b),P(m,l,b),n(l,a),n(a,o),n(l,i),n(l,f),n(f,d),n(d,p)},p(m,b){b&16&&r!==(r=m[4].t("Ollama Version")+"")&&$(o,r),b&1&&g!==(g=(m[0]??"N/A")+"")&&$(p,g)},d(m){m&&(u(e),u(t),u(l))}}}function Aa(s){let e,t,l;return{c(){e=h("span"),t=O(s[3]),l=O(" -"),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);t=H(r,s[3]),r.forEach(u),l=H(a," -"),this.h()},h(){c(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(a,r){P(a,e,r),n(e,t),P(a,l,r)},p(a,r){r&8&&$(t,a[3])},d(a){a&&(u(e),u(l))}}}function No(s){let e,t,l,a,r,o,i,f=s[4].t("Version")+"",d,g,p,m,b,w,y,E,D=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",T,V,I,k,C,L=s[4].t("See what's new")+"",Z,Y,N,F=s[4].t("Check for updates")+"",j,B,A,x,U,R,K='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',z,W,q=!s[3].includes("Open WebUI"),X,J=s[4].t("Created by")+"",G,ne,fe,he="Timothy J. Baek",ue,De,Te;w=new qt({props:{content:kn,$$slots:{default:[xo]},$$scope:{ctx:s}}});let Q=s[0]&&Ma(s),oe=q&&Aa(s);return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),r=h("div"),o=O(s[3]),i=S(),d=O(f),g=S(),p=h("div"),m=h("div"),b=h("div"),ve(w.$$.fragment),y=S(),E=h("a"),T=O(D),I=S(),k=h("button"),C=h("div"),Z=O(L),Y=S(),N=h("button"),j=O(F),B=S(),Q&&Q.c(),A=S(),x=h("hr"),U=S(),R=h("div"),R.innerHTML=K,z=S(),W=h("div"),oe&&oe.c(),X=S(),G=O(J),ne=S(),fe=h("a"),fe.textContent=he,this.h()},l(ce){e=v(ce,"DIV",{class:!0});var te=_(e);t=v(te,"DIV",{class:!0});var re=_(t);l=v(re,"DIV",{});var de=_(l);a=v(de,"DIV",{class:!0});var ge=_(a);r=v(ge,"DIV",{});var Ce=_(r);o=H(Ce,s[3]),i=M(Ce),d=H(Ce,f),Ce.forEach(u),ge.forEach(u),g=M(de),p=v(de,"DIV",{class:!0});var Me=_(p);m=v(Me,"DIV",{class:!0});var be=_(m);b=v(be,"DIV",{class:!0});var Pe=_(b);_e(w.$$.fragment,Pe),y=M(Pe),E=v(Pe,"A",{href:!0,target:!0});var ke=_(E);T=H(ke,D),ke.forEach(u),Pe.forEach(u),I=M(be),k=v(be,"BUTTON",{class:!0});var Re=_(k);C=v(Re,"DIV",{});var Ie=_(C);Z=H(Ie,L),Ie.forEach(u),Re.forEach(u),be.forEach(u),Y=M(Me),N=v(Me,"BUTTON",{class:!0});var Ze=_(N);j=H(Ze,F),Ze.forEach(u),Me.forEach(u),de.forEach(u),B=M(re),Q&&Q.l(re),A=M(re),x=v(re,"HR",{class:!0}),U=M(re),R=v(re,"DIV",{class:!0,"data-svelte-h":!0}),He(R)!=="svelte-1hy20dm"&&(R.innerHTML=K),z=M(re),W=v(re,"DIV",{class:!0});var le=_(W);oe&&oe.l(le),X=M(le),G=H(le,J),ne=M(le),fe=v(le,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),He(fe)!=="svelte-1tvrifl"&&(fe.textContent=he),le.forEach(u),re.forEach(u),te.forEach(u),this.h()},h(){c(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),c(E,"href",V="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),c(E,"target","_blank"),c(b,"class","flex gap-1"),c(k,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),c(m,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),c(N,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),c(p,"class","flex w-full justify-between items-center"),c(x,"class","dark:border-gray-850"),c(R,"class","flex space-x-1"),c(fe,"class","text-gray-500 dark:text-gray-300 font-medium"),c(fe,"href","https://github.com/tjbck"),c(fe,"target","_blank"),c(W,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),c(t,"class","space-y-3"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ce,te){P(ce,e,te),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(r,i),n(r,d),n(l,g),n(l,p),n(p,m),n(m,b),me(w,b,null),n(b,y),n(b,E),n(E,T),n(m,I),n(m,k),n(k,C),n(C,Z),n(p,Y),n(p,N),n(N,j),n(t,B),Q&&Q.m(t,null),n(t,A),n(t,x),n(t,U),n(t,R),n(t,z),n(t,W),oe&&oe.m(W,null),n(W,X),n(W,G),n(W,ne),n(W,fe),ue=!0,De||(Te=[ee(k,"click",s[7]),ee(N,"click",s[8])],De=!0)},p(ce,[te]){(!ue||te&8)&&$(o,ce[3]),(!ue||te&16)&&f!==(f=ce[4].t("Version")+"")&&$(d,f);const re={};te&512&&(re.$$scope={dirty:te,ctx:ce}),w.$set(re),(!ue||te&22)&&D!==(D=(ce[1]===null?ce[4].t("Checking for updates..."):ce[1]?`(v${ce[2].latest} ${ce[4].t("available!")})`:ce[4].t("(latest)"))+"")&&$(T,D),(!ue||te&4&&V!==(V="https://github.com/open-webui/open-webui/releases/tag/v"+ce[2].latest))&&c(E,"href",V),(!ue||te&16)&&L!==(L=ce[4].t("See what's new")+"")&&$(Z,L),(!ue||te&16)&&F!==(F=ce[4].t("Check for updates")+"")&&$(j,F),ce[0]?Q?Q.p(ce,te):(Q=Ma(ce),Q.c(),Q.m(t,A)):Q&&(Q.d(1),Q=null),te&8&&(q=!ce[3].includes("Open WebUI")),q?oe?oe.p(ce,te):(oe=Aa(ce),oe.c(),oe.m(W,X)):oe&&(oe.d(1),oe=null),(!ue||te&16)&&J!==(J=ce[4].t("Created by")+"")&&$(G,J)},i(ce){ue||(se(w.$$.fragment,ce),ue=!0)},o(ce){ae(w.$$.fragment,ce),ue=!1},d(ce){ce&&u(e),pe(w),Q&&Q.d(),oe&&oe.d(),De=!1,ct(Te)}}}function Oo(s,e,t){let l,a;Be(s,Rr,m=>t(3,l=m));const r=pt("i18n");Be(s,r,m=>t(4,a=m));let o="",i=null,f={current:"",latest:""};const d=async()=>{t(1,i=null),t(2,f=await Qr().catch(m=>({current:xl,latest:xl}))),console.log(f),t(1,i=xn(f.latest,f.current)),console.log(i)};return Jt(async()=>{t(0,o=await Un(localStorage.token).catch(m=>"")),d()}),[o,i,f,l,a,r,d,()=>{rs.set(!0)},()=>{d()}]}class Ho extends nt{constructor(e){super(),ot(this,e,Oo,No,rt,{})}}function La(s,e,t){const l=s.slice();return l[33]=e[t],l}function Ba(s){let e,t=s[33].title+"",l,a;return{c(){e=h("option"),l=O(t),this.h()},l(r){e=v(r,"OPTION",{});var o=_(e);l=H(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[33].code,Ne(e,e.__value)},m(r,o){P(r,e,o),n(e,l)},p(r,o){o[0]&4&&t!==(t=r[33].title+"")&&$(l,t),o[0]&4&&a!==(a=r[33].code)&&(e.__value=a,Ne(e,e.__value))},d(r){r&&u(e)}}}function xa(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){c(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function Uo(s){let e,t=s[10].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function $o(s){let e,t=s[10].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Na(s){var K;let e,t,l,a,r,o,i,f,d=s[10].t("Keep Alive")+"",g,p,m,b,w,y,E,D,T=s[10].t("Request Mode")+"",V,I,k,C,L,Z;function Y(z){s[25](z)}let N={admin:((K=s[11])==null?void 0:K.role)==="admin"};s[9]!==void 0&&(N.params=s[9]),e=new Pn({props:N}),vt.push(()=>It(e,"params",Y));function F(z,W){return z[8]===null?jo:Po}let j=F(s),B=j(s),A=s[8]!==null&&Oa(s);function x(z,W){if(z[7]==="")return Ro;if(z[7]==="json")return zo}let U=x(s),R=U&&U(s);return{c(){ve(e.$$.fragment),l=S(),a=h("hr"),r=S(),o=h("div"),i=h("div"),f=h("div"),g=O(d),p=S(),m=h("button"),B.c(),b=S(),A&&A.c(),w=S(),y=h("div"),E=h("div"),D=h("div"),V=O(T),I=S(),k=h("button"),R&&R.c(),this.h()},l(z){_e(e.$$.fragment,z),l=M(z),a=v(z,"HR",{class:!0}),r=M(z),o=v(z,"DIV",{class:!0});var W=_(o);i=v(W,"DIV",{class:!0});var q=_(i);f=v(q,"DIV",{class:!0});var X=_(f);g=H(X,d),X.forEach(u),p=M(q),m=v(q,"BUTTON",{class:!0,type:!0});var J=_(m);B.l(J),J.forEach(u),q.forEach(u),b=M(W),A&&A.l(W),W.forEach(u),w=M(z),y=v(z,"DIV",{});var G=_(y);E=v(G,"DIV",{class:!0});var ne=_(E);D=v(ne,"DIV",{class:!0});var fe=_(D);V=H(fe,T),fe.forEach(u),I=M(ne),k=v(ne,"BUTTON",{class:!0});var he=_(k);R&&R.l(he),he.forEach(u),ne.forEach(u),G.forEach(u),this.h()},h(){c(a,"class","dark:border-gray-850"),c(f,"class","self-center text-xs font-medium"),c(m,"class","p-1 px-3 text-xs flex rounded transition"),c(m,"type","button"),c(i,"class","flex w-full justify-between"),c(o,"class","py-1 w-full justify-between"),c(D,"class","self-center text-sm font-medium"),c(k,"class","p-1 px-3 text-xs flex rounded transition"),c(E,"class","py-1 flex w-full justify-between")},m(z,W){me(e,z,W),P(z,l,W),P(z,a,W),P(z,r,W),P(z,o,W),n(o,i),n(i,f),n(f,g),n(i,p),n(i,m),B.m(m,null),n(o,b),A&&A.m(o,null),P(z,w,W),P(z,y,W),n(y,E),n(E,D),n(D,V),n(E,I),n(E,k),R&&R.m(k,null),C=!0,L||(Z=[ee(m,"click",s[26]),ee(k,"click",s[28])],L=!0)},p(z,W){var X;const q={};W[0]&2048&&(q.admin=((X=z[11])==null?void 0:X.role)==="admin"),!t&&W[0]&512&&(t=!0,q.params=z[9],kt(()=>t=!1)),e.$set(q),(!C||W[0]&1024)&&d!==(d=z[10].t("Keep Alive")+"")&&$(g,d),j===(j=F(z))&&B?B.p(z,W):(B.d(1),B=j(z),B&&(B.c(),B.m(m,null))),z[8]!==null?A?A.p(z,W):(A=Oa(z),A.c(),A.m(o,null)):A&&(A.d(1),A=null),(!C||W[0]&1024)&&T!==(T=z[10].t("Request Mode")+"")&&$(V,T),U===(U=x(z))&&R?R.p(z,W):(R&&R.d(1),R=U&&U(z),R&&(R.c(),R.m(k,null)))},i(z){C||(se(e.$$.fragment,z),C=!0)},o(z){ae(e.$$.fragment,z),C=!1},d(z){z&&(u(l),u(a),u(r),u(o),u(w),u(y)),pe(e,z),B.d(),A&&A.d(),R&&R.d(),L=!1,ct(Z)}}}function Po(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Custom")+"")&&$(l,t)},d(a){a&&u(e)}}}function jo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&$(l,t)},d(a){a&&u(e)}}}function Oa(s){let e,t,l,a,r;return{c(){e=h("div"),t=h("input"),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=_(e);t=v(i,"INPUT",{class:!0,type:!0,placeholder:!0}),i.forEach(u),this.h()},h(){c(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(t,"type","text"),c(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),c(e,"class","flex mt-1 space-x-2")},m(o,i){P(o,e,i),n(e,t),Ne(t,s[8]),a||(r=ee(t,"input",s[27]),a=!0)},p(o,i){i[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&c(t,"placeholder",l),i[0]&256&&t.value!==o[8]&&Ne(t,o[8])},d(o){o&&u(e),a=!1,r()}}}function zo(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("JSON")+"")&&$(l,t)},d(a){a&&u(e)}}}function Ro(s){let e,t=s[10].t("Default")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&$(l,t)},d(a){a&&u(e)}}}function Zo(s){let e,t,l,a,r=s[10].t("WebUI Settings")+"",o,i,f,d,g=s[10].t("Theme")+"",p,m,b,w,y,E,D=s[10].t("System")+"",T,V,I,k=s[10].t("Dark")+"",C,L,Z,Y=s[10].t("OLED Dark")+"",N,F,j,B=s[10].t("Light")+"",A,x,U="ðŸŒ· Her",R,K,z,W=s[10].t("Language")+"",q,X,J,G,ne,fe,he,ue,De,Te=s[10].t("Notifications")+"",Q,oe,ce,te,re,de,ge,Ce,Me=s[10].t("System Prompt")+"",be,Pe,ke,Re,Ie,Ze,le,we=s[10].t("Advanced Parameters")+"",Oe,je,ye,Ve=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",ze,gt,at,st,it,ut=s[10].t("Save")+"",_t,et,Je,Vt,Dt=Qe(s[2]),Ge=[];for(let Ee=0;Ee<Dt.length;Ee+=1)Ge[Ee]=Ba(La(s,Dt,Ee));let Xe=s[10].language==="en-US"&&xa();function bt(Ee,Ae){return Ee[4]===!0?$o:Uo}let Tt=bt(s),dt=Tt(s),We=s[6]&&Na(s);return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),o=O(r),i=S(),f=h("div"),d=h("div"),p=O(g),m=S(),b=h("div"),w=h("select"),y=h("option"),E=O("âš™ï¸ "),T=O(D),V=h("option"),I=O("ðŸŒ‘ "),C=O(k),L=h("option"),Z=O("ðŸŒƒ "),N=O(Y),F=h("option"),j=O("â˜€ï¸ "),A=O(B),x=h("option"),x.textContent=U,R=S(),K=h("div"),z=h("div"),q=O(W),X=S(),J=h("div"),G=h("select");for(let Ee=0;Ee<Ge.length;Ee+=1)Ge[Ee].c();ne=S(),Xe&&Xe.c(),fe=S(),he=h("div"),ue=h("div"),De=h("div"),Q=O(Te),oe=S(),ce=h("button"),dt.c(),te=S(),re=h("hr"),de=S(),ge=h("div"),Ce=h("div"),be=O(Me),Pe=S(),ke=h("textarea"),Re=S(),Ie=h("div"),Ze=h("div"),le=h("div"),Oe=O(we),je=S(),ye=h("button"),ze=O(Ve),gt=S(),We&&We.c(),at=S(),st=h("div"),it=h("button"),_t=O(ut),this.h()},l(Ee){e=v(Ee,"DIV",{class:!0});var Ae=_(e);t=v(Ae,"DIV",{class:!0});var Se=_(t);l=v(Se,"DIV",{class:!0});var $e=_(l);a=v($e,"DIV",{class:!0});var xt=_(a);o=H(xt,r),xt.forEach(u),i=M($e),f=v($e,"DIV",{class:!0});var Gt=_(f);d=v(Gt,"DIV",{class:!0});var ht=_(d);p=H(ht,g),ht.forEach(u),m=M(Gt),b=v(Gt,"DIV",{class:!0});var Nt=_(b);w=v(Nt,"SELECT",{class:!0,placeholder:!0});var wt=_(w);y=v(wt,"OPTION",{});var zt=_(y);E=H(zt,"âš™ï¸ "),T=H(zt,D),zt.forEach(u),V=v(wt,"OPTION",{});var Le=_(V);I=H(Le,"ðŸŒ‘ "),C=H(Le,k),Le.forEach(u),L=v(wt,"OPTION",{});var Fe=_(L);Z=H(Fe,"ðŸŒƒ "),N=H(Fe,Y),Fe.forEach(u),F=v(wt,"OPTION",{});var Mt=_(F);j=H(Mt,"â˜€ï¸ "),A=H(Mt,B),Mt.forEach(u),x=v(wt,"OPTION",{"data-svelte-h":!0}),He(x)!=="svelte-188ouwx"&&(x.textContent=U),wt.forEach(u),Nt.forEach(u),Gt.forEach(u),R=M($e),K=v($e,"DIV",{class:!0});var Rt=_(K);z=v(Rt,"DIV",{class:!0});var At=_(z);q=H(At,W),At.forEach(u),X=M(Rt),J=v(Rt,"DIV",{class:!0});var tt=_(J);G=v(tt,"SELECT",{class:!0,placeholder:!0});var Zt=_(G);for(let Ht=0;Ht<Ge.length;Ht+=1)Ge[Ht].l(Zt);Zt.forEach(u),tt.forEach(u),Rt.forEach(u),ne=M($e),Xe&&Xe.l($e),fe=M($e),he=v($e,"DIV",{});var vl=_(he);ue=v(vl,"DIV",{class:!0});var Wt=_(ue);De=v(Wt,"DIV",{class:!0});var Ot=_(De);Q=H(Ot,Te),Ot.forEach(u),oe=M(Wt),ce=v(Wt,"BUTTON",{class:!0,type:!0});var Qt=_(ce);dt.l(Qt),Qt.forEach(u),Wt.forEach(u),vl.forEach(u),$e.forEach(u),te=M(Se),re=v(Se,"HR",{class:!0}),de=M(Se),ge=v(Se,"DIV",{});var Ft=_(ge);Ce=v(Ft,"DIV",{class:!0});var $t=_(Ce);be=H($t,Me),$t.forEach(u),Pe=M(Ft),ke=v(Ft,"TEXTAREA",{class:!0,rows:!0}),_(ke).forEach(u),Ft.forEach(u),Re=M(Se),Ie=v(Se,"DIV",{class:!0});var Lt=_(Ie);Ze=v(Lt,"DIV",{class:!0});var Yt=_(Ze);le=v(Yt,"DIV",{class:!0});var Xt=_(le);Oe=H(Xt,we),Xt.forEach(u),je=M(Yt),ye=v(Yt,"BUTTON",{class:!0,type:!0});var gl=_(ye);ze=H(gl,Ve),gl.forEach(u),Yt.forEach(u),gt=M(Lt),We&&We.l(Lt),Lt.forEach(u),Se.forEach(u),at=M(Ae),st=v(Ae,"DIV",{class:!0});var Ct=_(st);it=v(Ct,"BUTTON",{class:!0});var bl=_(it);_t=H(bl,ut),bl.forEach(u),Ct.forEach(u),Ae.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(d,"class","self-center text-xs font-medium"),y.__value="system",Ne(y,y.__value),V.__value="dark",Ne(V,V.__value),L.__value="oled-dark",Ne(L,L.__value),F.__value="light",Ne(F,F.__value),x.__value="her",Ne(x,x.__value),c(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(w,"placeholder","Select a theme"),s[1]===void 0&&Vl(()=>s[18].call(w)),c(b,"class","flex items-center relative"),c(f,"class","flex w-full justify-between"),c(z,"class","self-center text-xs font-medium"),c(G,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(G,"placeholder","Select a language"),s[3]===void 0&&Vl(()=>s[20].call(G)),c(J,"class","flex items-center relative"),c(K,"class","flex w-full justify-between"),c(De,"class","self-center text-xs font-medium"),c(ce,"class","p-1 px-3 text-xs flex rounded transition"),c(ce,"type","button"),c(ue,"class","py-0.5 flex w-full justify-between"),c(l,"class",""),c(re,"class","dark:border-gray-850 my-3"),c(Ce,"class","my-2.5 text-sm font-medium"),c(ke,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),c(ke,"rows","4"),c(le,"class","font-medium"),c(ye,"class","text-xs font-medium text-gray-500"),c(ye,"type","button"),c(Ze,"class","flex justify-between items-center text-sm"),c(Ie,"class","mt-2 space-y-3 pr-1.5"),c(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),c(it,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(st,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(Ee,Ae){P(Ee,e,Ae),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),n(l,f),n(f,d),n(d,p),n(f,m),n(f,b),n(b,w),n(w,y),n(y,E),n(y,T),n(w,V),n(V,I),n(V,C),n(w,L),n(L,Z),n(L,N),n(w,F),n(F,j),n(F,A),n(w,x),jt(w,s[1],!0),n(l,R),n(l,K),n(K,z),n(z,q),n(K,X),n(K,J),n(J,G);for(let Se=0;Se<Ge.length;Se+=1)Ge[Se]&&Ge[Se].m(G,null);jt(G,s[3],!0),n(l,ne),Xe&&Xe.m(l,null),n(l,fe),n(l,he),n(he,ue),n(ue,De),n(De,Q),n(ue,oe),n(ue,ce),dt.m(ce,null),n(t,te),n(t,re),n(t,de),n(t,ge),n(ge,Ce),n(Ce,be),n(ge,Pe),n(ge,ke),Ne(ke,s[5]),n(t,Re),n(t,Ie),n(Ie,Ze),n(Ze,le),n(le,Oe),n(Ze,je),n(Ze,ye),n(ye,ze),n(Ie,gt),We&&We.m(Ie,null),n(e,at),n(e,st),n(st,it),n(it,_t),et=!0,Je||(Vt=[ee(w,"change",s[18]),ee(w,"change",s[19]),ee(G,"change",s[20]),ee(G,"change",s[21]),ee(ce,"click",s[22]),ee(ke,"input",s[23]),ee(ye,"click",s[24]),ee(it,"click",s[29])],Je=!0)},p(Ee,Ae){if((!et||Ae[0]&1024)&&r!==(r=Ee[10].t("WebUI Settings")+"")&&$(o,r),(!et||Ae[0]&1024)&&g!==(g=Ee[10].t("Theme")+"")&&$(p,g),(!et||Ae[0]&1024)&&D!==(D=Ee[10].t("System")+"")&&$(T,D),(!et||Ae[0]&1024)&&k!==(k=Ee[10].t("Dark")+"")&&$(C,k),(!et||Ae[0]&1024)&&Y!==(Y=Ee[10].t("OLED Dark")+"")&&$(N,Y),(!et||Ae[0]&1024)&&B!==(B=Ee[10].t("Light")+"")&&$(A,B),Ae[0]&2&&jt(w,Ee[1]),(!et||Ae[0]&1024)&&W!==(W=Ee[10].t("Language")+"")&&$(q,W),Ae[0]&4){Dt=Qe(Ee[2]);let Se;for(Se=0;Se<Dt.length;Se+=1){const $e=La(Ee,Dt,Se);Ge[Se]?Ge[Se].p($e,Ae):(Ge[Se]=Ba($e),Ge[Se].c(),Ge[Se].m(G,null))}for(;Se<Ge.length;Se+=1)Ge[Se].d(1);Ge.length=Dt.length}Ae[0]&12&&jt(G,Ee[3]),Ee[10].language==="en-US"?Xe||(Xe=xa(),Xe.c(),Xe.m(l,fe)):Xe&&(Xe.d(1),Xe=null),(!et||Ae[0]&1024)&&Te!==(Te=Ee[10].t("Notifications")+"")&&$(Q,Te),Tt===(Tt=bt(Ee))&&dt?dt.p(Ee,Ae):(dt.d(1),dt=Tt(Ee),dt&&(dt.c(),dt.m(ce,null))),(!et||Ae[0]&1024)&&Me!==(Me=Ee[10].t("System Prompt")+"")&&$(be,Me),Ae[0]&32&&Ne(ke,Ee[5]),(!et||Ae[0]&1024)&&we!==(we=Ee[10].t("Advanced Parameters")+"")&&$(Oe,we),(!et||Ae[0]&1088)&&Ve!==(Ve=(Ee[6]?Ee[10].t("Hide"):Ee[10].t("Show"))+"")&&$(ze,Ve),Ee[6]?We?(We.p(Ee,Ae),Ae[0]&64&&se(We,1)):(We=Na(Ee),We.c(),se(We,1),We.m(Ie,null)):We&&(yt(),ae(We,1,1,()=>{We=null}),Et()),(!et||Ae[0]&1024)&&ut!==(ut=Ee[10].t("Save")+"")&&$(_t,ut)},i(Ee){et||(se(We),et=!0)},o(Ee){ae(We),et=!1},d(Ee){Ee&&u(e),Ut(Ge,Ee),Xe&&Xe.d(),dt.d(),We&&We.d(),Je=!1,ct(Vt)}}}function Wo(s,e,t){let l,a,r;Be(s,dl,W=>t(30,l=W)),Be(s,Bl,W=>t(11,r=W));const o=hl(),i=pt("i18n");Be(s,i,W=>t(10,a=W));let{saveSettings:f}=e,{getModels:d}=e,g=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],p="system",m=[],b=a.language,w=!1,y="",E=!1;const D=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),f({notificationEnabled:w})):Ye.error(a.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let T="",V=null,I={seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null};const k=async()=>{T===""?t(7,T="json"):t(7,T=""),f({requestFormat:T!==""?T:void 0})};Jt(async()=>{var W,q;t(1,p=localStorage.theme??"system"),t(2,m=await $n()),t(4,w=l.notificationEnabled??!1),t(5,y=l.system??""),t(7,T=l.requestFormat??""),t(8,V=l.keepAlive??null),t(9,I={...I,...l.params}),t(9,I.stop=(W=l==null?void 0:l.params)!=null&&W.stop?(((q=l==null?void 0:l.params)==null?void 0:q.stop)??[]).join(","):null,I)});const C=W=>{let q=W==="oled-dark"?"dark":W;W==="system"&&(q=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q==="dark"&&!W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),g.filter(X=>X!==q).forEach(X=>{X.split(" ").forEach(J=>{document.documentElement.classList.remove(J)})}),q.split(" ").forEach(X=>{document.documentElement.classList.add(X)}),console.log(W)},L=W=>{yn.set(W),localStorage.setItem("theme",W),W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),C(W)};function Z(){p=Tl(this),t(1,p)}const Y=()=>L(p);function N(){b=Tl(this),t(3,b),t(2,m)}const F=W=>{a.changeLanguage(b)},j=()=>{D()};function B(){y=this.value,t(5,y)}const A=()=>{t(6,E=!E)};function x(W){I=W,t(9,I)}const U=()=>{t(8,V=V===null?"5m":null)};function R(){V=this.value,t(8,V)}const K=()=>{k()},z=()=>{f({system:y!==""?y:void 0,params:{seed:(I.seed!==null?I.seed:void 0)??void 0,stop:I.stop?I.stop.split(",").filter(W=>W):void 0,temperature:I.temperature!==null?I.temperature:void 0,frequency_penalty:I.frequency_penalty!==null?I.frequency_penalty:void 0,repeat_last_n:I.repeat_last_n!==null?I.repeat_last_n:void 0,mirostat:I.mirostat!==null?I.mirostat:void 0,mirostat_eta:I.mirostat_eta!==null?I.mirostat_eta:void 0,mirostat_tau:I.mirostat_tau!==null?I.mirostat_tau:void 0,top_k:I.top_k!==null?I.top_k:void 0,top_p:I.top_p!==null?I.top_p:void 0,tfs_z:I.tfs_z!==null?I.tfs_z:void 0,num_ctx:I.num_ctx!==null?I.num_ctx:void 0,num_batch:I.num_batch!==null?I.num_batch:void 0,num_keep:I.num_keep!==null?I.num_keep:void 0,max_tokens:I.max_tokens!==null?I.max_tokens:void 0,use_mmap:I.use_mmap!==null?I.use_mmap:void 0,use_mlock:I.use_mlock!==null?I.use_mlock:void 0,num_thread:I.num_thread!==null?I.num_thread:void 0},keepAlive:V?isNaN(V)?V:parseInt(V):void 0}),o("save")};return s.$$set=W=>{"saveSettings"in W&&t(0,f=W.saveSettings),"getModels"in W&&t(17,d=W.getModels)},[f,p,m,b,w,y,E,T,V,I,a,r,o,i,D,k,L,d,Z,Y,N,F,j,B,A,x,U,R,K,z]}class Fo extends nt{constructor(e){super(),ot(this,e,Wo,Zo,rt,{saveSettings:0,getModels:17},null,[-1,-1])}}function Ha(s,e,t){const l=s.slice();return l[47]=e[t],l}function Ua(s){let e,t=s[47].name+"",l,a;return{c(){e=h("option"),l=O(t),this.h()},l(r){e=v(r,"OPTION",{class:!0});var o=_(e);l=H(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[47].id,Ne(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,o){P(r,e,o),n(e,l)},p(r,o){o[0]&131072&&t!==(t=r[47].name+"")&&$(l,t),o[0]&131072&&a!==(a=r[47].id)&&(e.__value=a,Ne(e,e.__value))},d(r){r&&u(e)}}}function Yo(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Ko(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function $a(s){let e,t,l,a=s[16].t("Display the username instead of You in the Chat")+"",r,o,i,f,d;function g(b,w){return b[10]===!0?Go:qo}let p=g(s),m=p(s);return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),m.c(),this.h()},l(b){e=v(b,"DIV",{});var w=_(e);t=v(w,"DIV",{class:!0});var y=_(t);l=v(y,"DIV",{class:!0});var E=_(l);r=H(E,a),E.forEach(u),o=M(y),i=v(y,"BUTTON",{class:!0,type:!0});var D=_(i);m.l(D),D.forEach(u),y.forEach(u),w.forEach(u),this.h()},h(){c(l,"class","self-center text-xs"),c(i,"class","p-1 px-3 text-xs flex rounded transition"),c(i,"type","button"),c(t,"class","py-0.5 flex w-full justify-between")},m(b,w){P(b,e,w),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),m.m(i,null),f||(d=ee(i,"click",s[36]),f=!0)},p(b,w){w[0]&65536&&a!==(a=b[16].t("Display the username instead of You in the Chat")+"")&&$(r,a),p===(p=g(b))&&m?m.p(b,w):(m.d(1),m=p(b),m&&(m.c(),m.m(i,null)))},d(b){b&&u(e),m.d(),f=!1,d()}}}function qo(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Go(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Xo(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Jo(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Qo(s){let e,t=s[16].t("RTL")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("RTL")+"")&&$(l,t)},d(a){a&&u(e)}}}function ei(s){let e,t=s[16].t("LTR")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("LTR")+"")&&$(l,t)},d(a){a&&u(e)}}}function ti(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function li(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function si(s){let e,t=s[16].t("Upload")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Upload")+"")&&$(l,t)},d(a){a&&u(e)}}}function ai(s){let e,t=s[16].t("Reset")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Reset")+"")&&$(l,t)},d(a){a&&u(e)}}}function ri(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function ni(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function oi(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function ii(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function ci(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function ui(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function fi(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function di(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function hi(s){let e,t=s[16].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function vi(s){let e,t=s[16].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[16].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function _i(s){let e,t,l,a,r,o,i,f,d=s[16].t("Default Model")+"",g,p,m,b,w,y=s[16].t("Select a model")+"",E,D,T,V,I,k,C=s[16].t("UI")+"",L,Z,Y,N,F,j=s[16].t("Chat Bubble UI")+"",B,A,x,U,R,K,z,W,q=s[16].t("Widescreen Mode")+"",X,J,G,ne,fe,he,ue,De=s[16].t("Chat direction")+"",Te,Q,oe,ce,te,re,de,ge=s[16].t("Fluidly stream large external response chunks")+"",Ce,Me,be,Pe,ke,Re,Ie,Ze=s[16].t("Chat Background Image")+"",le,we,Oe,je,ye,Ve=s[16].t("Chat")+"",ze,gt,at,st,it,ut=s[16].t("Title Auto-Generation")+"",_t,et,Je,Vt,Dt,Ge,Xe,bt=s[16].t("Response AutoCopy to Clipboard")+"",Tt,dt,We,Ee,Ae,Se,$e,xt=s[16].t("Allow User Location")+"",Gt,ht,Nt,wt,zt,Le=s[16].t("Voice")+"",Fe,Mt,Rt,At,tt,Zt=s[16].t("Allow Voice Interruption in Call")+"",vl,Wt,Ot,Qt,Ft,$t,Lt,Yt=s[16].t("Display Emoji in Call")+"",Xt,gl,Ct,bl,Ht,_l,ml=s[16].t("Save")+"",yl,Sl,Ds,Ml=Qe(s[17].filter(Pa)),St=[];for(let ie=0;ie<Ml.length;ie+=1)St[ie]=Ua(Ha(s,Ml,ie));function Vs(ie,xe){return ie[11]===!0?Ko:Yo}let Ul=Vs(s),el=Ul(s),Bt=!s[15].chatBubble&&$a(s);function Ts(ie,xe){return ie[6]===!0?Jo:Xo}let $l=Ts(s),tl=$l(s);function Cs(ie,xe){return ie[12]==="LTR"?ei:Qo}let Pl=Cs(s),ll=Pl(s);function Ss(ie,xe){return ie[7]===!0?li:ti}let jl=Ss(s),sl=jl(s);function Ms(ie,xe){return ie[1]!==null?ai:si}let zl=Ms(s),al=zl(s);function As(ie,xe){return ie[4]===!0?ni:ri}let Rl=As(s),rl=Rl(s);function Ls(ie,xe){return ie[5]===!0?ii:oi}let Zl=Ls(s),nl=Zl(s);function Bs(ie,xe){return ie[8]===!0?ui:ci}let Wl=Bs(s),ol=Wl(s);function xs(ie,xe){return ie[14]===!0?di:fi}let Fl=xs(s),il=Fl(s);function Ns(ie,xe){return ie[13]===!0?vi:hi}let Yl=Ns(s),cl=Yl(s);return{c(){e=h("form"),t=h("input"),l=S(),a=h("div"),r=h("div"),o=h("div"),i=h("div"),f=h("div"),g=O(d),p=S(),m=h("div"),b=h("select"),w=h("option"),E=O(y);for(let ie=0;ie<St.length;ie+=1)St[ie].c();D=S(),T=h("hr"),V=S(),I=h("div"),k=h("div"),L=O(C),Z=S(),Y=h("div"),N=h("div"),F=h("div"),B=O(j),A=S(),x=h("button"),el.c(),U=S(),Bt&&Bt.c(),R=S(),K=h("div"),z=h("div"),W=h("div"),X=O(q),J=S(),G=h("button"),tl.c(),ne=S(),fe=h("div"),he=h("div"),ue=h("div"),Te=O(De),Q=S(),oe=h("button"),ll.c(),ce=S(),te=h("div"),re=h("div"),de=h("div"),Ce=O(ge),Me=S(),be=h("button"),sl.c(),Pe=S(),ke=h("div"),Re=h("div"),Ie=h("div"),le=O(Ze),we=S(),Oe=h("button"),al.c(),je=S(),ye=h("div"),ze=O(Ve),gt=S(),at=h("div"),st=h("div"),it=h("div"),_t=O(ut),et=S(),Je=h("button"),rl.c(),Vt=S(),Dt=h("div"),Ge=h("div"),Xe=h("div"),Tt=O(bt),dt=S(),We=h("button"),nl.c(),Ee=S(),Ae=h("div"),Se=h("div"),$e=h("div"),Gt=O(xt),ht=S(),Nt=h("button"),ol.c(),wt=S(),zt=h("div"),Fe=O(Le),Mt=S(),Rt=h("div"),At=h("div"),tt=h("div"),vl=O(Zt),Wt=S(),Ot=h("button"),il.c(),Qt=S(),Ft=h("div"),$t=h("div"),Lt=h("div"),Xt=O(Yt),gl=S(),Ct=h("button"),cl.c(),bl=S(),Ht=h("div"),_l=h("button"),yl=O(ml),this.h()},l(ie){e=v(ie,"FORM",{class:!0});var xe=_(e);t=v(xe,"INPUT",{type:!0,accept:!0}),l=M(xe),a=v(xe,"DIV",{class:!0});var ft=_(a);r=v(ft,"DIV",{class:!0});var El=_(r);o=v(El,"DIV",{class:!0});var Os=_(o);i=v(Os,"DIV",{class:!0});var Hs=_(i);f=v(Hs,"DIV",{class:!0});var Us=_(f);g=H(Us,d),Us.forEach(u),Hs.forEach(u),Os.forEach(u),p=M(El),m=v(El,"DIV",{class:!0});var $s=_(m);b=v($s,"SELECT",{class:!0,placeholder:!0});var us=_(b);w=v(us,"OPTION",{});var Ps=_(w);E=H(Ps,y),Ps.forEach(u);for(let fs=0;fs<St.length;fs+=1)St[fs].l(us);us.forEach(u),$s.forEach(u),El.forEach(u),D=M(ft),T=v(ft,"HR",{class:!0}),V=M(ft),I=v(ft,"DIV",{});var lt=_(I);k=v(lt,"DIV",{class:!0});var js=_(k);L=H(js,C),js.forEach(u),Z=M(lt),Y=v(lt,"DIV",{});var zs=_(Y);N=v(zs,"DIV",{class:!0});var Kl=_(N);F=v(Kl,"DIV",{class:!0});var Rs=_(F);B=H(Rs,j),Rs.forEach(u),A=M(Kl),x=v(Kl,"BUTTON",{class:!0,type:!0});var Zs=_(x);el.l(Zs),Zs.forEach(u),Kl.forEach(u),zs.forEach(u),U=M(lt),Bt&&Bt.l(lt),R=M(lt),K=v(lt,"DIV",{});var Ws=_(K);z=v(Ws,"DIV",{class:!0});var ql=_(z);W=v(ql,"DIV",{class:!0});var Fs=_(W);X=H(Fs,q),Fs.forEach(u),J=M(ql),G=v(ql,"BUTTON",{class:!0,type:!0});var Ys=_(G);tl.l(Ys),Ys.forEach(u),ql.forEach(u),Ws.forEach(u),ne=M(lt),fe=v(lt,"DIV",{});var Ks=_(fe);he=v(Ks,"DIV",{class:!0});var Gl=_(he);ue=v(Gl,"DIV",{class:!0});var qs=_(ue);Te=H(qs,De),qs.forEach(u),Q=M(Gl),oe=v(Gl,"BUTTON",{class:!0,type:!0});var Gs=_(oe);ll.l(Gs),Gs.forEach(u),Gl.forEach(u),Ks.forEach(u),ce=M(lt),te=v(lt,"DIV",{});var Xs=_(te);re=v(Xs,"DIV",{class:!0});var Xl=_(re);de=v(Xl,"DIV",{class:!0});var Js=_(de);Ce=H(Js,ge),Js.forEach(u),Me=M(Xl),be=v(Xl,"BUTTON",{class:!0,type:!0});var Qs=_(be);sl.l(Qs),Qs.forEach(u),Xl.forEach(u),Xs.forEach(u),Pe=M(lt),ke=v(lt,"DIV",{});var ea=_(ke);Re=v(ea,"DIV",{class:!0});var Jl=_(Re);Ie=v(Jl,"DIV",{class:!0});var ta=_(Ie);le=H(ta,Ze),ta.forEach(u),we=M(Jl),Oe=v(Jl,"BUTTON",{class:!0,type:!0});var la=_(Oe);al.l(la),la.forEach(u),Jl.forEach(u),ea.forEach(u),je=M(lt),ye=v(lt,"DIV",{class:!0});var sa=_(ye);ze=H(sa,Ve),sa.forEach(u),gt=M(lt),at=v(lt,"DIV",{});var aa=_(at);st=v(aa,"DIV",{class:!0});var Ql=_(st);it=v(Ql,"DIV",{class:!0});var ra=_(it);_t=H(ra,ut),ra.forEach(u),et=M(Ql),Je=v(Ql,"BUTTON",{class:!0,type:!0});var na=_(Je);rl.l(na),na.forEach(u),Ql.forEach(u),aa.forEach(u),Vt=M(lt),Dt=v(lt,"DIV",{});var oa=_(Dt);Ge=v(oa,"DIV",{class:!0});var es=_(Ge);Xe=v(es,"DIV",{class:!0});var ia=_(Xe);Tt=H(ia,bt),ia.forEach(u),dt=M(es),We=v(es,"BUTTON",{class:!0,type:!0});var ca=_(We);nl.l(ca),ca.forEach(u),es.forEach(u),oa.forEach(u),Ee=M(lt),Ae=v(lt,"DIV",{});var ua=_(Ae);Se=v(ua,"DIV",{class:!0});var ts=_(Se);$e=v(ts,"DIV",{class:!0});var fa=_($e);Gt=H(fa,xt),fa.forEach(u),ht=M(ts),Nt=v(ts,"BUTTON",{class:!0,type:!0});var da=_(Nt);ol.l(da),da.forEach(u),ts.forEach(u),ua.forEach(u),wt=M(lt),zt=v(lt,"DIV",{class:!0});var ha=_(zt);Fe=H(ha,Le),ha.forEach(u),Mt=M(lt),Rt=v(lt,"DIV",{});var va=_(Rt);At=v(va,"DIV",{class:!0});var ls=_(At);tt=v(ls,"DIV",{class:!0});var _a=_(tt);vl=H(_a,Zt),_a.forEach(u),Wt=M(ls),Ot=v(ls,"BUTTON",{class:!0,type:!0});var ma=_(Ot);il.l(ma),ma.forEach(u),ls.forEach(u),va.forEach(u),Qt=M(lt),Ft=v(lt,"DIV",{});var pa=_(Ft);$t=v(pa,"DIV",{class:!0});var ss=_($t);Lt=v(ss,"DIV",{class:!0});var ga=_(Lt);Xt=H(ga,Yt),ga.forEach(u),gl=M(ss),Ct=v(ss,"BUTTON",{class:!0,type:!0});var ba=_(Ct);cl.l(ba),ba.forEach(u),ss.forEach(u),pa.forEach(u),lt.forEach(u),ft.forEach(u),bl=M(xe),Ht=v(xe,"DIV",{class:!0});var wa=_(Ht);_l=v(wa,"BUTTON",{class:!0,type:!0});var ka=_(_l);yl=H(ka,ml),ka.forEach(u),wa.forEach(u),xe.forEach(u),this.h()},h(){c(t,"type","file"),t.hidden=!0,c(t,"accept","image/*"),c(f,"class","text-sm font-medium"),c(i,"class","flex justify-between items-center text-xs"),c(o,"class","mb-2"),w.__value="",Ne(w,w.__value),w.disabled=!0,w.selected=!0,c(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(b,"placeholder","Select a model"),s[9]===void 0&&Vl(()=>s[34].call(b)),c(m,"class","flex-1 mr-2"),c(r,"class","space-y-1 mb-3"),c(T,"class","dark:border-gray-850"),c(k,"class","mb-1.5 text-sm font-medium"),c(F,"class","self-center text-xs"),c(x,"class","p-1 px-3 text-xs flex rounded transition"),c(x,"type","button"),c(N,"class","py-0.5 flex w-full justify-between"),c(W,"class","self-center text-xs"),c(G,"class","p-1 px-3 text-xs flex rounded transition"),c(G,"type","button"),c(z,"class","py-0.5 flex w-full justify-between"),c(ue,"class","self-center text-xs"),c(oe,"class","p-1 px-3 text-xs flex rounded transition"),c(oe,"type","button"),c(he,"class","py-0.5 flex w-full justify-between"),c(de,"class","self-center text-xs"),c(be,"class","p-1 px-3 text-xs flex rounded transition"),c(be,"type","button"),c(re,"class","py-0.5 flex w-full justify-between"),c(Ie,"class","self-center text-xs"),c(Oe,"class","p-1 px-3 text-xs flex rounded transition"),c(Oe,"type","button"),c(Re,"class","py-0.5 flex w-full justify-between"),c(ye,"class","my-1.5 text-sm font-medium"),c(it,"class","self-center text-xs"),c(Je,"class","p-1 px-3 text-xs flex rounded transition"),c(Je,"type","button"),c(st,"class","py-0.5 flex w-full justify-between"),c(Xe,"class","self-center text-xs"),c(We,"class","p-1 px-3 text-xs flex rounded transition"),c(We,"type","button"),c(Ge,"class","py-0.5 flex w-full justify-between"),c($e,"class","self-center text-xs"),c(Nt,"class","p-1 px-3 text-xs flex rounded transition"),c(Nt,"type","button"),c(Se,"class","py-0.5 flex w-full justify-between"),c(zt,"class","my-1.5 text-sm font-medium"),c(tt,"class","self-center text-xs"),c(Ot,"class","p-1 px-3 text-xs flex rounded transition"),c(Ot,"type","button"),c(At,"class","py-0.5 flex w-full justify-between"),c(Lt,"class","self-center text-xs"),c(Ct,"class","p-1 px-3 text-xs flex rounded transition"),c(Ct,"type","button"),c($t,"class","py-0.5 flex w-full justify-between"),c(a,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem] scrollbar-hidden"),c(_l,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(_l,"type","submit"),c(Ht,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,xe){P(ie,e,xe),n(e,t),s[31](t),n(e,l),n(e,a),n(a,r),n(r,o),n(o,i),n(i,f),n(f,g),n(r,p),n(r,m),n(m,b),n(b,w),n(w,E);for(let ft=0;ft<St.length;ft+=1)St[ft]&&St[ft].m(b,null);jt(b,s[9],!0),n(a,D),n(a,T),n(a,V),n(a,I),n(I,k),n(k,L),n(I,Z),n(I,Y),n(Y,N),n(N,F),n(F,B),n(N,A),n(N,x),el.m(x,null),n(I,U),Bt&&Bt.m(I,null),n(I,R),n(I,K),n(K,z),n(z,W),n(W,X),n(z,J),n(z,G),tl.m(G,null),n(I,ne),n(I,fe),n(fe,he),n(he,ue),n(ue,Te),n(he,Q),n(he,oe),ll.m(oe,null),n(I,ce),n(I,te),n(te,re),n(re,de),n(de,Ce),n(re,Me),n(re,be),sl.m(be,null),n(I,Pe),n(I,ke),n(ke,Re),n(Re,Ie),n(Ie,le),n(Re,we),n(Re,Oe),al.m(Oe,null),n(I,je),n(I,ye),n(ye,ze),n(I,gt),n(I,at),n(at,st),n(st,it),n(it,_t),n(st,et),n(st,Je),rl.m(Je,null),n(I,Vt),n(I,Dt),n(Dt,Ge),n(Ge,Xe),n(Xe,Tt),n(Ge,dt),n(Ge,We),nl.m(We,null),n(I,Ee),n(I,Ae),n(Ae,Se),n(Se,$e),n($e,Gt),n(Se,ht),n(Se,Nt),ol.m(Nt,null),n(I,wt),n(I,zt),n(zt,Fe),n(I,Mt),n(I,Rt),n(Rt,At),n(At,tt),n(tt,vl),n(At,Wt),n(At,Ot),il.m(Ot,null),n(I,Qt),n(I,Ft),n(Ft,$t),n($t,Lt),n(Lt,Xt),n($t,gl),n($t,Ct),cl.m(Ct,null),n(e,bl),n(e,Ht),n(Ht,_l),n(_l,yl),Sl||(Ds=[ee(t,"change",s[32]),ee(t,"change",s[33]),ee(b,"change",s[34]),ee(x,"click",s[35]),ee(G,"click",s[37]),ee(oe,"click",s[29]),ee(be,"click",s[38]),ee(Oe,"click",s[39]),ee(Je,"click",s[40]),ee(We,"click",s[41]),ee(Nt,"click",s[42]),ee(Ot,"click",s[43]),ee(Ct,"click",s[44]),ee(e,"submit",Cl(s[45]))],Sl=!0)},p(ie,xe){if(xe[0]&65536&&d!==(d=ie[16].t("Default Model")+"")&&$(g,d),xe[0]&65536&&y!==(y=ie[16].t("Select a model")+"")&&$(E,y),xe[0]&131072){Ml=Qe(ie[17].filter(Pa));let ft;for(ft=0;ft<Ml.length;ft+=1){const El=Ha(ie,Ml,ft);St[ft]?St[ft].p(El,xe):(St[ft]=Ua(El),St[ft].c(),St[ft].m(b,null))}for(;ft<St.length;ft+=1)St[ft].d(1);St.length=Ml.length}xe[0]&131584&&jt(b,ie[9]),xe[0]&65536&&C!==(C=ie[16].t("UI")+"")&&$(L,C),xe[0]&65536&&j!==(j=ie[16].t("Chat Bubble UI")+"")&&$(B,j),Ul===(Ul=Vs(ie))&&el?el.p(ie,xe):(el.d(1),el=Ul(ie),el&&(el.c(),el.m(x,null))),ie[15].chatBubble?Bt&&(Bt.d(1),Bt=null):Bt?Bt.p(ie,xe):(Bt=$a(ie),Bt.c(),Bt.m(I,R)),xe[0]&65536&&q!==(q=ie[16].t("Widescreen Mode")+"")&&$(X,q),$l===($l=Ts(ie))&&tl?tl.p(ie,xe):(tl.d(1),tl=$l(ie),tl&&(tl.c(),tl.m(G,null))),xe[0]&65536&&De!==(De=ie[16].t("Chat direction")+"")&&$(Te,De),Pl===(Pl=Cs(ie))&&ll?ll.p(ie,xe):(ll.d(1),ll=Pl(ie),ll&&(ll.c(),ll.m(oe,null))),xe[0]&65536&&ge!==(ge=ie[16].t("Fluidly stream large external response chunks")+"")&&$(Ce,ge),jl===(jl=Ss(ie))&&sl?sl.p(ie,xe):(sl.d(1),sl=jl(ie),sl&&(sl.c(),sl.m(be,null))),xe[0]&65536&&Ze!==(Ze=ie[16].t("Chat Background Image")+"")&&$(le,Ze),zl===(zl=Ms(ie))&&al?al.p(ie,xe):(al.d(1),al=zl(ie),al&&(al.c(),al.m(Oe,null))),xe[0]&65536&&Ve!==(Ve=ie[16].t("Chat")+"")&&$(ze,Ve),xe[0]&65536&&ut!==(ut=ie[16].t("Title Auto-Generation")+"")&&$(_t,ut),Rl===(Rl=As(ie))&&rl?rl.p(ie,xe):(rl.d(1),rl=Rl(ie),rl&&(rl.c(),rl.m(Je,null))),xe[0]&65536&&bt!==(bt=ie[16].t("Response AutoCopy to Clipboard")+"")&&$(Tt,bt),Zl===(Zl=Ls(ie))&&nl?nl.p(ie,xe):(nl.d(1),nl=Zl(ie),nl&&(nl.c(),nl.m(We,null))),xe[0]&65536&&xt!==(xt=ie[16].t("Allow User Location")+"")&&$(Gt,xt),Wl===(Wl=Bs(ie))&&ol?ol.p(ie,xe):(ol.d(1),ol=Wl(ie),ol&&(ol.c(),ol.m(Nt,null))),xe[0]&65536&&Le!==(Le=ie[16].t("Voice")+"")&&$(Fe,Le),xe[0]&65536&&Zt!==(Zt=ie[16].t("Allow Voice Interruption in Call")+"")&&$(vl,Zt),Fl===(Fl=xs(ie))&&il?il.p(ie,xe):(il.d(1),il=Fl(ie),il&&(il.c(),il.m(Ot,null))),xe[0]&65536&&Yt!==(Yt=ie[16].t("Display Emoji in Call")+"")&&$(Xt,Yt),Yl===(Yl=Ns(ie))&&cl?cl.p(ie,xe):(cl.d(1),cl=Yl(ie),cl&&(cl.c(),cl.m(Ct,null))),xe[0]&65536&&ml!==(ml=ie[16].t("Save")+"")&&$(yl,ml)},i:Ue,o:Ue,d(ie){ie&&u(e),s[31](null),Ut(St,ie),el.d(),Bt&&Bt.d(),tl.d(),ll.d(),sl.d(),al.d(),rl.d(),nl.d(),ol.d(),il.d(),cl.d(),Sl=!1,ct(Ds)}}}const Pa=s=>s.id;function mi(s,e,t){let l,a,r,o;Be(s,dl,te=>t(15,l=te)),Be(s,cs,te=>t(46,a=te)),Be(s,Es,te=>t(17,o=te));const i=hl(),f=pt("i18n");Be(s,f,te=>t(16,r=te));let{saveSettings:d}=e,g=null,p=null,m,b=!0,w=!1,y=!1,E=!1,D=!1,T="",V=!1,I=!0,k="LTR",C=!1,L=!1;const Z=async()=>{t(7,E=!E),d({splitLargeChunks:E})},Y=async()=>{t(6,y=!y),d({widescreenMode:y})},N=async()=>{t(11,I=!I),d({chatBubble:I})},F=async()=>{t(10,V=!V),d({showUsername:V})},j=async()=>{t(13,C=!C),d({showEmojiInCall:C})},B=async()=>{t(14,L=!L),d({voiceInterruption:L})},A=async()=>{if(t(8,D=!D),D){const te=await Nn().catch(re=>(Ye.error(re.message),null));te?(await tn(localStorage.token,{location:te}),Ye.success(r.t("User location successfully retrieved."))):t(8,D=!1)}d({userLocation:D})},x=async()=>{t(4,b=!b),d({title:{...l.title,auto:b}})},U=async()=>{const te=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(te),te==="granted"?(t(5,w=!w),d({responseAutoCopy:w})):Ye.error(r.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},R=async()=>{t(12,k=k==="LTR"?"RTL":"LTR"),d({chatDirection:k})},K=async()=>{d({models:[T]})};Jt(async()=>{var te,re;t(4,b=((te=l==null?void 0:l.title)==null?void 0:te.auto)??!0),t(5,w=l.responseAutoCopy??!1),t(10,V=l.showUsername??!1),t(13,C=l.showEmojiInCall??!1),t(14,L=l.voiceInterruption??!1),t(11,I=l.chatBubble??!0),t(6,y=l.widescreenMode??!1),t(7,E=l.splitLargeChunks??!1),t(12,k=l.chatDirection??"LTR"),t(8,D=l.userLocation??!1),t(9,T=((re=l==null?void 0:l.models)==null?void 0:re.at(0))??""),a!=null&&a.default_models&&t(9,T=a.default_models.split(",")[0]),t(1,g=l.backgroundImageUrl??null)});function z(te){vt[te?"unshift":"push"](()=>{m=te,t(3,m)})}function W(){p=this.files,t(2,p)}const q=()=>{let te=new FileReader;te.onload=re=>{let de=`${re.target.result}`;t(1,g=de),d({backgroundImageUrl:g})},p&&p.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(p[0].type)?te.readAsDataURL(p[0]):(console.log(`Unsupported File Type '${p[0].type}'.`),t(2,p=null))};function X(){T=Tl(this),t(9,T)}const J=()=>{N()},G=()=>{F()},ne=()=>{Y()},fe=()=>{Z()},he=()=>{g!==null?(t(1,g=null),d({backgroundImageUrl:g})):m.click()},ue=()=>{x()},De=()=>{U()},Te=()=>{A()},Q=()=>{B()},oe=()=>{j()},ce=()=>{K(),i("save")};return s.$$set=te=>{"saveSettings"in te&&t(0,d=te.saveSettings)},[d,g,p,m,b,w,y,E,D,T,V,I,k,C,L,l,r,o,i,f,Z,Y,N,F,j,B,A,x,U,R,K,z,W,q,X,J,G,ne,fe,he,ue,De,Te,Q,oe,ce]}class pi extends nt{constructor(e){super(),ot(this,e,mi,_i,rt,{saveSettings:0},null,[-1,-1])}}function ja(s,e,t){const l=s.slice();return l[8]=e[t],l}function za(s,e,t){const l=s.slice();return l[25]=e[t],l}function Ra(s){let e,t,l=s[7].t("Speech-to-Text Engine")+"",a,r,o,i,f,d=s[7].t("Default")+"",g,p,m=s[7].t("Web API")+"",b,w,y;return{c(){e=h("div"),t=h("div"),a=O(l),r=S(),o=h("div"),i=h("select"),f=h("option"),g=O(d),p=h("option"),b=O(m),this.h()},l(E){e=v(E,"DIV",{class:!0});var D=_(e);t=v(D,"DIV",{class:!0});var T=_(t);a=H(T,l),T.forEach(u),r=M(D),o=v(D,"DIV",{class:!0});var V=_(o);i=v(V,"SELECT",{class:!0,placeholder:!0});var I=_(i);f=v(I,"OPTION",{});var k=_(f);g=H(k,d),k.forEach(u),p=v(I,"OPTION",{});var C=_(p);b=H(C,m),C.forEach(u),I.forEach(u),V.forEach(u),D.forEach(u),this.h()},h(){c(t,"class","self-center text-xs font-medium"),f.__value="",Ne(f,f.__value),p.__value="web",Ne(p,p.__value),c(i,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),c(i,"placeholder","Select an engine"),s[4]===void 0&&Vl(()=>s[13].call(i)),c(o,"class","flex items-center relative"),c(e,"class","py-0.5 flex w-full justify-between")},m(E,D){P(E,e,D),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,g),n(i,p),n(p,b),jt(i,s[4],!0),w||(y=ee(i,"change",s[13]),w=!0)},p(E,D){D&128&&l!==(l=E[7].t("Speech-to-Text Engine")+"")&&$(a,l),D&128&&d!==(d=E[7].t("Default")+"")&&$(g,d),D&128&&m!==(m=E[7].t("Web API")+"")&&$(b,m),D&16&&jt(i,E[4])},d(E){E&&u(e),w=!1,y()}}}function gi(s){let e,t=s[7].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function bi(s){let e,t=s[7].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function wi(s){let e,t=s[7].t("Off")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function ki(s){let e,t=s[7].t("On")+"",l;return{c(){e=h("span"),l=O(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function yi(s){let e,t,l=s[7].t("Set Voice")+"",a,r,o,i,f,d,g,p,m,b=Qe(s[5]),w=[];for(let y=0;y<b.length;y+=1)w[y]=Za(ja(s,b,y));return{c(){e=h("div"),t=h("div"),a=O(l),r=S(),o=h("div"),i=h("div"),f=h("input"),d=S(),g=h("datalist");for(let y=0;y<w.length;y+=1)w[y].c();this.h()},l(y){e=v(y,"DIV",{});var E=_(e);t=v(E,"DIV",{class:!0});var D=_(t);a=H(D,l),D.forEach(u),r=M(E),o=v(E,"DIV",{class:!0});var T=_(o);i=v(T,"DIV",{class:!0});var V=_(i);f=v(V,"INPUT",{list:!0,class:!0,placeholder:!0}),d=M(V),g=v(V,"DATALIST",{id:!0});var I=_(g);for(let k=0;k<w.length;k+=1)w[k].l(I);I.forEach(u),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),c(f,"list","voice-list"),c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(f,"placeholder","Select a voice"),c(g,"id","voice-list"),c(i,"class","flex-1"),c(o,"class","flex w-full")},m(y,E){P(y,e,E),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),Ne(f,s[8]),n(i,d),n(i,g);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(g,null);p||(m=ee(f,"input",s[19]),p=!0)},p(y,E){if(E&128&&l!==(l=y[7].t("Set Voice")+"")&&$(a,l),E&296&&f.value!==y[8]&&Ne(f,y[8]),E&32){b=Qe(y[5]);let D;for(D=0;D<b.length;D+=1){const T=ja(y,b,D);w[D]?w[D].p(T,E):(w[D]=Za(T),w[D].c(),w[D].m(g,null))}for(;D<w.length;D+=1)w[D].d(1);w.length=b.length}},i:Ue,o:Ue,d(y){y&&u(e),Ut(w,y),p=!1,m()}}}function Ei(s){let e,t,l=s[7].t("Set Voice")+"",a,r,o,i,f,d,g=s[7].t("Default")+"",p,m,b,w,y,E=s[7].t("Allow non-local voices")+"",D,T,V,I,k,C,L,Z,Y=Qe(s[5].filter(s[16])),N=[];for(let B=0;B<Y.length;B+=1)N[B]=Wa(za(s,Y,B));function F(B){s[18](B)}let j={};return s[3]!==void 0&&(j.state=s[3]),I=new Fr({props:j}),vt.push(()=>It(I,"state",F)),{c(){e=h("div"),t=h("div"),a=O(l),r=S(),o=h("div"),i=h("div"),f=h("select"),d=h("option"),p=O(g);for(let B=0;B<N.length;B+=1)N[B].c();b=S(),w=h("div"),y=h("div"),D=O(E),T=S(),V=h("div"),ve(I.$$.fragment),this.h()},l(B){e=v(B,"DIV",{});var A=_(e);t=v(A,"DIV",{class:!0});var x=_(t);a=H(x,l),x.forEach(u),r=M(A),o=v(A,"DIV",{class:!0});var U=_(o);i=v(U,"DIV",{class:!0});var R=_(i);f=v(R,"SELECT",{class:!0});var K=_(f);d=v(K,"OPTION",{});var z=_(d);p=H(z,g),z.forEach(u);for(let J=0;J<N.length;J+=1)N[J].l(K);K.forEach(u),R.forEach(u),U.forEach(u),b=M(A),w=v(A,"DIV",{class:!0});var W=_(w);y=v(W,"DIV",{class:!0});var q=_(y);D=H(q,E),q.forEach(u),T=M(W),V=v(W,"DIV",{class:!0});var X=_(V);_e(I.$$.fragment,X),X.forEach(u),W.forEach(u),A.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),d.__value="",Ne(d,d.__value),d.selected=m=s[8]!=="",c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[8]===void 0&&Vl(()=>s[17].call(f)),c(i,"class","flex-1"),c(o,"class","flex w-full"),c(y,"class","text-xs"),c(V,"class","mt-1"),c(w,"class","flex items-center justify-between my-1.5")},m(B,A){P(B,e,A),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,d),n(d,p);for(let x=0;x<N.length;x+=1)N[x]&&N[x].m(f,null);jt(f,s[8],!0),n(e,b),n(e,w),n(w,y),n(y,D),n(w,T),n(w,V),me(I,V,null),C=!0,L||(Z=ee(f,"change",s[17]),L=!0)},p(B,A){if((!C||A&128)&&l!==(l=B[7].t("Set Voice")+"")&&$(a,l),(!C||A&128)&&g!==(g=B[7].t("Default")+"")&&$(p,g),(!C||A&296&&m!==(m=B[8]!==""))&&(d.selected=m),A&296){Y=Qe(B[5].filter(B[16]));let U;for(U=0;U<Y.length;U+=1){const R=za(B,Y,U);N[U]?N[U].p(R,A):(N[U]=Wa(R),N[U].c(),N[U].m(f,null))}for(;U<N.length;U+=1)N[U].d(1);N.length=Y.length}A&296&&jt(f,B[8]),(!C||A&128)&&E!==(E=B[7].t("Allow non-local voices")+"")&&$(D,E);const x={};!k&&A&8&&(k=!0,x.state=B[3],kt(()=>k=!1)),I.$set(x)},i(B){C||(se(I.$$.fragment,B),C=!0)},o(B){ae(I.$$.fragment,B),C=!1},d(B){B&&u(e),Ut(N,B),pe(I),L=!1,Z()}}}function Za(s){let e,t;return{c(){e=h("option"),this.h()},l(l){e=v(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[8].name,Ne(e,e.__value)},m(l,a){P(l,e,a)},p(l,a){a&32&&t!==(t=l[8].name)&&(e.__value=t,Ne(e,e.__value))},d(l){l&&u(e)}}}function Wa(s){let e,t=s[25].name+"",l,a,r;return{c(){e=h("option"),l=O(t),this.h()},l(o){e=v(o,"OPTION",{class:!0});var i=_(e);l=H(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[25].name,Ne(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=s[8]===s[25].name},m(o,i){P(o,e,i),n(e,l)},p(o,i){i&40&&t!==(t=o[25].name+"")&&$(l,t),i&40&&a!==(a=o[25].name)&&(e.__value=a,Ne(e,e.__value)),i&296&&r!==(r=o[8]===o[25].name)&&(e.selected=r)},d(o){o&&u(e)}}}function Ii(s){let e,t,l,a,r=s[7].t("STT Settings")+"",o,i,f,d,g,p=s[7].t("Instant Auto-Send After Voice Transcription")+"",m,b,w,y,E,D,T=s[7].t("TTS Settings")+"",V,I,k,C,L=s[7].t("Auto-playback response")+"",Z,Y,N,F,j,B,A,x,U,R,K,z=s[7].t("Save")+"",W,q,X,J,G=s[6].audio.stt.engine!=="web"&&Ra(s);function ne(te,re){return te[1]===!0?bi:gi}let fe=ne(s),he=fe(s);function ue(te,re){return te[2]===!0?ki:wi}let De=ue(s),Te=De(s);const Q=[Ei,yi],oe=[];function ce(te,re){return te[6].audio.tts.engine===""?0:te[6].audio.tts.engine==="openai"?1:-1}return~(A=ce(s))&&(x=oe[A]=Q[A](s)),{c(){e=h("form"),t=h("div"),l=h("div"),a=h("div"),o=O(r),i=S(),G&&G.c(),f=S(),d=h("div"),g=h("div"),m=O(p),b=S(),w=h("button"),he.c(),y=S(),E=h("div"),D=h("div"),V=O(T),I=S(),k=h("div"),C=h("div"),Z=O(L),Y=S(),N=h("button"),Te.c(),F=S(),j=h("hr"),B=S(),x&&x.c(),U=S(),R=h("div"),K=h("button"),W=O(z),this.h()},l(te){e=v(te,"FORM",{class:!0});var re=_(e);t=v(re,"DIV",{class:!0});var de=_(t);l=v(de,"DIV",{});var ge=_(l);a=v(ge,"DIV",{class:!0});var Ce=_(a);o=H(Ce,r),Ce.forEach(u),i=M(ge),G&&G.l(ge),f=M(ge),d=v(ge,"DIV",{class:!0});var Me=_(d);g=v(Me,"DIV",{class:!0});var be=_(g);m=H(be,p),be.forEach(u),b=M(Me),w=v(Me,"BUTTON",{class:!0,type:!0});var Pe=_(w);he.l(Pe),Pe.forEach(u),Me.forEach(u),ge.forEach(u),y=M(de),E=v(de,"DIV",{});var ke=_(E);D=v(ke,"DIV",{class:!0});var Re=_(D);V=H(Re,T),Re.forEach(u),I=M(ke),k=v(ke,"DIV",{class:!0});var Ie=_(k);C=v(Ie,"DIV",{class:!0});var Ze=_(C);Z=H(Ze,L),Ze.forEach(u),Y=M(Ie),N=v(Ie,"BUTTON",{class:!0,type:!0});var le=_(N);Te.l(le),le.forEach(u),Ie.forEach(u),ke.forEach(u),F=M(de),j=v(de,"HR",{class:!0}),B=M(de),x&&x.l(de),de.forEach(u),U=M(re),R=v(re,"DIV",{class:!0});var we=_(R);K=v(we,"BUTTON",{class:!0,type:!0});var Oe=_(K);W=H(Oe,z),Oe.forEach(u),we.forEach(u),re.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(g,"class","self-center text-xs font-medium"),c(w,"class","p-1 px-3 text-xs flex rounded transition"),c(w,"type","button"),c(d,"class","py-0.5 flex w-full justify-between"),c(D,"class","mb-1 text-sm font-medium"),c(C,"class","self-center text-xs font-medium"),c(N,"class","p-1 px-3 text-xs flex rounded transition"),c(N,"type","button"),c(k,"class","py-0.5 flex w-full justify-between"),c(j,"class","dark:border-gray-850"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(K,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(K,"type","submit"),c(R,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(te,re){P(te,e,re),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),G&&G.m(l,null),n(l,f),n(l,d),n(d,g),n(g,m),n(d,b),n(d,w),he.m(w,null),n(t,y),n(t,E),n(E,D),n(D,V),n(E,I),n(E,k),n(k,C),n(C,Z),n(k,Y),n(k,N),Te.m(N,null),n(t,F),n(t,j),n(t,B),~A&&oe[A].m(t,null),n(e,U),n(e,R),n(R,K),n(K,W),q=!0,X||(J=[ee(w,"click",s[14]),ee(N,"click",s[15]),ee(e,"submit",Cl(s[20]))],X=!0)},p(te,[re]){(!q||re&128)&&r!==(r=te[7].t("STT Settings")+"")&&$(o,r),te[6].audio.stt.engine!=="web"?G?G.p(te,re):(G=Ra(te),G.c(),G.m(l,f)):G&&(G.d(1),G=null),(!q||re&128)&&p!==(p=te[7].t("Instant Auto-Send After Voice Transcription")+"")&&$(m,p),fe===(fe=ne(te))&&he?he.p(te,re):(he.d(1),he=fe(te),he&&(he.c(),he.m(w,null))),(!q||re&128)&&T!==(T=te[7].t("TTS Settings")+"")&&$(V,T),(!q||re&128)&&L!==(L=te[7].t("Auto-playback response")+"")&&$(Z,L),De===(De=ue(te))&&Te?Te.p(te,re):(Te.d(1),Te=De(te),Te&&(Te.c(),Te.m(N,null)));let de=A;A=ce(te),A===de?~A&&oe[A].p(te,re):(x&&(yt(),ae(oe[de],1,1,()=>{oe[de]=null}),Et()),~A?(x=oe[A],x?x.p(te,re):(x=oe[A]=Q[A](te),x.c()),se(x,1),x.m(t,null)):x=null),(!q||re&128)&&z!==(z=te[7].t("Save")+"")&&$(W,z)},i(te){q||(se(x),q=!0)},o(te){ae(x),q=!1},d(te){te&&u(e),G&&G.d(),he.d(),Te.d(),~A&&oe[A].d(),X=!1,ct(J)}}}function Di(s,e,t){let l,a,r;Be(s,cs,F=>t(6,l=F)),Be(s,dl,F=>t(22,a=F));const o=hl(),i=pt("i18n");Be(s,i,F=>t(7,r=F));let{saveSettings:f}=e,d=!1,g=!1,p=!1,m="",b=[],w="";const y=()=>{t(5,b=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},E=()=>{const F=setInterval(async()=>{t(5,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(F)},100)},D=async()=>{t(2,g=!g),f({responseAutoPlayback:g})},T=async()=>{t(1,d=!d),f({speechAutoSend:d})};Jt(async()=>{var F,j,B,A,x,U;a.conversationMode,t(1,d=a.speechAutoSend??!1),t(2,g=a.responseAutoPlayback??!1),t(4,m=((j=(F=a==null?void 0:a.audio)==null?void 0:F.stt)==null?void 0:j.engine)??""),t(8,w=((A=(B=a==null?void 0:a.audio)==null?void 0:B.tts)==null?void 0:A.voice)??l.audio.tts.voice??""),t(3,p=((U=(x=a.audio)==null?void 0:x.tts)==null?void 0:U.nonLocalVoices)??!1),l.audio.tts.engine==="openai"?y():E()});function V(){m=Tl(this),t(4,m)}const I=()=>{T()},k=()=>{D()},C=F=>p||F.localService===!0;function L(){w=Tl(this),t(8,w),t(5,b),t(3,p)}function Z(F){p=F,t(3,p)}function Y(){w=this.value,t(8,w),t(5,b),t(3,p)}const N=async()=>{f({audio:{stt:{engine:m!==""?m:void 0},tts:{voice:w!==""?w:void 0,nonLocalVoices:l.audio.tts.engine===""?p:void 0}}}),o("save")};return s.$$set=F=>{"saveSettings"in F&&t(0,f=F.saveSettings)},[f,d,g,p,m,b,l,r,w,o,i,D,T,V,I,k,C,L,Z,Y,N]}class Vi extends nt{constructor(e){super(),ot(this,e,Di,Ii,rt,{saveSettings:0})}}function Ti(s){let e,t,l,a,r,o=s[5].t("Off")+"",i;return{c(){e=Ke("svg"),t=Ke("path"),l=Ke("path"),a=S(),r=h("span"),i=O(o),this.h()},l(f){e=qe(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=qe(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),l=qe(d,"path",{d:!0}),_(l).forEach(u),d.forEach(u),a=M(f),r=v(f,"SPAN",{class:!0});var g=_(r);i=H(g,o),g.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),c(t,"clip-rule","evenodd"),c(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4"),c(r,"class","ml-2 self-center")},m(f,d){P(f,e,d),n(e,t),n(e,l),P(f,a,d),P(f,r,d),n(r,i)},p(f,d){d&32&&o!==(o=f[5].t("Off")+"")&&$(i,o)},d(f){f&&(u(e),u(a),u(r))}}}function Ci(s){let e,t,l,a,r,o=s[5].t("On")+"",i;return{c(){e=Ke("svg"),t=Ke("path"),l=Ke("path"),a=S(),r=h("span"),i=O(o),this.h()},l(f){e=qe(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=qe(d,"path",{d:!0}),_(t).forEach(u),l=qe(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(l).forEach(u),d.forEach(u),a=M(f),r=v(f,"SPAN",{class:!0});var g=_(r);i=H(g,o),g.forEach(u),this.h()},h(){c(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),c(l,"fill-rule","evenodd"),c(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4"),c(r,"class","ml-2 self-center")},m(f,d){P(f,e,d),n(e,t),n(e,l),P(f,a,d),P(f,r,d),n(r,i)},p(f,d){d&32&&o!==(o=f[5].t("On")+"")&&$(i,o)},d(f){f&&(u(e),u(a),u(r))}}}function Si(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,r,o=s[5].t("Archive All Chats")+"",i,f,d;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,a=S(),r=h("div"),i=O(o),this.h()},l(g){e=v(g,"BUTTON",{class:!0});var p=_(e);t=v(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=M(p),r=v(p,"DIV",{class:!0});var m=_(r);i=H(m,o),m.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){P(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(d=ee(e,"click",s[19]),f=!0)},p(g,p){p&32&&o!==(o=g[5].t("Archive All Chats")+"")&&$(i,o)},d(g){g&&u(e),f=!1,d()}}}function Mi(s){let e,t,l,a,r,o,i,f=s[5].t("Are you sure?")+"",d,g,p,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',D,T;return{c(){e=h("div"),t=h("div"),l=Ke("svg"),a=Ke("path"),r=Ke("path"),o=S(),i=h("span"),d=O(f),g=S(),p=h("div"),m=h("button"),m.innerHTML=b,w=S(),y=h("button"),y.innerHTML=E,this.h()},l(V){e=v(V,"DIV",{class:!0});var I=_(e);t=v(I,"DIV",{class:!0});var k=_(t);l=qe(k,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var C=_(l);a=qe(C,"path",{d:!0}),_(a).forEach(u),r=qe(C,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(r).forEach(u),C.forEach(u),o=M(k),i=v(k,"SPAN",{});var L=_(i);d=H(L,f),L.forEach(u),k.forEach(u),g=M(I),p=v(I,"DIV",{class:!0});var Z=_(p);m=v(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-88c061"&&(m.innerHTML=b),w=M(Z),y=v(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(y)!=="svelte-1601eo8"&&(y.innerHTML=E),Z.forEach(u),I.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(m,"class","hover:text-white transition"),c(y,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,I){P(V,e,I),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,d),n(e,g),n(e,p),n(p,m),n(p,w),n(p,y),D||(T=[ee(m,"click",s[17]),ee(y,"click",s[18])],D=!0)},p(V,I){I&32&&f!==(f=V[5].t("Are you sure?")+"")&&$(d,f)},d(V){V&&u(e),D=!1,ct(T)}}}function Ai(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,r,o=s[5].t("Delete All Chats")+"",i,f,d;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,a=S(),r=h("div"),i=O(o),this.h()},l(g){e=v(g,"BUTTON",{class:!0});var p=_(e);t=v(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=M(p),r=v(p,"DIV",{class:!0});var m=_(r);i=H(m,o),m.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){P(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(d=ee(e,"click",s[22]),f=!0)},p(g,p){p&32&&o!==(o=g[5].t("Delete All Chats")+"")&&$(i,o)},d(g){g&&u(e),f=!1,d()}}}function Li(s){let e,t,l,a,r,o,i,f=s[5].t("Are you sure?")+"",d,g,p,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',D,T;return{c(){e=h("div"),t=h("div"),l=Ke("svg"),a=Ke("path"),r=Ke("path"),o=S(),i=h("span"),d=O(f),g=S(),p=h("div"),m=h("button"),m.innerHTML=b,w=S(),y=h("button"),y.innerHTML=E,this.h()},l(V){e=v(V,"DIV",{class:!0});var I=_(e);t=v(I,"DIV",{class:!0});var k=_(t);l=qe(k,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var C=_(l);a=qe(C,"path",{d:!0}),_(a).forEach(u),r=qe(C,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(r).forEach(u),C.forEach(u),o=M(k),i=v(k,"SPAN",{});var L=_(i);d=H(L,f),L.forEach(u),k.forEach(u),g=M(I),p=v(I,"DIV",{class:!0});var Z=_(p);m=v(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-19nv6qp"&&(m.innerHTML=b),w=M(Z),y=v(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),He(y)!=="svelte-ekcykx"&&(y.innerHTML=E),Z.forEach(u),I.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(m,"class","hover:text-white transition"),c(y,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,I){P(V,e,I),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,d),n(e,g),n(e,p),n(p,m),n(p,w),n(p,y),D||(T=[ee(m,"click",s[20]),ee(y,"click",s[21])],D=!0)},p(V,I){I&32&&f!==(f=V[5].t("Are you sure?")+"")&&$(d,f)},d(V){V&&u(e),D=!1,ct(T)}}}function Bi(s){let e,t,l,a,r,o=s[5].t("Chat History")+"",i,f,d,g,p,m=s[5].t("This setting does not sync across browsers or devices.")+"",b,w,y,E,D,T,V,I,k,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',L,Z,Y=s[5].t("Import Chats")+"",N,F,j,B,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',x,U,R=s[5].t("Export Chats")+"",K,z,W,q,X,J,G,ne;function fe(re,de){return re[1]===!0?Ci:Ti}let he=fe(s),ue=he(s);function De(re,de){return re[2]?Mi:Si}let Te=De(s),Q=Te(s);function oe(re,de){return re[3]?Li:Ai}let ce=oe(s),te=ce(s);return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),r=h("div"),i=O(o),f=S(),d=h("button"),ue.c(),g=S(),p=h("div"),b=O(m),w=S(),y=h("hr"),E=S(),D=h("div"),T=h("input"),V=S(),I=h("button"),k=h("div"),k.innerHTML=C,L=S(),Z=h("div"),N=O(Y),F=S(),j=h("button"),B=h("div"),B.innerHTML=A,x=S(),U=h("div"),K=O(R),z=S(),W=h("hr"),q=S(),X=h("div"),Q.c(),J=S(),te.c(),this.h()},l(re){e=v(re,"DIV",{class:!0});var de=_(e);t=v(de,"DIV",{class:!0});var ge=_(t);l=v(ge,"DIV",{class:!0});var Ce=_(l);a=v(Ce,"DIV",{class:!0});var Me=_(a);r=v(Me,"DIV",{class:!0});var be=_(r);i=H(be,o),be.forEach(u),f=M(Me),d=v(Me,"BUTTON",{class:!0,type:!0});var Pe=_(d);ue.l(Pe),Pe.forEach(u),Me.forEach(u),g=M(Ce),p=v(Ce,"DIV",{class:!0});var ke=_(p);b=H(ke,m),ke.forEach(u),Ce.forEach(u),w=M(ge),y=v(ge,"HR",{class:!0}),E=M(ge),D=v(ge,"DIV",{class:!0});var Re=_(D);T=v(Re,"INPUT",{id:!0,type:!0,accept:!0}),V=M(Re),I=v(Re,"BUTTON",{class:!0});var Ie=_(I);k=v(Ie,"DIV",{class:!0,"data-svelte-h":!0}),He(k)!=="svelte-135keqh"&&(k.innerHTML=C),L=M(Ie),Z=v(Ie,"DIV",{class:!0});var Ze=_(Z);N=H(Ze,Y),Ze.forEach(u),Ie.forEach(u),F=M(Re),j=v(Re,"BUTTON",{class:!0});var le=_(j);B=v(le,"DIV",{class:!0,"data-svelte-h":!0}),He(B)!=="svelte-7e4f4y"&&(B.innerHTML=A),x=M(le),U=v(le,"DIV",{class:!0});var we=_(U);K=H(we,R),we.forEach(u),le.forEach(u),Re.forEach(u),z=M(ge),W=v(ge,"HR",{class:!0}),q=M(ge),X=v(ge,"DIV",{class:!0});var Oe=_(X);Q.l(Oe),J=M(Oe),te.l(Oe),Oe.forEach(u),ge.forEach(u),de.forEach(u),this.h()},h(){c(r,"class","self-center text-sm font-medium"),c(d,"class","p-1 px-3 text-xs flex rounded transition"),c(d,"type","button"),c(a,"class","flex w-full justify-between"),c(p,"class","text-xs text-left w-full font-medium mt-0.5"),c(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),c(y,"class","dark:border-gray-850"),c(T,"id","chat-import-input"),c(T,"type","file"),c(T,"accept",".json"),T.hidden=!0,c(k,"class","self-center mr-3"),c(Z,"class","self-center text-sm font-medium"),c(I,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(B,"class","self-center mr-3"),c(U,"class","self-center text-sm font-medium"),c(j,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(D,"class","flex flex-col"),c(W,"class","dark:border-gray-850"),c(X,"class","flex flex-col"),c(t,"class","space-y-2"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(re,de){P(re,e,de),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(a,f),n(a,d),ue.m(d,null),n(l,g),n(l,p),n(p,b),n(t,w),n(t,y),n(t,E),n(t,D),n(D,T),s[13](T),n(D,V),n(D,I),n(I,k),n(I,L),n(I,Z),n(Z,N),n(D,F),n(D,j),n(j,B),n(j,x),n(j,U),n(U,K),n(t,z),n(t,W),n(t,q),n(t,X),Q.m(X,null),n(X,J),te.m(X,null),G||(ne=[ee(d,"click",s[12]),ee(T,"change",s[14]),ee(I,"click",s[15]),ee(j,"click",s[16])],G=!0)},p(re,[de]){de&32&&o!==(o=re[5].t("Chat History")+"")&&$(i,o),he===(he=fe(re))&&ue?ue.p(re,de):(ue.d(1),ue=he(re),ue&&(ue.c(),ue.m(d,null))),de&32&&m!==(m=re[5].t("This setting does not sync across browsers or devices.")+"")&&$(b,m),de&32&&Y!==(Y=re[5].t("Import Chats")+"")&&$(N,Y),de&32&&R!==(R=re[5].t("Export Chats")+"")&&$(K,R),Te===(Te=De(re))&&Q?Q.p(re,de):(Q.d(1),Q=Te(re),Q&&(Q.c(),Q.m(X,J))),ce===(ce=oe(re))&&te?te.p(re,de):(te.d(1),te=ce(re),te&&(te.c(),te.m(X,null)))},i:Ue,o:Ue,d(re){re&&u(e),ue.d(),s[13](null),Q.d(),te.d(),G=!1,ct(ne)}}}function xi(s,e,t){let l,a;Be(s,dl,B=>t(23,l=B));const{saveAs:r}=ys,o=pt("i18n");Be(s,o,B=>t(5,a=B));let{saveSettings:i}=e,f=!0,d,g=!1,p=!1,m;const b=async B=>{for(const A of B)console.log(A),A.chat?await ya(localStorage.token,A.chat):await ya(localStorage.token,A);await Kt.set(await fl(localStorage.token))},w=async()=>{let B=new Blob([JSON.stringify(await ln(localStorage.token))],{type:"application/json"});r(B,`chat-export-${Date.now()}.json`)},y=async()=>{await kl("/"),await sn(localStorage.token).catch(B=>{Ye.error(B)}),await Kt.set(await fl(localStorage.token))},E=async()=>{await kl("/"),await an(localStorage.token).catch(B=>{Ye.error(B)}),await Kt.set(await fl(localStorage.token))},D=async()=>{t(1,f=!f),console.log(f),f===!1&&await kl("/"),i({saveChatHistory:f})};Jt(async()=>{t(1,f=l.saveChatHistory??!0)});const T=()=>{D()};function V(B){vt[B?"unshift":"push"](()=>{m=B,t(4,m)})}function I(){d=this.files,t(0,d)}const k=()=>{m.click()},C=()=>{w()},L=()=>{y(),t(2,g=!1)},Z=()=>{t(2,g=!1)},Y=()=>{t(2,g=!0)},N=()=>{E(),t(3,p=!1)},F=()=>{t(3,p=!1)},j=()=>{t(3,p=!0)};return s.$$set=B=>{"saveSettings"in B&&t(11,i=B.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&d){console.log(d);let B=new FileReader;B.onload=A=>{let x=JSON.parse(A.target.result);if(console.log(x),On(x)=="openai")try{x=Hn(x)}catch(U){console.log("Unable to import chats:",U)}b(x)},d.length>0&&B.readAsText(d[0])}},[d,f,g,p,m,a,o,w,y,E,D,i,T,V,I,k,C,L,Z,Y,N,F,j]}class Ni extends nt{constructor(e){super(),ot(this,e,xi,Bi,rt,{saveSettings:11})}}function Oi(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=_(e);t=qe(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","currentColor"),c(e,"class",s[0])},m(l,a){P(l,e,a),n(e,t)},p(l,[a]){a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function Hi(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class Ui extends nt{constructor(e){super(),ot(this,e,Hi,Oi,rt,{className:0})}}function Fa(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function $i(s){let e,t,l,a=s[3].t("Add Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,g,p,m,b,w,y,E,D,T,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",I,k,C,L,Z=s[3].t("Add")+"",Y,N,F,j,B,A=s[1]&&Fa();return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),i.innerHTML=f,d=S(),g=h("div"),p=h("div"),m=h("form"),b=h("div"),w=h("textarea"),E=S(),D=h("div"),T=O("â“˜ "),I=O(V),k=S(),C=h("div"),L=h("button"),Y=O(Z),N=S(),A&&A.c(),this.h()},l(x){e=v(x,"DIV",{});var U=_(e);t=v(U,"DIV",{class:!0});var R=_(t);l=v(R,"DIV",{class:!0});var K=_(l);r=H(K,a),K.forEach(u),o=M(R),i=v(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),R.forEach(u),d=M(U),g=v(U,"DIV",{class:!0});var z=_(g);p=v(z,"DIV",{class:!0});var W=_(p);m=v(W,"FORM",{class:!0});var q=_(m);b=v(q,"DIV",{class:!0});var X=_(b);w=v(X,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(w).forEach(u),E=M(X),D=v(X,"DIV",{class:!0});var J=_(D);T=H(J,"â“˜ "),I=H(J,V),J.forEach(u),X.forEach(u),k=M(q),C=v(q,"DIV",{class:!0});var G=_(C);L=v(G,"BUTTON",{class:!0,type:!0});var ne=_(L);Y=H(ne,Z),N=M(ne),A&&A.l(ne),ne.forEach(u),G.forEach(u),q.forEach(u),W.forEach(u),z.forEach(u),U.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(D,"class","text-xs text-gray-500"),c(b,"class",""),c(L,"class",F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(L,"type","submit"),L.disabled=s[1],c(C,"class","flex justify-end pt-1 text-sm font-medium"),c(m,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(x,U){P(x,e,U),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,d),n(e,g),n(g,p),n(p,m),n(m,b),n(b,w),Ne(w,s[2]),n(b,E),n(b,D),n(D,T),n(D,I),n(m,k),n(m,C),n(C,L),n(L,Y),n(L,N),A&&A.m(L,null),j||(B=[ee(i,"click",s[6]),ee(w,"input",s[7]),ee(m,"submit",Cl(s[8]))],j=!0)},p(x,U){U&8&&a!==(a=x[3].t("Add Memory")+"")&&$(r,a),U&8&&y!==(y=x[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",y),U&4&&Ne(w,x[2]),U&8&&V!==(V=x[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&$(I,V),U&8&&Z!==(Z=x[3].t("Add")+"")&&$(Y,Z),x[1]?A||(A=Fa(),A.c(),A.m(L,null)):A&&(A.d(1),A=null),U&2&&F!==(F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(x[1]?" cursor-not-allowed":""))&&c(L,"class",F),U&2&&(L.disabled=x[1])},d(x){x&&u(e),A&&A.d(),j=!1,ct(B)}}}function Pi(s){let e,t,l;function a(o){s[9](o)}let r={size:"sm",$$slots:{default:[$i]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Nl({props:r}),vt.push(()=>It(e,"show",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&2063&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function ji(s,e,t){let l;const a=hl();let{show:r}=e;const o=pt("i18n");Be(s,o,w=>t(3,l=w));let i=!1,f="";const d=async()=>{t(1,i=!0);const w=await jn(localStorage.token,f).catch(y=>(Ye.error(y),null));w&&(console.log(w),Ye.success(l.t("Memory added successfully")),t(2,f=""),t(0,r=!1),a("save")),t(1,i=!1)},g=()=>{t(0,r=!1)};function p(){f=this.value,t(2,f)}const m=()=>{d()};function b(w){r=w,t(0,r)}return s.$$set=w=>{"show"in w&&t(0,r=w.show)},[r,i,f,l,o,d,g,p,m,b]}class zi extends nt{constructor(e){super(),ot(this,e,ji,Pi,rt,{show:0})}}function Ya(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){P(l,e,a)},d(l){l&&u(e)}}}function Ri(s){let e,t,l,a=s[3].t("Edit Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,g,p,m,b,w,y,E,D,T,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",I,k,C,L,Z=s[3].t("Update")+"",Y,N,F,j,B,A=s[1]&&Ya();return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),i.innerHTML=f,d=S(),g=h("div"),p=h("div"),m=h("form"),b=h("div"),w=h("textarea"),E=S(),D=h("div"),T=O("â“˜ "),I=O(V),k=S(),C=h("div"),L=h("button"),Y=O(Z),N=S(),A&&A.c(),this.h()},l(x){e=v(x,"DIV",{});var U=_(e);t=v(U,"DIV",{class:!0});var R=_(t);l=v(R,"DIV",{class:!0});var K=_(l);r=H(K,a),K.forEach(u),o=M(R),i=v(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),R.forEach(u),d=M(U),g=v(U,"DIV",{class:!0});var z=_(g);p=v(z,"DIV",{class:!0});var W=_(p);m=v(W,"FORM",{class:!0});var q=_(m);b=v(q,"DIV",{class:!0});var X=_(b);w=v(X,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(w).forEach(u),E=M(X),D=v(X,"DIV",{class:!0});var J=_(D);T=H(J,"â“˜ "),I=H(J,V),J.forEach(u),X.forEach(u),k=M(q),C=v(q,"DIV",{class:!0});var G=_(C);L=v(G,"BUTTON",{class:!0,type:!0});var ne=_(L);Y=H(ne,Z),N=M(ne),A&&A.l(ne),ne.forEach(u),G.forEach(u),q.forEach(u),W.forEach(u),z.forEach(u),U.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(D,"class","text-xs text-gray-500"),c(b,"class",""),c(L,"class",F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(L,"type","submit"),L.disabled=s[1],c(C,"class","flex justify-end pt-1 text-sm font-medium"),c(m,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(x,U){P(x,e,U),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,d),n(e,g),n(g,p),n(p,m),n(m,b),n(b,w),Ne(w,s[2]),n(b,E),n(b,D),n(D,T),n(D,I),n(m,k),n(m,C),n(C,L),n(L,Y),n(L,N),A&&A.m(L,null),j||(B=[ee(i,"click",s[7]),ee(w,"input",s[8]),ee(m,"submit",Cl(s[9]))],j=!0)},p(x,U){U&8&&a!==(a=x[3].t("Edit Memory")+"")&&$(r,a),U&8&&y!==(y=x[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",y),U&4&&Ne(w,x[2]),U&8&&V!==(V=x[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&$(I,V),U&8&&Z!==(Z=x[3].t("Update")+"")&&$(Y,Z),x[1]?A||(A=Ya(),A.c(),A.m(L,null)):A&&(A.d(1),A=null),U&2&&F!==(F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(x[1]?" cursor-not-allowed":""))&&c(L,"class",F),U&2&&(L.disabled=x[1])},d(x){x&&u(e),A&&A.d(),j=!1,ct(B)}}}function Zi(s){let e,t,l;function a(o){s[10](o)}let r={size:"sm",$$slots:{default:[Ri]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Nl({props:r}),vt.push(()=>It(e,"show",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&8207&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function Wi(s,e,t){let l;const a=hl();let{show:r}=e,{memory:o={}}=e;const i=pt("i18n");Be(s,i,E=>t(3,l=E));let f=!1,d="";const g=()=>{t(2,d=o.content)},p=async()=>{t(1,f=!0);const E=await zn(localStorage.token,o.id,d).catch(D=>(Ye.error(D),null));E&&(console.log(E),Ye.success(l.t("Memory updated successfully")),a("save"),t(0,r=!1)),t(1,f=!1)},m=()=>{t(0,r=!1)};function b(){d=this.value,t(2,d)}const w=()=>{p()};function y(E){r=E,t(0,r)}return s.$$set=E=>{"show"in E&&t(0,r=E.show),"memory"in E&&t(6,o=E.memory)},s.$$.update=()=>{s.$$.dirty&1&&r&&g()},[r,f,d,l,i,p,o,m,b,w,y]}class Fi extends nt{constructor(e){super(),ot(this,e,Wi,Zi,rt,{show:0,memory:6})}}function Ka(s,e,t){const l=s.slice();return l[19]=e[t],l}function Yi(s){let e,t,l=s[5].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=h("div"),t=h("div"),a=O(l),this.h()},l(r){e=v(r,"DIV",{class:!0});var o=_(e);t=v(o,"DIV",{class:!0});var i=_(t);a=H(i,l),i.forEach(u),o.forEach(u),this.h()},h(){c(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),c(e,"class","text-center flex h-full text-sm w-full")},m(r,o){P(r,e,o),n(e,t),n(t,a)},p(r,o){o&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&$(a,l)},i:Ue,o:Ue,d(r){r&&u(e)}}}function Ki(s){let e,t,l,a,r,o,i=s[5].t("Name")+"",f,d,g,p=s[5].t("Last Modified")+"",m,b,w,y,E,D,T=Qe(s[1]),V=[];for(let k=0;k<T.length;k+=1)V[k]=qa(Ka(s,T,k));const I=k=>ae(V[k],1,1,()=>{V[k]=null});return{c(){e=h("div"),t=h("div"),l=h("table"),a=h("thead"),r=h("tr"),o=h("th"),f=O(i),d=S(),g=h("th"),m=O(p),b=S(),w=h("th"),y=S(),E=h("tbody");for(let k=0;k<V.length;k+=1)V[k].c();this.h()},l(k){e=v(k,"DIV",{class:!0});var C=_(e);t=v(C,"DIV",{class:!0});var L=_(t);l=v(L,"TABLE",{class:!0});var Z=_(l);a=v(Z,"THEAD",{class:!0});var Y=_(a);r=v(Y,"TR",{});var N=_(r);o=v(N,"TH",{scope:!0,class:!0});var F=_(o);f=H(F,i),F.forEach(u),d=M(N),g=v(N,"TH",{scope:!0,class:!0});var j=_(g);m=H(j,p),j.forEach(u),b=M(N),w=v(N,"TH",{scope:!0,class:!0}),_(w).forEach(u),N.forEach(u),Y.forEach(u),y=M(Z),E=v(Z,"TBODY",{});var B=_(E);for(let A=0;A<V.length;A+=1)V[A].l(B);B.forEach(u),Z.forEach(u),L.forEach(u),C.forEach(u),this.h()},h(){c(o,"scope","col"),c(o,"class","px-3 py-2"),c(g,"scope","col"),c(g,"class","px-3 py-2 hidden md:flex"),c(w,"scope","col"),c(w,"class","px-3 py-2 text-right"),c(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(t,"class","relative overflow-x-auto"),c(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(k,C){P(k,e,C),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,f),n(r,d),n(r,g),n(g,m),n(r,b),n(r,w),n(l,y),n(l,E);for(let L=0;L<V.length;L+=1)V[L]&&V[L].m(E,null);D=!0},p(k,C){if((!D||C&32)&&i!==(i=k[5].t("Name")+"")&&$(f,i),(!D||C&32)&&p!==(p=k[5].t("Last Modified")+"")&&$(m,p),C&58){T=Qe(k[1]);let L;for(L=0;L<T.length;L+=1){const Z=Ka(k,T,L);V[L]?(V[L].p(Z,C),se(V[L],1)):(V[L]=qa(Z),V[L].c(),se(V[L],1),V[L].m(E,null))}for(yt(),L=T.length;L<V.length;L+=1)I(L);Et()}},i(k){if(!D){for(let C=0;C<T.length;C+=1)se(V[C]);D=!0}},o(k){V=V.filter(Boolean);for(let C=0;C<V.length;C+=1)ae(V[C]);D=!1},d(k){k&&u(e),Ut(V,k)}}}function qi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,a;function r(){return s[9](s[19])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){P(o,e,i),l||(a=ee(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Gi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[10](s[19])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-12t315d"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){P(o,e,i),l||(a=ee(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function qa(s){let e,t,l,a=s[19].content+"",r,o,i,f,d=is(s[19].updated_at*1e3).format(s[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",g,p,m,b,w,y,E,D,T;return w=new qt({props:{content:"Edit",$$slots:{default:[qi]},$$scope:{ctx:s}}}),E=new qt({props:{content:"Delete",$$slots:{default:[Gi]},$$scope:{ctx:s}}}),{c(){e=h("tr"),t=h("td"),l=h("div"),r=O(a),o=S(),i=h("td"),f=h("div"),g=O(d),p=S(),m=h("td"),b=h("div"),ve(w.$$.fragment),y=S(),ve(E.$$.fragment),D=S(),this.h()},l(V){e=v(V,"TR",{class:!0});var I=_(e);t=v(I,"TD",{class:!0});var k=_(t);l=v(k,"DIV",{class:!0});var C=_(l);r=H(C,a),C.forEach(u),k.forEach(u),o=M(I),i=v(I,"TD",{class:!0});var L=_(i);f=v(L,"DIV",{class:!0});var Z=_(f);g=H(Z,d),Z.forEach(u),L.forEach(u),p=M(I),m=v(I,"TD",{class:!0});var Y=_(m);b=v(Y,"DIV",{class:!0});var N=_(b);_e(w.$$.fragment,N),y=M(N),_e(E.$$.fragment,N),N.forEach(u),Y.forEach(u),D=M(I),I.forEach(u),this.h()},h(){c(l,"class","line-clamp-1"),c(t,"class","px-3 py-1"),c(f,"class","my-auto whitespace-nowrap"),c(i,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(b,"class","flex justify-end w-full"),c(m,"class","px-3 py-1"),c(e,"class","border-b dark:border-gray-800 items-center")},m(V,I){P(V,e,I),n(e,t),n(t,l),n(l,r),n(e,o),n(e,i),n(i,f),n(f,g),n(e,p),n(e,m),n(m,b),me(w,b,null),n(b,y),me(E,b,null),n(e,D),T=!0},p(V,I){(!T||I&2)&&a!==(a=V[19].content+"")&&$(r,a),(!T||I&34)&&d!==(d=is(V[19].updated_at*1e3).format(V[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&$(g,d);const k={};I&4194330&&(k.$$scope={dirty:I,ctx:V}),w.$set(k);const C={};I&4194338&&(C.$$scope={dirty:I,ctx:V}),E.$set(C)},i(V){T||(se(w.$$.fragment,V),se(E.$$.fragment,V),T=!0)},o(V){ae(w.$$.fragment,V),ae(E.$$.fragment,V),T=!1},d(V){V&&u(e),pe(w),pe(E)}}}function Xi(s){let e,t,l,a=s[5].t("Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,g,p,m,b,w,y,E,D=s[5].t("Add Memory")+"",T,V,I,k=s[5].t("Clear memory")+"",C,L,Z,Y;const N=[Ki,Yi],F=[];function j(B,A){return B[1].length>0?0:1}return m=j(s),b=F[m]=N[m](s),{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),i.innerHTML=f,d=S(),g=h("div"),p=h("div"),b.c(),w=S(),y=h("div"),E=h("button"),T=O(D),V=S(),I=h("button"),C=O(k),this.h()},l(B){e=v(B,"DIV",{});var A=_(e);t=v(A,"DIV",{class:!0});var x=_(t);l=v(x,"DIV",{class:!0});var U=_(l);r=H(U,a),U.forEach(u),o=M(x),i=v(x,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),x.forEach(u),d=M(A),g=v(A,"DIV",{class:!0});var R=_(g);p=v(R,"DIV",{class:!0});var K=_(p);b.l(K),K.forEach(u),w=M(R),y=v(R,"DIV",{class:!0});var z=_(y);E=v(z,"BUTTON",{class:!0});var W=_(E);T=H(W,D),W.forEach(u),V=M(z),I=v(z,"BUTTON",{class:!0});var q=_(I);C=H(q,k),q.forEach(u),z.forEach(u),R.forEach(u),A.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),c(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(I,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),c(y,"class","flex text-sm font-medium gap-1.5"),c(g,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(B,A){P(B,e,A),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,d),n(e,g),n(g,p),F[m].m(p,null),n(g,w),n(g,y),n(y,E),n(E,T),n(y,V),n(y,I),n(I,C),L=!0,Z||(Y=[ee(i,"click",s[8]),ee(E,"click",s[11]),ee(I,"click",s[12])],Z=!0)},p(B,A){(!L||A&32)&&a!==(a=B[5].t("Memory")+"")&&$(r,a);let x=m;m=j(B),m===x?F[m].p(B,A):(yt(),ae(F[x],1,1,()=>{F[x]=null}),Et(),b=F[m],b?b.p(B,A):(b=F[m]=N[m](B),b.c()),se(b,1),b.m(p,null)),(!L||A&32)&&D!==(D=B[5].t("Add Memory")+"")&&$(T,D),(!L||A&32)&&k!==(k=B[5].t("Clear memory")+"")&&$(C,k)},i(B){L||(se(b),L=!0)},o(B){ae(b),L=!1},d(B){B&&u(e),F[m].d(),Z=!1,ct(Y)}}}function Ji(s){let e,t,l,a,r,o,i,f,d;function g(E){s[13](E)}let p={size:"xl",$$slots:{default:[Xi]},$$scope:{ctx:s}};s[0]!==void 0&&(p.show=s[0]),e=new Nl({props:p}),vt.push(()=>It(e,"show",g));function m(E){s[14](E)}let b={};s[2]!==void 0&&(b.show=s[2]),a=new zi({props:b}),vt.push(()=>It(a,"show",m)),a.$on("save",s[15]);function w(E){s[16](E)}let y={memory:s[4]};return s[3]!==void 0&&(y.show=s[3]),i=new Fi({props:y}),vt.push(()=>It(i,"show",w)),i.$on("save",s[17]),{c(){ve(e.$$.fragment),l=S(),ve(a.$$.fragment),o=S(),ve(i.$$.fragment)},l(E){_e(e.$$.fragment,E),l=M(E),_e(a.$$.fragment,E),o=M(E),_e(i.$$.fragment,E)},m(E,D){me(e,E,D),P(E,l,D),me(a,E,D),P(E,o,D),me(i,E,D),d=!0},p(E,[D]){const T={};D&4194367&&(T.$$scope={dirty:D,ctx:E}),!t&&D&1&&(t=!0,T.show=E[0],kt(()=>t=!1)),e.$set(T);const V={};!r&&D&4&&(r=!0,V.show=E[2],kt(()=>r=!1)),a.$set(V);const I={};D&16&&(I.memory=E[4]),!f&&D&8&&(f=!0,I.show=E[3],kt(()=>f=!1)),i.$set(I)},i(E){d||(se(e.$$.fragment,E),se(a.$$.fragment,E),se(i.$$.fragment,E),d=!0)},o(E){ae(e.$$.fragment,E),ae(a.$$.fragment,E),ae(i.$$.fragment,E),d=!1},d(E){E&&(u(l),u(o)),pe(e,E),pe(a,E),pe(i,E)}}}function Qi(s,e,t){let l;hl();const a=pt("i18n");Be(s,a,k=>t(5,l=k));let{show:r=!1}=e,o=[],i=!0,f=!1,d=!1,g=null;const p=()=>{t(0,r=!1)},m=k=>{t(4,g=k),t(3,d=!0)},b=async k=>{await Rn(localStorage.token,k.id).catch(L=>(Ye.error(L),null))&&(Ye.success(l.t("Memory deleted successfully")),t(1,o=await as(localStorage.token)))},w=()=>{t(2,f=!0)},y=async()=>{await Zn(localStorage.token).catch(C=>(Ye.error(C),null))&&(Ye.success(l.t("Memory cleared successfully")),t(1,o=[]))};function E(k){r=k,t(0,r)}function D(k){f=k,t(2,f)}const T=async()=>{t(1,o=await as(localStorage.token))};function V(k){d=k,t(3,d)}const I=async()=>{t(1,o=await as(localStorage.token))};return s.$$set=k=>{"show"in k&&t(0,r=k.show)},s.$$.update=()=>{s.$$.dirty&131&&r&&o.length===0&&i&&(async()=>(t(1,o=await as(localStorage.token)),t(7,i=!1)))()},[r,o,f,d,g,l,a,i,p,m,b,w,y,E,D,T,V,I]}class ec extends nt{constructor(e){super(),ot(this,e,Qi,Ji,rt,{show:0})}}function tc(s){let e,t=s[3].t("Memory")+"",l,a,r,o,i=s[3].t("Experimental")+"",f,d;return{c(){e=h("div"),l=O(t),a=S(),r=h("span"),o=O("("),f=O(i),d=O(")"),this.h()},l(g){e=v(g,"DIV",{class:!0});var p=_(e);l=H(p,t),a=M(p),r=v(p,"SPAN",{class:!0});var m=_(r);o=H(m,"("),f=H(m,i),d=H(m,")"),m.forEach(u),p.forEach(u),this.h()},h(){c(r,"class","text-xs text-gray-500"),c(e,"class","text-sm font-medium")},m(g,p){P(g,e,p),n(e,l),n(e,a),n(e,r),n(r,o),n(r,f),n(r,d)},p(g,p){p&8&&t!==(t=g[3].t("Memory")+"")&&$(l,t),p&8&&i!==(i=g[3].t("Experimental")+"")&&$(f,i)},d(g){g&&u(e)}}}function lc(s){let e,t,l,a,r,o,i,f,d,g,p,m,b,w,y,E=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",D,T,V,I,k=s[3].t("Manage")+"",C,L,Z,Y,N=s[3].t("Save")+"",F,j,B,A;function x(z){s[6](z)}let U={};s[1]!==void 0&&(U.show=s[1]),e=new ec({props:U}),vt.push(()=>It(e,"show",x)),f=new qt({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[tc]},$$scope:{ctx:s}}});function R(z){s[7](z)}let K={};return s[2]!==void 0&&(K.state=s[2]),p=new Fr({props:K}),vt.push(()=>It(p,"state",R)),p.$on("change",s[8]),{c(){ve(e.$$.fragment),l=S(),a=h("form"),r=h("div"),o=h("div"),i=h("div"),ve(f.$$.fragment),d=S(),g=h("div"),ve(p.$$.fragment),b=S(),w=h("div"),y=h("div"),D=O(E),T=S(),V=h("div"),I=h("button"),C=O(k),L=S(),Z=h("div"),Y=h("button"),F=O(N),this.h()},l(z){_e(e.$$.fragment,z),l=M(z),a=v(z,"FORM",{class:!0});var W=_(a);r=v(W,"DIV",{class:!0});var q=_(r);o=v(q,"DIV",{});var X=_(o);i=v(X,"DIV",{class:!0});var J=_(i);_e(f.$$.fragment,J),d=M(J),g=v(J,"DIV",{class:!0});var G=_(g);_e(p.$$.fragment,G),G.forEach(u),J.forEach(u),X.forEach(u),b=M(q),w=v(q,"DIV",{class:!0});var ne=_(w);y=v(ne,"DIV",{});var fe=_(y);D=H(fe,E),fe.forEach(u),ne.forEach(u),T=M(q),V=v(q,"DIV",{class:!0});var he=_(V);I=v(he,"BUTTON",{type:!0,class:!0});var ue=_(I);C=H(ue,k),ue.forEach(u),he.forEach(u),q.forEach(u),L=M(W),Z=v(W,"DIV",{class:!0});var De=_(Z);Y=v(De,"BUTTON",{class:!0,type:!0});var Te=_(Y);F=H(Te,N),Te.forEach(u),De.forEach(u),W.forEach(u),this.h()},h(){c(g,"class",""),c(i,"class","flex items-center justify-between mb-1"),c(w,"class","text-xs text-gray-600 dark:text-gray-400"),c(I,"type","button"),c(I,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(V,"class","mt-3 mb-1 ml-1"),c(r,"class","pr-1.5 py-1 overflow-y-scroll max-h-[25rem]"),c(Y,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(Y,"type","submit"),c(Z,"class","flex justify-end text-sm font-medium"),c(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(z,W){me(e,z,W),P(z,l,W),P(z,a,W),n(a,r),n(r,o),n(o,i),me(f,i,null),n(i,d),n(i,g),me(p,g,null),n(r,b),n(r,w),n(w,y),n(y,D),n(r,T),n(r,V),n(V,I),n(I,C),n(a,L),n(a,Z),n(Z,Y),n(Y,F),j=!0,B||(A=[ee(I,"click",s[9]),ee(a,"submit",Cl(s[10]))],B=!0)},p(z,[W]){const q={};!t&&W&2&&(t=!0,q.show=z[1],kt(()=>t=!1)),e.$set(q);const X={};W&8&&(X.content=z[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),W&4104&&(X.$$scope={dirty:W,ctx:z}),f.$set(X);const J={};!m&&W&4&&(m=!0,J.state=z[2],kt(()=>m=!1)),p.$set(J),(!j||W&8)&&E!==(E=z[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&$(D,E),(!j||W&8)&&k!==(k=z[3].t("Manage")+"")&&$(C,k),(!j||W&8)&&N!==(N=z[3].t("Save")+"")&&$(F,N)},i(z){j||(se(e.$$.fragment,z),se(f.$$.fragment,z),se(p.$$.fragment,z),j=!0)},o(z){ae(e.$$.fragment,z),ae(f.$$.fragment,z),ae(p.$$.fragment,z),j=!1},d(z){z&&(u(l),u(a)),pe(e,z),pe(f),pe(p),B=!1,ct(A)}}}function sc(s,e,t){let l,a;Be(s,dl,y=>t(11,l=y));const r=hl(),o=pt("i18n");Be(s,o,y=>t(3,a=y));let{saveSettings:i}=e,f=!1,d=!1;Jt(async()=>{t(2,d=(l==null?void 0:l.memory)??!1)});function g(y){f=y,t(1,f)}function p(y){d=y,t(2,d)}const m=async()=>{i({memory:d})},b=()=>{t(1,f=!0)},w=()=>{r("save")};return s.$$set=y=>{"saveSettings"in y&&t(0,i=y.saveSettings)},[i,f,d,a,r,o,g,p,m,b,w]}class ac extends nt{constructor(e){super(),ot(this,e,sc,lc,rt,{saveSettings:0})}}function Ga(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function Xa(s,e,t){const l=s.slice();return l[18]=e[t],l[20]=t,l}function rc(s){let e,t=s[5].t("Manage Valves")+"",l;return{c(){e=h("div"),l=O(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","text-sm font-medium")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&32&&t!==(t=a[5].t("Manage Valves")+"")&&$(l,t)},d(a){a&&u(e)}}}function nc(s){let e,t=s[5].t("Select a function")+"",l,a,r=Qe(s[7]),o=[];for(let i=0;i<r.length;i+=1)o[i]=Ja(Ga(s,r,i));return{c(){e=h("option"),l=O(t);for(let i=0;i<o.length;i+=1)o[i].c();a=pl(),this.h()},l(i){e=v(i,"OPTION",{class:!0});var f=_(e);l=H(f,t),f.forEach(u);for(let d=0;d<o.length;d+=1)o[d].l(i);a=pl(),this.h()},h(){e.__value="",Ne(e,e.__value),e.selected=!0,e.disabled=!0,c(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,f){P(i,e,f),n(e,l);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(i,f);P(i,a,f)},p(i,f){if(f&32&&t!==(t=i[5].t("Select a function")+"")&&$(l,t),f&128){r=Qe(i[7]);let d;for(d=0;d<r.length;d+=1){const g=Ga(i,r,d);o[d]?o[d].p(g,f):(o[d]=Ja(g),o[d].c(),o[d].m(a.parentNode,a))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}},d(i){i&&(u(e),u(a)),Ut(o,i)}}}function oc(s){let e,t=s[5].t("Select a tool")+"",l,a,r=Qe(s[6]),o=[];for(let i=0;i<r.length;i+=1)o[i]=Qa(Xa(s,r,i));return{c(){e=h("option"),l=O(t);for(let i=0;i<o.length;i+=1)o[i].c();a=pl(),this.h()},l(i){e=v(i,"OPTION",{class:!0});var f=_(e);l=H(f,t),f.forEach(u);for(let d=0;d<o.length;d+=1)o[d].l(i);a=pl(),this.h()},h(){e.__value="",Ne(e,e.__value),e.selected=!0,e.disabled=!0,c(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,f){P(i,e,f),n(e,l);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(i,f);P(i,a,f)},p(i,f){if(f&32&&t!==(t=i[5].t("Select a tool")+"")&&$(l,t),f&64){r=Qe(i[6]);let d;for(d=0;d<r.length;d+=1){const g=Xa(i,r,d);o[d]?o[d].p(g,f):(o[d]=Qa(g),o[d].c(),o[d].m(a.parentNode,a))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}},d(i){i&&(u(e),u(a)),Ut(o,i)}}}function Ja(s){let e,t=s[21].name+"",l,a;return{c(){e=h("option"),l=O(t),this.h()},l(r){e=v(r,"OPTION",{class:!0});var o=_(e);l=H(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[21].id,Ne(e,e.__value),c(e,"class","bg-gray-100 dark:bg-700")},m(r,o){P(r,e,o),n(e,l)},p(r,o){o&128&&t!==(t=r[21].name+"")&&$(l,t),o&128&&a!==(a=r[21].id)&&(e.__value=a,Ne(e,e.__value))},d(r){r&&u(e)}}}function Qa(s){let e,t=s[18].name+"",l,a;return{c(){e=h("option"),l=O(t),this.h()},l(r){e=v(r,"OPTION",{class:!0});var o=_(e);l=H(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[18].id,Ne(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,o){P(r,e,o),n(e,l)},p(r,o){o&64&&t!==(t=r[18].name+"")&&$(l,t),o&64&&a!==(a=r[18].id)&&(e.__value=a,Ne(e,e.__value))},d(r){r&&u(e)}}}function er(s){let e,t,l,a,r,o;const i=[cc,ic],f=[];function d(g,p){return g[2]?1:0}return a=d(s),r=f[a]=i[a](s),{c(){e=h("hr"),t=S(),l=h("div"),r.c(),this.h()},l(g){e=v(g,"HR",{class:!0}),t=M(g),l=v(g,"DIV",{});var p=_(l);r.l(p),p.forEach(u),this.h()},h(){c(e,"class","dark:border-gray-800 my-3 w-full")},m(g,p){P(g,e,p),P(g,t,p),P(g,l,p),f[a].m(l,null),o=!0},p(g,p){let m=a;a=d(g),a===m?f[a].p(g,p):(yt(),ae(f[m],1,1,()=>{f[m]=null}),Et(),r=f[a],r?r.p(g,p):(r=f[a]=i[a](g),r.c()),se(r,1),r.m(l,null))},i(g){o||(se(r),o=!0)},o(g){ae(r),o=!1},d(g){g&&(u(e),u(t),u(l)),f[a].d()}}}function ic(s){let e,t;return e=new Jn({props:{className:"size-5"}}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function cc(s){let e,t,l;function a(o){s[15](o)}let r={valvesSpec:s[3]};return s[4]!==void 0&&(r.valves=s[4]),e=new Qn({props:r}),vt.push(()=>It(e,"valves",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,i){const f={};i&8&&(f.valvesSpec=o[3]),!t&&i&16&&(t=!0,f.valves=o[4],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function uc(s){let e,t,l,a,r,o,i,f,d,g=s[5].t("Tools")+"",p,m,b=s[5].t("Functions")+"",w,y,E,D,T,V,I,k,C,L,Z=s[5].t("Save")+"",Y,N,F,j;r=new qt({props:{content:"",$$slots:{default:[rc]},$$scope:{ctx:s}}});function B(R,K){if(R[0]==="tools")return oc;if(R[0]==="functions")return nc}let A=B(s),x=A&&A(s),U=s[1]&&er(s);return{c(){e=h("form"),t=h("div"),l=h("div"),a=h("div"),ve(r.$$.fragment),o=S(),i=h("div"),f=h("select"),d=h("option"),p=O(g),m=h("option"),w=O(b),y=S(),E=h("div"),D=h("div"),T=h("div"),V=h("select"),x&&x.c(),I=S(),U&&U.c(),k=S(),C=h("div"),L=h("button"),Y=O(Z),this.h()},l(R){e=v(R,"FORM",{class:!0});var K=_(e);t=v(K,"DIV",{class:!0});var z=_(t);l=v(z,"DIV",{});var W=_(l);a=v(W,"DIV",{class:!0});var q=_(a);_e(r.$$.fragment,q),o=M(q),i=v(q,"DIV",{class:!0});var X=_(i);f=v(X,"SELECT",{class:!0,placeholder:!0});var J=_(f);d=v(J,"OPTION",{});var G=_(d);p=H(G,g),G.forEach(u),m=v(J,"OPTION",{});var ne=_(m);w=H(ne,b),ne.forEach(u),J.forEach(u),X.forEach(u),q.forEach(u),W.forEach(u),y=M(z),E=v(z,"DIV",{class:!0});var fe=_(E);D=v(fe,"DIV",{class:!0});var he=_(D);T=v(he,"DIV",{class:!0});var ue=_(T);V=v(ue,"SELECT",{class:!0});var De=_(V);x&&x.l(De),De.forEach(u),ue.forEach(u),he.forEach(u),fe.forEach(u),I=M(z),U&&U.l(z),z.forEach(u),k=M(K),C=v(K,"DIV",{class:!0});var Te=_(C);L=v(Te,"BUTTON",{class:!0,type:!0});var Q=_(L);Y=H(Q,Z),Q.forEach(u),Te.forEach(u),K.forEach(u),this.h()},h(){d.__value="tools",Ne(d,d.__value),m.__value="functions",Ne(m,m.__value),c(f,"class","dark:bg-gray-900 w-fit pr-8 rounded text-xs bg-transparent outline-none text-right"),c(f,"placeholder","Select"),s[0]===void 0&&Vl(()=>s[12].call(f)),c(i,"class","self-end"),c(a,"class","flex items-center justify-between mb-2"),c(V,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[1]===void 0&&Vl(()=>s[13].call(V)),c(T,"class","flex-1"),c(D,"class","flex gap-2"),c(E,"class","space-y-1"),c(t,"class","flex flex-col pr-1.5 overflow-y-scroll max-h-[25rem]"),c(L,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(L,"type","submit"),c(C,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(R,K){P(R,e,K),n(e,t),n(t,l),n(l,a),me(r,a,null),n(a,o),n(a,i),n(i,f),n(f,d),n(d,p),n(f,m),n(m,w),jt(f,s[0],!0),n(t,y),n(t,E),n(E,D),n(D,T),n(T,V),x&&x.m(V,null),jt(V,s[1],!0),n(t,I),U&&U.m(t,null),n(e,k),n(e,C),n(C,L),n(L,Y),N=!0,F||(j=[ee(f,"change",s[12]),ee(V,"change",s[13]),ee(V,"change",s[14]),ee(e,"submit",Cl(s[16]))],F=!0)},p(R,[K]){const z={};K&16777248&&(z.$$scope={dirty:K,ctx:R}),r.$set(z),(!N||K&32)&&g!==(g=R[5].t("Tools")+"")&&$(p,g),(!N||K&32)&&b!==(b=R[5].t("Functions")+"")&&$(w,b),K&1&&jt(f,R[0]),A===(A=B(R))&&x?x.p(R,K):(x&&x.d(1),x=A&&A(R),x&&(x.c(),x.m(V,null))),K&194&&jt(V,R[1]),R[1]?U?(U.p(R,K),K&2&&se(U,1)):(U=er(R),U.c(),se(U,1),U.m(t,null)):U&&(yt(),ae(U,1,1,()=>{U=null}),Et()),(!N||K&32)&&Z!==(Z=R[5].t("Save")+"")&&$(Y,Z)},i(R){N||(se(r.$$.fragment,R),se(U),N=!0)},o(R){ae(r.$$.fragment,R),ae(U),N=!1},d(R){R&&u(e),pe(r),x&&x.d(),U&&U.d(),F=!1,ct(j)}}}function fc(s,e,t){let l,a,r;Be(s,Zr,k=>t(6,a=k)),Be(s,Wr,k=>t(7,r=k));const o=hl(),i=pt("i18n");Be(s,i,k=>t(5,l=k));let{saveSettings:f}=e,d="tools",g="",p=!1,m=null,b={};const w=async()=>{var k;if(t(2,p=!0),d==="tools"?(t(4,b=await mn(localStorage.token,g)),t(3,m=await pn(localStorage.token,g))):d==="functions"&&(t(4,b=await Kn(localStorage.token,g)),t(3,m=await qn(localStorage.token,g))),m)for(const C in m.properties)((k=m.properties[C])==null?void 0:k.type)==="array"&&t(4,b[C]=(b[C]??[]).join(","),b);t(2,p=!1)},y=async()=>{var k;if(m){for(const C in m.properties)((k=m.properties[C])==null?void 0:k.type)==="array"&&t(4,b[C]=(b[C]??"").split(",").map(L=>L.trim()),b);if(d==="tools"){const C=await gn(localStorage.token,g,b).catch(L=>(Ye.error(L),null));C&&(Ye.success(l.t("Valves updated")),t(4,b=C))}else if(d==="functions"){const C=await Gn(localStorage.token,g,b).catch(L=>(Ye.error(L),null));C&&(Ye.success(l.t("Valves updated")),t(4,b=C))}}};function E(){d=Tl(this),t(0,d)}function D(){g=Tl(this),t(1,g),t(0,d)}const T=async()=>{await Hl()};function V(k){b=k,t(4,b)}const I=()=>{y(),o("save")};return s.$$set=k=>{"saveSettings"in k&&t(11,f=k.saveSettings)},s.$$.update=()=>{s.$$.dirty&1&&d&&t(1,g=""),s.$$.dirty&2&&g&&w()},[d,g,p,m,b,l,a,r,o,i,y,f,E,D,T,V,I]}class dc extends nt{constructor(e){super(),ot(this,e,fc,uc,rt,{saveSettings:11})}}function tr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,r,o=s[2].t("Admin Settings")+"",i,f,d,g;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,a=S(),r=h("div"),i=O(o),this.h()},l(p){e=v(p,"BUTTON",{class:!0});var m=_(e);t=v(m,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=M(m),r=v(m,"DIV",{class:!0});var b=_(r);i=H(b,o),b.forEach(u),m.forEach(u),this.h()},h(){c(t,"class","self-center mr-2"),c(r,"class","self-center"),c(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))},m(p,m){P(p,e,m),n(e,t),n(e,a),n(e,r),n(r,i),d||(g=ee(e,"click",s[15]),d=!0)},p(p,m){m&4&&o!==(o=p[2].t("Admin Settings")+"")&&$(i,o),m&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(p[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))&&c(e,"class",f)},d(p){p&&u(e),d=!1,g()}}}function hc(s){let e,t;return e=new Ho({}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function vc(s){let e,t;return e=new Bo({props:{saveHandler:s[22]}}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p(l,a){const r={};a&4&&(r.saveHandler=l[22]),e.$set(r)},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function _c(s){let e,t;return e=new Ni({props:{saveSettings:s[5]}}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function mc(s){let e,t;return e=new dc({props:{saveSettings:s[5]}}),e.$on("save",s[21]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function pc(s){let e,t;return e=new Vi({props:{saveSettings:s[5]}}),e.$on("save",s[20]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function gc(s){let e,t;return e=new ac({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function bc(s){let e,t;return e=new pi({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function wc(s){let e,t;return e=new Fo({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[17]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function kc(s){let e,t,l,a=s[2].t("Settings")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,g,p,m,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',y,E,D=s[2].t("General")+"",T,V,I,k,C,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',Z,Y,N=s[2].t("Interface")+"",F,j,B,A,x,U,R,K,z=s[2].t("Personalization")+"",W,q,X,J,G,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',fe,he,ue=s[2].t("Audio")+"",De,Te,Q,oe,ce,te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"></path></svg>',re,de,ge=s[2].t("Valves")+"",Ce,Me,be,Pe,ke,Re='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',Ie,Ze,le=s[2].t("Chats")+"",we,Oe,je,ye,Ve,ze='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',gt,at,st=s[2].t("Account")+"",it,ut,_t,et,Je,Vt,Dt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ge,Xe,bt=s[2].t("About")+"",Tt,dt,We,Ee,Ae,Se,$e,xt,Gt;U=new Ui({});let ht=s[3].role==="admin"&&tr(s);const Nt=[wc,bc,gc,pc,mc,_c,vc,hc],wt=[];function zt(Le,Fe){return Le[1]==="general"?0:Le[1]==="interface"?1:Le[1]==="personalization"?2:Le[1]==="audio"?3:Le[1]==="valves"?4:Le[1]==="chats"?5:Le[1]==="account"?6:Le[1]==="about"?7:-1}return~(Ae=zt(s))&&(Se=wt[Ae]=Nt[Ae](s)),{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),i.innerHTML=f,d=S(),g=h("div"),p=h("div"),m=h("button"),b=h("div"),b.innerHTML=w,y=S(),E=h("div"),T=O(D),I=S(),k=h("button"),C=h("div"),C.innerHTML=L,Z=S(),Y=h("div"),F=O(N),B=S(),A=h("button"),x=h("div"),ve(U.$$.fragment),R=S(),K=h("div"),W=O(z),X=S(),J=h("button"),G=h("div"),G.innerHTML=ne,fe=S(),he=h("div"),De=O(ue),Q=S(),oe=h("button"),ce=h("div"),ce.innerHTML=te,re=S(),de=h("div"),Ce=O(ge),be=S(),Pe=h("button"),ke=h("div"),ke.innerHTML=Re,Ie=S(),Ze=h("div"),we=O(le),je=S(),ye=h("button"),Ve=h("div"),Ve.innerHTML=ze,gt=S(),at=h("div"),it=O(st),_t=S(),ht&&ht.c(),et=S(),Je=h("button"),Vt=h("div"),Vt.innerHTML=Dt,Ge=S(),Xe=h("div"),Tt=O(bt),We=S(),Ee=h("div"),Se&&Se.c(),this.h()},l(Le){e=v(Le,"DIV",{class:!0});var Fe=_(e);t=v(Fe,"DIV",{class:!0});var Mt=_(t);l=v(Mt,"DIV",{class:!0});var Rt=_(l);r=H(Rt,a),Rt.forEach(u),o=M(Mt),i=v(Mt,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),Mt.forEach(u),d=M(Fe),g=v(Fe,"DIV",{class:!0});var At=_(g);p=v(At,"DIV",{id:!0,class:!0});var tt=_(p);m=v(tt,"BUTTON",{class:!0});var Zt=_(m);b=v(Zt,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-qy1dha"&&(b.innerHTML=w),y=M(Zt),E=v(Zt,"DIV",{class:!0});var vl=_(E);T=H(vl,D),vl.forEach(u),Zt.forEach(u),I=M(tt),k=v(tt,"BUTTON",{class:!0});var Wt=_(k);C=v(Wt,"DIV",{class:!0,"data-svelte-h":!0}),He(C)!=="svelte-16cea28"&&(C.innerHTML=L),Z=M(Wt),Y=v(Wt,"DIV",{class:!0});var Ot=_(Y);F=H(Ot,N),Ot.forEach(u),Wt.forEach(u),B=M(tt),A=v(tt,"BUTTON",{class:!0});var Qt=_(A);x=v(Qt,"DIV",{class:!0});var Ft=_(x);_e(U.$$.fragment,Ft),Ft.forEach(u),R=M(Qt),K=v(Qt,"DIV",{class:!0});var $t=_(K);W=H($t,z),$t.forEach(u),Qt.forEach(u),X=M(tt),J=v(tt,"BUTTON",{class:!0});var Lt=_(J);G=v(Lt,"DIV",{class:!0,"data-svelte-h":!0}),He(G)!=="svelte-36jwmy"&&(G.innerHTML=ne),fe=M(Lt),he=v(Lt,"DIV",{class:!0});var Yt=_(he);De=H(Yt,ue),Yt.forEach(u),Lt.forEach(u),Q=M(tt),oe=v(tt,"BUTTON",{class:!0});var Xt=_(oe);ce=v(Xt,"DIV",{class:!0,"data-svelte-h":!0}),He(ce)!=="svelte-1g1m2zy"&&(ce.innerHTML=te),re=M(Xt),de=v(Xt,"DIV",{class:!0});var gl=_(de);Ce=H(gl,ge),gl.forEach(u),Xt.forEach(u),be=M(tt),Pe=v(tt,"BUTTON",{class:!0});var Ct=_(Pe);ke=v(Ct,"DIV",{class:!0,"data-svelte-h":!0}),He(ke)!=="svelte-1gtbwe5"&&(ke.innerHTML=Re),Ie=M(Ct),Ze=v(Ct,"DIV",{class:!0});var bl=_(Ze);we=H(bl,le),bl.forEach(u),Ct.forEach(u),je=M(tt),ye=v(tt,"BUTTON",{class:!0});var Ht=_(ye);Ve=v(Ht,"DIV",{class:!0,"data-svelte-h":!0}),He(Ve)!=="svelte-amityv"&&(Ve.innerHTML=ze),gt=M(Ht),at=v(Ht,"DIV",{class:!0});var _l=_(at);it=H(_l,st),_l.forEach(u),Ht.forEach(u),_t=M(tt),ht&&ht.l(tt),et=M(tt),Je=v(tt,"BUTTON",{class:!0});var ml=_(Je);Vt=v(ml,"DIV",{class:!0,"data-svelte-h":!0}),He(Vt)!=="svelte-15t8s7e"&&(Vt.innerHTML=Dt),Ge=M(ml),Xe=v(ml,"DIV",{class:!0});var yl=_(Xe);Tt=H(yl,bt),yl.forEach(u),ml.forEach(u),tt.forEach(u),We=M(At),Ee=v(At,"DIV",{class:!0});var Sl=_(Ee);Se&&Se.l(Sl),Sl.forEach(u),At.forEach(u),Fe.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center mr-2"),c(E,"class","self-center"),c(m,"class",V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(C,"class","self-center mr-2"),c(Y,"class","self-center"),c(k,"class",j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(x,"class","self-center mr-2"),c(K,"class","self-center"),c(A,"class",q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(G,"class","self-center mr-2"),c(he,"class","self-center"),c(J,"class",Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(ce,"class","self-center mr-2"),c(de,"class","self-center"),c(oe,"class",Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="valves"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(ke,"class","self-center mr-2"),c(Ze,"class","self-center"),c(Pe,"class",Oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(Ve,"class","self-center mr-2"),c(at,"class","self-center"),c(ye,"class",ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(Vt,"class","self-center mr-2"),c(Xe,"class","self-center"),c(Je,"class",dt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(p,"id","settings-tabs-container"),c(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),c(Ee,"class","flex-1 md:min-h-[28rem]"),c(g,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),c(e,"class","text-gray-700 dark:text-gray-100")},m(Le,Fe){P(Le,e,Fe),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,d),n(e,g),n(g,p),n(p,m),n(m,b),n(m,y),n(m,E),n(E,T),n(p,I),n(p,k),n(k,C),n(k,Z),n(k,Y),n(Y,F),n(p,B),n(p,A),n(A,x),me(U,x,null),n(A,R),n(A,K),n(K,W),n(p,X),n(p,J),n(J,G),n(J,fe),n(J,he),n(he,De),n(p,Q),n(p,oe),n(oe,ce),n(oe,re),n(oe,de),n(de,Ce),n(p,be),n(p,Pe),n(Pe,ke),n(Pe,Ie),n(Pe,Ze),n(Ze,we),n(p,je),n(p,ye),n(ye,Ve),n(ye,gt),n(ye,at),n(at,it),n(p,_t),ht&&ht.m(p,null),n(p,et),n(p,Je),n(Je,Vt),n(Je,Ge),n(Je,Xe),n(Xe,Tt),n(g,We),n(g,Ee),~Ae&&wt[Ae].m(Ee,null),$e=!0,xt||(Gt=[ee(i,"click",s[7]),ee(m,"click",s[8]),ee(k,"click",s[9]),ee(A,"click",s[10]),ee(J,"click",s[11]),ee(oe,"click",s[12]),ee(Pe,"click",s[13]),ee(ye,"click",s[14]),ee(Je,"click",s[16])],xt=!0)},p(Le,Fe){(!$e||Fe&4)&&a!==(a=Le[2].t("Settings")+"")&&$(r,a),(!$e||Fe&4)&&D!==(D=Le[2].t("General")+"")&&$(T,D),(!$e||Fe&2&&V!==(V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(m,"class",V),(!$e||Fe&4)&&N!==(N=Le[2].t("Interface")+"")&&$(F,N),(!$e||Fe&2&&j!==(j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(k,"class",j),(!$e||Fe&4)&&z!==(z=Le[2].t("Personalization")+"")&&$(W,z),(!$e||Fe&2&&q!==(q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(A,"class",q),(!$e||Fe&4)&&ue!==(ue=Le[2].t("Audio")+"")&&$(De,ue),(!$e||Fe&2&&Te!==(Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(J,"class",Te),(!$e||Fe&4)&&ge!==(ge=Le[2].t("Valves")+"")&&$(Ce,ge),(!$e||Fe&2&&Me!==(Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="valves"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(oe,"class",Me),(!$e||Fe&4)&&le!==(le=Le[2].t("Chats")+"")&&$(we,le),(!$e||Fe&2&&Oe!==(Oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(Pe,"class",Oe),(!$e||Fe&4)&&st!==(st=Le[2].t("Account")+"")&&$(it,st),(!$e||Fe&2&&ut!==(ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(ye,"class",ut),Le[3].role==="admin"?ht?ht.p(Le,Fe):(ht=tr(Le),ht.c(),ht.m(p,et)):ht&&(ht.d(1),ht=null),(!$e||Fe&4)&&bt!==(bt=Le[2].t("About")+"")&&$(Tt,bt),(!$e||Fe&2&&dt!==(dt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Le[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(Je,"class",dt);let Mt=Ae;Ae=zt(Le),Ae===Mt?~Ae&&wt[Ae].p(Le,Fe):(Se&&(yt(),ae(wt[Mt],1,1,()=>{wt[Mt]=null}),Et()),~Ae?(Se=wt[Ae],Se?Se.p(Le,Fe):(Se=wt[Ae]=Nt[Ae](Le),Se.c()),se(Se,1),Se.m(Ee,null)):Se=null)},i(Le){$e||(se(U.$$.fragment,Le),se(Se),$e=!0)},o(Le){ae(U.$$.fragment,Le),ae(Se),$e=!1},d(Le){Le&&u(e),pe(U),ht&&ht.d(),~Ae&&wt[Ae].d(),xt=!1,ct(Gt)}}}function yc(s){let e,t,l;function a(o){s[23](o)}let r={$$slots:{default:[kc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Nl({props:r}),vt.push(()=>It(e,"show",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&268435471&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function Ec(s,e,t){let l,a,r;Be(s,dl,x=>t(24,l=x)),Be(s,Bl,x=>t(3,r=x));const o=pt("i18n");Be(s,o,x=>t(2,a=x));let{show:i=!1}=e;const f=async x=>{console.log(x),await dl.set({...l,...x}),await Es.set(await d()),await Ur(localStorage.token,{ui:l})},d=async()=>await Hr(localStorage.token);let g="general";const p=x=>{const U=document.getElementById("settings-tabs-container");U&&(x.preventDefault(),U.scrollLeft+=x.deltaY)},m=async()=>{await Hl();const x=document.getElementById("settings-tabs-container");x&&x.addEventListener("wheel",p)},b=async()=>{await Hl();const x=document.getElementById("settings-tabs-container");x&&x.removeEventListener("wheel",p)},w=()=>{t(0,i=!1)},y=()=>{t(1,g="general")},E=()=>{t(1,g="interface")},D=()=>{t(1,g="personalization")},T=()=>{t(1,g="audio")},V=()=>{t(1,g="valves")},I=()=>{t(1,g="chats")},k=()=>{t(1,g="account")},C=async()=>{await kl("/admin/settings"),t(0,i=!1)},L=()=>{t(1,g="about")},Z=()=>{Ye.success(a.t("Settings saved successfully!"))},Y=()=>{Ye.success(a.t("Settings saved successfully!"))},N=()=>{Ye.success(a.t("Settings saved successfully!"))},F=()=>{Ye.success(a.t("Settings saved successfully!"))},j=()=>{Ye.success(a.t("Settings saved successfully!"))},B=()=>{Ye.success(a.t("Settings saved successfully!"))};function A(x){i=x,t(0,i)}return s.$$set=x=>{"show"in x&&t(0,i=x.show)},s.$$.update=()=>{s.$$.dirty&1&&(i?m():b())},[i,g,a,r,o,f,d,w,y,E,D,T,V,I,k,C,L,Z,Y,N,F,j,B,A]}class Ic extends nt{constructor(e){super(),ot(this,e,Ec,yc,rt,{show:0})}}function lr(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Dc(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=h("div"),l=O(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","text-left text-sm w-full mb-8")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&$(l,t)},i:Ue,o:Ue,d(a){a&&u(e)}}}function Vc(s){let e,t,l,a,r,o,i,f=s[3].t("Name")+"",d,g,p,m=s[3].t("Created At")+"",b,w,y,E,D,T,V,I,k="Export All Archived Chats",C,L,Z,Y=Qe(s[2].filter(s[10])),N=[];for(let j=0;j<Y.length;j+=1)N[j]=sr(lr(s,Y,j));const F=j=>ae(N[j],1,1,()=>{N[j]=null});return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("table"),r=h("thead"),o=h("tr"),i=h("th"),d=O(f),g=S(),p=h("th"),b=O(m),w=S(),y=h("th"),E=S(),D=h("tbody");for(let j=0;j<N.length;j+=1)N[j].c();T=S(),V=h("div"),I=h("button"),I.textContent=k,this.h()},l(j){e=v(j,"DIV",{class:!0});var B=_(e);t=v(B,"DIV",{class:!0});var A=_(t);l=v(A,"DIV",{class:!0});var x=_(l);a=v(x,"TABLE",{class:!0});var U=_(a);r=v(U,"THEAD",{class:!0});var R=_(r);o=v(R,"TR",{});var K=_(o);i=v(K,"TH",{scope:!0,class:!0});var z=_(i);d=H(z,f),z.forEach(u),g=M(K),p=v(K,"TH",{scope:!0,class:!0});var W=_(p);b=H(W,m),W.forEach(u),w=M(K),y=v(K,"TH",{scope:!0,class:!0}),_(y).forEach(u),K.forEach(u),R.forEach(u),E=M(U),D=v(U,"TBODY",{});var q=_(D);for(let J=0;J<N.length;J+=1)N[J].l(q);q.forEach(u),U.forEach(u),x.forEach(u),A.forEach(u),T=M(B),V=v(B,"DIV",{class:!0});var X=_(V);I=v(X,"BUTTON",{class:!0,"data-svelte-h":!0}),He(I)!=="svelte-1kobxt8"&&(I.textContent=k),X.forEach(u),B.forEach(u),this.h()},h(){c(i,"scope","col"),c(i,"class","px-3 py-2"),c(p,"scope","col"),c(p,"class","px-3 py-2 hidden md:flex"),c(y,"scope","col"),c(y,"class","px-3 py-2 text-right"),c(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(l,"class","relative overflow-x-auto"),c(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),c(I,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(V,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),c(e,"class","w-full")},m(j,B){P(j,e,B),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,i),n(i,d),n(o,g),n(o,p),n(p,b),n(o,w),n(o,y),n(a,E),n(a,D);for(let A=0;A<N.length;A+=1)N[A]&&N[A].m(D,null);n(e,T),n(e,V),n(V,I),C=!0,L||(Z=ee(I,"click",s[13]),L=!0)},p(j,B){if((!C||B&8)&&f!==(f=j[3].t("Name")+"")&&$(d,f),(!C||B&8)&&m!==(m=j[3].t("Created At")+"")&&$(b,m),B&110){Y=Qe(j[2].filter(j[10]));let A;for(A=0;A<Y.length;A+=1){const x=lr(j,Y,A);N[A]?(N[A].p(x,B),se(N[A],1)):(N[A]=sr(x),N[A].c(),se(N[A],1),N[A].m(D,null))}for(yt(),A=Y.length;A<N.length;A+=1)F(A);Et()}},i(j){if(!C){for(let B=0;B<Y.length;B+=1)se(N[B]);C=!0}},o(j){N=N.filter(Boolean);for(let B=0;B<N.length;B+=1)ae(N[B]);C=!1},d(j){j&&u(e),Ut(N,j),L=!1,Z()}}}function Tc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function r(){return s[11](s[17])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){P(o,e,i),l||(a=ee(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Cc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[12](s[17])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){P(o,e,i),l||(a=ee(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function sr(s){let e,t,l,a,r=s[17].title+"",o,i,f,d,g,p=is(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",m,b,w,y,E,D,T,V,I,k;return E=new qt({props:{content:"Unarchive Chat",$$slots:{default:[Tc]},$$scope:{ctx:s}}}),T=new qt({props:{content:"Delete Chat",$$slots:{default:[Cc]},$$scope:{ctx:s}}}),{c(){e=h("tr"),t=h("td"),l=h("a"),a=h("div"),o=O(r),f=S(),d=h("td"),g=h("div"),m=O(p),b=S(),w=h("td"),y=h("div"),ve(E.$$.fragment),D=S(),ve(T.$$.fragment),V=S(),this.h()},l(C){e=v(C,"TR",{class:!0});var L=_(e);t=v(L,"TD",{class:!0});var Z=_(t);l=v(Z,"A",{href:!0,target:!0});var Y=_(l);a=v(Y,"DIV",{class:!0});var N=_(a);o=H(N,r),N.forEach(u),Y.forEach(u),Z.forEach(u),f=M(L),d=v(L,"TD",{class:!0});var F=_(d);g=v(F,"DIV",{class:!0});var j=_(g);m=H(j,p),j.forEach(u),F.forEach(u),b=M(L),w=v(L,"TD",{class:!0});var B=_(w);y=v(B,"DIV",{class:!0});var A=_(y);_e(E.$$.fragment,A),D=M(A),_e(T.$$.fragment,A),A.forEach(u),B.forEach(u),V=M(L),L.forEach(u),this.h()},h(){c(a,"class","underline line-clamp-1"),c(l,"href",i="/c/"+s[17].id),c(l,"target","_blank"),c(t,"class","px-3 py-1 w-2/3"),c(g,"class","my-auto"),c(d,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(y,"class","flex justify-end w-full"),c(w,"class","px-3 py-1 text-right"),c(e,"class",I="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(C,L){P(C,e,L),n(e,t),n(t,l),n(l,a),n(a,o),n(e,f),n(e,d),n(d,g),n(g,m),n(e,b),n(e,w),n(w,y),me(E,y,null),n(y,D),me(T,y,null),n(e,V),k=!0},p(C,L){(!k||L&6)&&r!==(r=C[17].title+"")&&$(o,r),(!k||L&6&&i!==(i="/c/"+C[17].id))&&c(l,"href",i),(!k||L&14)&&p!==(p=is(C[17].created_at*1e3).format(C[3].t("MMMM DD, YYYY HH:mm"))+"")&&$(m,p);const Z={};L&1048582&&(Z.$$scope={dirty:L,ctx:C}),E.$set(Z);const Y={};L&1048582&&(Y.$$scope={dirty:L,ctx:C}),T.$set(Y),(!k||L&4&&I!==(I="bg-transparent "+(C[19]!==C[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&c(e,"class",I)},i(C){k||(se(E.$$.fragment,C),se(T.$$.fragment,C),k=!0)},o(C){ae(E.$$.fragment,C),ae(T.$$.fragment,C),k=!1},d(C){C&&u(e),pe(E),pe(T)}}}function Sc(s){let e,t,l,a=s[3].t("Archived Chats")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,g,p,m,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,E,D,T,V,I,k,C,L,Z,Y,N;const F=[Vc,Dc],j=[];function B(A,x){return A[2].length>0?0:1}return C=B(s),L=j[C]=F[C](s),{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("button"),i.innerHTML=f,d=S(),g=h("div"),p=h("div"),m=h("div"),b=h("div"),b.innerHTML=w,y=S(),E=h("input"),T=S(),V=h("hr"),I=S(),k=h("div"),L.c(),this.h()},l(A){e=v(A,"DIV",{});var x=_(e);t=v(x,"DIV",{class:!0});var U=_(t);l=v(U,"DIV",{class:!0});var R=_(l);r=H(R,a),R.forEach(u),o=M(U),i=v(U,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),U.forEach(u),d=M(x),g=v(x,"DIV",{class:!0});var K=_(g);p=v(K,"DIV",{class:!0});var z=_(p);m=v(z,"DIV",{class:!0});var W=_(m);b=v(W,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-kinl2y"&&(b.innerHTML=w),y=M(W),E=v(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),z.forEach(u),T=M(K),V=v(K,"HR",{class:!0}),I=M(K),k=v(K,"DIV",{class:!0});var q=_(k);L.l(q),q.forEach(u),K.forEach(u),x.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center ml-1 mr-3"),c(E,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),c(E,"placeholder",D=s[3].t("Search Chats")),c(m,"class","flex flex-1"),c(p,"class","flex w-full mt-2 space-x-2"),c(V,"class","dark:border-gray-850 my-2"),c(k,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(A,x){P(A,e,x),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,d),n(e,g),n(g,p),n(p,m),n(m,b),n(m,y),n(m,E),Ne(E,s[1]),n(g,T),n(g,V),n(g,I),n(g,k),j[C].m(k,null),Z=!0,Y||(N=[ee(i,"click",s[8]),ee(E,"input",s[9])],Y=!0)},p(A,x){(!Z||x&8)&&a!==(a=A[3].t("Archived Chats")+"")&&$(r,a),(!Z||x&8&&D!==(D=A[3].t("Search Chats")))&&c(E,"placeholder",D),x&2&&E.value!==A[1]&&Ne(E,A[1]);let U=C;C=B(A),C===U?j[C].p(A,x):(yt(),ae(j[U],1,1,()=>{j[U]=null}),Et(),L=j[C],L?L.p(A,x):(L=j[C]=F[C](A),L.c()),se(L,1),L.m(k,null))},i(A){Z||(se(L),Z=!0)},o(A){ae(L),Z=!1},d(A){A&&u(e),j[C].d(),Y=!1,ct(N)}}}function Mc(s){let e,t,l;function a(o){s[14](o)}let r={size:"lg",$$slots:{default:[Sc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Nl({props:r}),vt.push(()=>It(e,"show",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&1048591&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function Ac(s,e,t){let l;const{saveAs:a}=ys,r=hl(),o=pt("i18n");Be(s,o,I=>t(3,l=I));let{show:i=!1}=e,f="",d=[];const g=async I=>{await $r(localStorage.token,I).catch(k=>{Ye.error(k)}),t(2,d=await ds(localStorage.token)),r("change")},p=async I=>{await Pr(localStorage.token,I).catch(k=>{Ye.error(k)}),t(2,d=await ds(localStorage.token))},m=async()=>{const I=await rn(localStorage.token);let k=new Blob([JSON.stringify(I)],{type:"application/json"});a(k,`archived-chat-export-${Date.now()}.json`)},b=()=>{t(0,i=!1)};function w(){f=this.value,t(1,f)}const y=I=>f===""||I.title.toLowerCase().includes(f.toLowerCase()),E=async I=>{g(I.id)},D=async I=>{p(I.id)},T=()=>{m()};function V(I){i=I,t(0,i)}return s.$$set=I=>{"show"in I&&t(0,i=I.show)},s.$$.update=()=>{s.$$.dirty&1&&i&&(async()=>t(2,d=await ds(localStorage.token)))()},[i,f,d,l,o,g,p,m,b,w,y,E,D,T,V]}class Lc extends nt{constructor(e){super(),ot(this,e,Ac,Mc,rt,{show:0})}}function Bc(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=qe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){P(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function xc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class Nc extends nt{constructor(e){super(),ot(this,e,xc,Bc,rt,{className:0,strokeWidth:1})}}function Oc(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=qe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){P(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function Hc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class Uc extends nt{constructor(e){super(),ot(this,e,Hc,Oc,rt,{className:0,strokeWidth:1})}}function $c(s){let e,t;return{c(){e=Ke("svg"),t=Ke("path"),this.h()},l(l){e=qe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=qe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){P(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function Pc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class jc extends nt{constructor(e){super(),ot(this,e,Pc,$c,rt,{className:0,strokeWidth:1})}}function zc(s){let e;const t=s[12].default,l=Br(t,s,s[22],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&4194304)&&xr(l,t,a,a[22],e?Or(t,a[22],r,null):Nr(a[22]),null)},i(a){e||(se(l,a),e=!0)},o(a){ae(l,a),e=!1},d(a){l&&l.d(a)}}}function Rc(s){let e,t;return e=new qt({props:{content:s[9].t("More"),$$slots:{default:[zc]},$$scope:{ctx:s}}}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p(l,a){const r={};a&512&&(r.content=l[9].t("More")),a&4194304&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Zc(s){let e,t,l,a=s[9].t("Pin")+"",r,o;return e=new Uc({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Pin")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Wc(s){let e,t,l,a=s[9].t("Unpin")+"",r,o;return e=new jc({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Unpin")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Fc(s){let e,t,l,a;const r=[Wc,Zc],o=[];function i(f,d){return f[8]?0:1}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),l=pl()},l(f){t.l(f),l=pl()},m(f,d){o[e].m(f,d),P(f,l,d),a=!0},p(f,d){let g=e;e=i(f),e===g?o[e].p(f,d):(yt(),ae(o[g],1,1,()=>{o[g]=null}),Et(),t=o[e],t?t.p(f,d):(t=o[e]=r[e](f),t.c()),se(t,1),t.m(l.parentNode,l))},i(f){a||(se(t),a=!0)},o(f){ae(t),a=!1},d(f){f&&u(l),o[e].d(f)}}}function Yc(s){let e,t,l,a=s[9].t("Rename")+"",r,o;return e=new Nc({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Rename")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Kc(s){let e,t,l,a=s[9].t("Clone")+"",r,o;return e=new so({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Clone")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function qc(s){let e,t,l,a=s[9].t("Archive")+"",r,o;return e=new Yr({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Archive")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Gc(s){let e,t,l,a=s[9].t("Share")+"",r,o;return e=new ao({}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Share")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Xc(s){let e,t,l,a=s[9].t("Delete")+"",r,o;return e=new Kr({props:{strokeWidth:"2"}}),{c(){ve(e.$$.fragment),t=S(),l=h("div"),r=O(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=v(i,"DIV",{class:!0});var f=_(l);r=H(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){me(e,i,f),P(i,t,f),P(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Delete")+"")&&$(r,a)},i(i){o||(se(e.$$.fragment,i),o=!0)},o(i){ae(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),pe(e,i)}}}function Jc(s){let e,t,l,a,r,o,i,f,d,g,p,m,b,w,y,E,D;return e=new Ll({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Fc]},$$scope:{ctx:s}}}),e.$on("click",s[13]),l=new Ll({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Yc]},$$scope:{ctx:s}}}),l.$on("click",s[14]),r=new Ll({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Kc]},$$scope:{ctx:s}}}),r.$on("click",s[15]),i=new Ll({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[qc]},$$scope:{ctx:s}}}),i.$on("click",s[16]),d=new Ll({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Gc]},$$scope:{ctx:s}}}),d.$on("click",s[17]),p=new Ll({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Xc]},$$scope:{ctx:s}}}),p.$on("click",s[18]),E=new Wn({props:{chatId:s[6]}}),E.$on("close",s[19]),{c(){ve(e.$$.fragment),t=S(),ve(l.$$.fragment),a=S(),ve(r.$$.fragment),o=S(),ve(i.$$.fragment),f=S(),ve(d.$$.fragment),g=S(),ve(p.$$.fragment),m=S(),b=h("hr"),w=S(),y=h("div"),ve(E.$$.fragment),this.h()},l(T){_e(e.$$.fragment,T),t=M(T),_e(l.$$.fragment,T),a=M(T),_e(r.$$.fragment,T),o=M(T),_e(i.$$.fragment,T),f=M(T),_e(d.$$.fragment,T),g=M(T),_e(p.$$.fragment,T),m=M(T),b=v(T,"HR",{class:!0}),w=M(T),y=v(T,"DIV",{class:!0});var V=_(y);_e(E.$$.fragment,V),V.forEach(u),this.h()},h(){c(b,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),c(y,"class","flex p-1")},m(T,V){me(e,T,V),P(T,t,V),me(l,T,V),P(T,a,V),me(r,T,V),P(T,o,V),me(i,T,V),P(T,f,V),me(d,T,V),P(T,g,V),me(p,T,V),P(T,m,V),P(T,b,V),P(T,w,V),P(T,y,V),me(E,y,null),D=!0},p(T,V){const I={};V&4195072&&(I.$$scope={dirty:V,ctx:T}),e.$set(I);const k={};V&4194816&&(k.$$scope={dirty:V,ctx:T}),l.$set(k);const C={};V&4194816&&(C.$$scope={dirty:V,ctx:T}),r.$set(C);const L={};V&4194816&&(L.$$scope={dirty:V,ctx:T}),i.$set(L);const Z={};V&4194816&&(Z.$$scope={dirty:V,ctx:T}),d.$set(Z);const Y={};V&4194816&&(Y.$$scope={dirty:V,ctx:T}),p.$set(Y);const N={};V&64&&(N.chatId=T[6]),E.$set(N)},i(T){D||(se(e.$$.fragment,T),se(l.$$.fragment,T),se(r.$$.fragment,T),se(i.$$.fragment,T),se(d.$$.fragment,T),se(p.$$.fragment,T),se(E.$$.fragment,T),D=!0)},o(T){ae(e.$$.fragment,T),ae(l.$$.fragment,T),ae(r.$$.fragment,T),ae(i.$$.fragment,T),ae(d.$$.fragment,T),ae(p.$$.fragment,T),ae(E.$$.fragment,T),D=!1},d(T){T&&(u(t),u(a),u(o),u(f),u(g),u(m),u(b),u(w),u(y)),pe(e,T),pe(l,T),pe(r,T),pe(i,T),pe(d,T),pe(p,T),pe(E)}}}function Qc(s){let e,t,l;return t=new to({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:lo,$$slots:{default:[Jc]},$$scope:{ctx:s}}}),{c(){e=h("div"),ve(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{slot:!0});var r=_(e);_e(t.$$.fragment,r),r.forEach(u),this.h()},h(){c(e,"slot","content")},m(a,r){P(a,e,r),me(t,e,null),l=!0},p(a,r){const o={};r&4195327&&(o.$$scope={dirty:r,ctx:a}),t.$set(o)},i(a){l||(se(t.$$.fragment,a),l=!0)},o(a){ae(t.$$.fragment,a),l=!1},d(a){a&&u(e),pe(t)}}}function eu(s){let e,t,l;function a(o){s[20](o)}let r={$$slots:{content:[Qc],default:[Rc]},$$scope:{ctx:s}};return s[7]!==void 0&&(r.show=s[7]),e=new eo({props:r}),vt.push(()=>It(e,"show",a)),e.$on("change",s[21]),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&4195327&&(f.$$scope={dirty:i,ctx:o}),!t&&i&128&&(t=!0,f.show=o[7],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function tu(s,e,t){let l,{$$slots:a={},$$scope:r}=e;const o=hl(),i=pt("i18n");Be(s,i,j=>t(9,l=j));let{shareHandler:f}=e,{cloneChatHandler:d}=e,{archiveChatHandler:g}=e,{renameHandler:p}=e,{deleteHandler:m}=e,{onClose:b}=e,{chatId:w=""}=e,y=!1,E=!1;const D=async()=>{E?await cn(localStorage.token,w,"pinned"):await nn(localStorage.token,w,"pinned"),o("change")},T=async()=>{t(8,E=(await on(localStorage.token,w).catch(async j=>[])).find(j=>j.name==="pinned"))},V=()=>{D()},I=()=>{p()},k=()=>{d()},C=()=>{g()},L=()=>{f()},Z=()=>{m()},Y=()=>{t(7,y=!1),b()};function N(j){y=j,t(7,y)}const F=j=>{j.detail===!1&&b()};return s.$$set=j=>{"shareHandler"in j&&t(0,f=j.shareHandler),"cloneChatHandler"in j&&t(1,d=j.cloneChatHandler),"archiveChatHandler"in j&&t(2,g=j.archiveChatHandler),"renameHandler"in j&&t(3,p=j.renameHandler),"deleteHandler"in j&&t(4,m=j.deleteHandler),"onClose"in j&&t(5,b=j.onClose),"chatId"in j&&t(6,w=j.chatId),"$$scope"in j&&t(22,r=j.$$scope)},s.$$.update=()=>{s.$$.dirty&128&&y&&T()},[f,d,g,p,m,b,w,y,E,l,i,D,a,V,I,k,C,L,Z,Y,N,F,r]}class lu extends nt{constructor(e){super(),ot(this,e,tu,eu,rt,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function su(s){let e,t,l,a=s[0].title+"",r,o,i,f,d;return{c(){e=h("a"),t=h("div"),l=h("div"),r=O(a),this.h()},l(g){e=v(g,"A",{class:!0,href:!0,draggable:!0});var p=_(e);t=v(p,"DIV",{class:!0});var m=_(t);l=v(m,"DIV",{class:!0});var b=_(l);r=H(b,a),b.forEach(u),m.forEach(u),p.forEach(u),this.h()},h(){c(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),c(t,"class","flex self-center flex-1 w-full"),c(e,"class",o="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[8]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),c(e,"href",i="/c/"+s[0].id),c(e,"draggable","false")},m(g,p){P(g,e,p),n(e,t),n(t,l),n(l,r),f||(d=[ee(e,"click",s[18]),ee(e,"dblclick",s[19]),ee(e,"mouseenter",s[20]),ee(e,"mouseleave",s[21]),ee(e,"focus",vu)],f=!0)},p(g,p){p[0]&1&&a!==(a=g[0].title+"")&&$(r,a),p[0]&291&&o!==(o="w-full flex justify-between rounded-xl px-3 py-2 "+(g[0].id===g[8]||g[5]?"bg-gray-200 dark:bg-gray-900":g[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",o),p[0]&1&&i!==(i="/c/"+g[0].id)&&c(e,"href",i)},d(g){g&&u(e),f=!1,ct(d)}}}function au(s){let e,t,l,a,r;return{c(){e=h("div"),t=h("input"),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=_(e);t=v(i,"INPUT",{class:!0}),i.forEach(u),this.h()},h(){c(t,"class","bg-transparent w-full outline-none mr-10"),c(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[8]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(o,i){P(o,e,i),n(e,t),Ne(t,s[6]),a||(r=[Jr(s[15].call(null,t)),ee(t,"input",s[17])],a=!0)},p(o,i){i[0]&64&&t.value!==o[6]&&Ne(t,o[6]),i[0]&291&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(o[0].id===o[8]||o[5]?"bg-gray-200 dark:bg-gray-900":o[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",l)},d(o){o&&u(e),a=!1,ct(r)}}}function ru(s){let e,t,l,a;t=new lu({props:{chatId:s[0].id,cloneChatHandler:s[27],shareHandler:s[28],archiveChatHandler:s[29],renameHandler:s[30],deleteHandler:s[31],onClose:s[32],$$slots:{default:[iu]},$$scope:{ctx:s}}}),t.$on("change",s[33]);let r=s[0].id===s[8]&&ar(s);return{c(){e=h("div"),ve(t.$$.fragment),l=S(),r&&r.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=_(e);_e(t.$$.fragment,i),l=M(i),r&&r.l(i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1 z-10")},m(o,i){P(o,e,i),me(t,e,null),n(e,l),r&&r.m(e,null),a=!0},p(o,i){const f={};i[0]&1&&(f.chatId=o[0].id),i[0]&1&&(f.cloneChatHandler=o[27]),i[0]&16&&(f.shareHandler=o[28]),i[0]&1&&(f.archiveChatHandler=o[29]),i[0]&97&&(f.renameHandler=o[30]),i[1]&64&&(f.$$scope={dirty:i,ctx:o}),t.$set(f),o[0].id===o[8]?r?r.p(o,i):(r=ar(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){a||(se(t.$$.fragment,o),a=!0)},o(o){ae(t.$$.fragment,o),a=!1},d(o){o&&u(e),pe(t),r&&r.d()}}}function nu(s){let e,t,l,a,r;return t=new qt({props:{content:s[7].t("Archive"),className:"flex items-center",$$slots:{default:[cu]},$$scope:{ctx:s}}}),a=new qt({props:{content:s[7].t("Delete"),$$slots:{default:[uu]},$$scope:{ctx:s}}}),{c(){e=h("div"),ve(t.$$.fragment),l=S(),ve(a.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=_(e);_e(t.$$.fragment,i),l=M(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex items-center self-center space-x-1.5")},m(o,i){P(o,e,i),me(t,e,null),n(e,l),me(a,e,null),r=!0},p(o,i){const f={};i[0]&128&&(f.content=o[7].t("Archive")),i[0]&1|i[1]&64&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const d={};i[0]&128&&(d.content=o[7].t("Delete")),i[1]&64&&(d.$$scope={dirty:i,ctx:o}),a.$set(d)},i(o){r||(se(t.$$.fragment,o),se(a.$$.fragment,o),r=!0)},o(o){ae(t.$$.fragment,o),ae(a.$$.fragment,o),r=!1},d(o){o&&u(e),pe(t),pe(a)}}}function ou(s){let e,t,l,a,r;return t=new qt({props:{content:s[7].t("Confirm"),$$slots:{default:[fu]},$$scope:{ctx:s}}}),a=new qt({props:{content:s[7].t("Cancel"),$$slots:{default:[du]},$$scope:{ctx:s}}}),{c(){e=h("div"),ve(t.$$.fragment),l=S(),ve(a.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=_(e);_e(t.$$.fragment,i),l=M(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1.5 z-10")},m(o,i){P(o,e,i),me(t,e,null),n(e,l),me(a,e,null),r=!0},p(o,i){const f={};i[0]&128&&(f.content=o[7].t("Confirm")),i[0]&97|i[1]&64&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const d={};i[0]&128&&(d.content=o[7].t("Cancel")),i[0]&96|i[1]&64&&(d.$$scope={dirty:i,ctx:o}),a.$set(d)},i(o){r||(se(t.$$.fragment,o),se(a.$$.fragment,o),r=!0)},o(o){ae(t.$$.fragment,o),ae(a.$$.fragment,o),r=!1},d(o){o&&u(e),pe(t),pe(a)}}}function iu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){c(e,"aria-label","Chat Menu"),c(e,"class","self-center dark:hover:text-white transition")},m(r,o){P(r,e,o),l||(a=ee(e,"click",s[26]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function ar(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-17232xf"&&(e.innerHTML=t),this.h()},h(){c(e,"id","delete-chat-button"),c(e,"class","hidden")},m(r,o){P(r,e,o),l||(a=ee(e,"click",s[34]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function cu(s){let e,t,l,a,r;return t=new Yr({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=h("button"),ve(t.$$.fragment),this.h()},l(o){e=v(o,"BUTTON",{class:!0,type:!0});var i=_(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){P(o,e,i),me(t,e,null),l=!0,a||(r=ee(e,"click",s[24]),a=!0)},p:Ue,i(o){l||(se(t.$$.fragment,o),l=!0)},o(o){ae(t.$$.fragment,o),l=!1},d(o){o&&u(e),pe(t),a=!1,r()}}}function uu(s){let e,t,l,a,r;return t=new Kr({props:{strokeWidth:"2"}}),{c(){e=h("button"),ve(t.$$.fragment),this.h()},l(o){e=v(o,"BUTTON",{class:!0,type:!0});var i=_(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){P(o,e,i),me(t,e,null),l=!0,a||(r=ee(e,"click",s[25]),a=!0)},p:Ue,i(o){l||(se(t.$$.fragment,o),l=!0)},o(o){ae(t.$$.fragment,o),l=!1},d(o){o&&u(e),pe(t),a=!1,r()}}}function fu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-15k98vn"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){P(r,e,o),l||(a=ee(e,"click",s[22]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function du(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',l,a;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-19qct0m"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){P(r,e,o),l||(a=ee(e,"click",s[23]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function hu(s){let e,t,l,a,r,o,i,f,d,g,p,m;function b(k){s[16](k)}let w={chatId:s[0].id};s[4]!==void 0&&(w.show=s[4]),e=new Fn({props:w}),vt.push(()=>It(e,"show",b));function y(k,C){return k[5]?au:su}let E=y(s),D=E(s);const T=[ou,nu,ru],V=[];function I(k,C){return k[5]?0:k[2]&&k[3]?1:2}return i=I(s),f=V[i]=T[i](s),{c(){ve(e.$$.fragment),l=S(),a=h("div"),D.c(),r=S(),o=h("div"),f.c(),this.h()},l(k){_e(e.$$.fragment,k),l=M(k),a=v(k,"DIV",{class:!0});var C=_(a);D.l(C),r=M(C),o=v(C,"DIV",{class:!0});var L=_(o);f.l(L),L.forEach(u),C.forEach(u),this.h()},h(){c(o,"class",d=(s[0].id===s[8]||s[5]?"from-gray-200 dark:from-gray-900":s[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),c(a,"class","w-full pr-2 relative group")},m(k,C){me(e,k,C),P(k,l,C),P(k,a,C),D.m(a,null),n(a,r),n(a,o),V[i].m(o,null),g=!0,p||(m=[ee(o,"mouseenter",s[35]),ee(o,"mouseleave",s[36])],p=!0)},p(k,C){const L={};C[0]&1&&(L.chatId=k[0].id),!t&&C[0]&16&&(t=!0,L.show=k[4],kt(()=>t=!1)),e.$set(L),E===(E=y(k))&&D?D.p(k,C):(D.d(1),D=E(k),D&&(D.c(),D.m(a,r)));let Z=i;i=I(k),i===Z?V[i].p(k,C):(yt(),ae(V[Z],1,1,()=>{V[Z]=null}),Et(),f=V[i],f?f.p(k,C):(f=V[i]=T[i](k),f.c()),se(f,1),f.m(o,null)),(!g||C[0]&291&&d!==(d=(k[0].id===k[8]||k[5]?"from-gray-200 dark:from-gray-900":k[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&c(o,"class",d)},i(k){g||(se(e.$$.fragment,k),se(f),g=!0)},o(k){ae(e.$$.fragment,k),ae(f),g=!1},d(k){k&&(u(l),u(a)),pe(e,k),D.d(),V[i].d(),p=!1,ct(m)}}}const vu=s=>{};function _u(s,e,t){let l,a,r;Be(s,ns,G=>t(8,a=G)),Be(s,gs,G=>t(9,r=G));const o=pt("i18n");Be(s,o,G=>t(7,l=G));const i=hl();let{chat:f}=e,{selected:d=!1}=e,{shiftKey:g=!1}=e,p=!1,m=!1,b=!1,w=f.title;const y=async(G,ne)=>{ne===""?Ye.error(l.t("Title cannot be an empty string.")):(await un(localStorage.token,G,{title:ne}),await Kt.set(await fl(localStorage.token)),await Dl.set(await Il(localStorage.token,"pinned")))},E=async G=>{const ne=await fn(localStorage.token,G).catch(fe=>(Ye.error(fe),null));ne&&(kl(`/c/${ne.id}`),await Kt.set(await fl(localStorage.token)),await Dl.set(await Il(localStorage.token,"pinned")))},D=async G=>{await $r(localStorage.token,G),await Kt.set(await fl(localStorage.token)),await Dl.set(await Il(localStorage.token,"pinned"))},T=async G=>{G.focus()};function V(G){m=G,t(4,m)}function I(){w=this.value,t(6,w)}const k=()=>{i("select"),r&&ul.set(!1)},C=()=>{t(6,w=f.title),t(5,b=!0)},L=G=>{t(3,p=!0)},Z=G=>{t(3,p=!1)},Y=()=>{y(f.id,w),t(5,b=!1),t(6,w="")},N=()=>{t(5,b=!1),t(6,w="")},F=()=>{D(f.id)},j=()=>{i("delete","shift")},B=()=>{i("select")},A=()=>{E(f.id)},x=()=>{t(4,m=!0)},U=()=>{D(f.id)},R=()=>{t(6,w=f.title),t(5,b=!0)},K=()=>{i("delete")},z=()=>{i("unselect")},W=async()=>{await Dl.set(await Il(localStorage.token,"pinned"))},q=()=>{i("delete")},X=G=>{t(3,p=!0)},J=G=>{t(3,p=!1)};return s.$$set=G=>{"chat"in G&&t(0,f=G.chat),"selected"in G&&t(1,d=G.selected),"shiftKey"in G&&t(2,g=G.shiftKey)},[f,d,g,p,m,b,w,l,a,r,o,i,y,E,D,T,V,I,k,C,L,Z,Y,N,F,j,B,A,x,U,R,K,z,W,q,X,J]}class Xr extends nt{constructor(e){super(),ot(this,e,_u,hu,rt,{chat:0,selected:1,shiftKey:2},null,[-1,-1])}}function rr(s,e,t){const l=s.slice();return l[44]=e[t],l[46]=t,l}function nr(s,e,t){const l=s.slice();return l[44]=e[t],l[46]=t,l}function or(s,e,t){const l=s.slice();return l[48]=e[t],l}function mu(s){let e,t=s[12].t("This will delete")+"",l,a,r,o=s[5].title+"",i,f;return{c(){e=h("div"),l=O(t),a=S(),r=h("span"),i=O(o),f=O("."),this.h()},l(d){e=v(d,"DIV",{class:!0});var g=_(e);l=H(g,t),a=M(g),r=v(g,"SPAN",{class:!0});var p=_(r);i=H(p,o),p.forEach(u),f=H(g,"."),g.forEach(u),this.h()},h(){c(r,"class","font-semibold"),c(e,"class","text-sm text-gray-500")},m(d,g){P(d,e,g),n(e,l),n(e,a),n(e,r),n(r,i),n(e,f)},p(d,g){g[0]&4096&&t!==(t=d[12].t("This will delete")+"")&&$(l,t),g[0]&32&&o!==(o=d[5].title+"")&&$(i,o)},d(d){d&&u(e)}}}function ir(s){let e,t,l;return{c(){e=h("div"),this.h()},l(a){e=v(a,"DIV",{class:!0}),_(e).forEach(u),this.h()},h(){c(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,r){P(a,e,r),t||(l=ee(e,"mousedown",s[25]),t=!0)},p:Ue,d(a){a&&u(e),t=!1,l()}}}function cr(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,o,i,f=s[12].t("Workspace")+"",d,g,p;return{c(){e=h("div"),t=h("a"),l=h("div"),l.innerHTML=a,r=S(),o=h("div"),i=h("div"),d=O(f),this.h()},l(m){e=v(m,"DIV",{class:!0});var b=_(e);t=v(b,"A",{class:!0,href:!0,draggable:!0});var w=_(t);l=v(w,"DIV",{class:!0,"data-svelte-h":!0}),He(l)!=="svelte-zod9jr"&&(l.innerHTML=a),r=M(w),o=v(w,"DIV",{class:!0});var y=_(o);i=v(y,"DIV",{class:!0});var E=_(i);d=H(E,f),E.forEach(u),y.forEach(u),w.forEach(u),b.forEach(u),this.h()},h(){c(l,"class","self-center"),c(i,"class","self-center font-medium text-sm font-primary"),c(o,"class","flex self-center"),c(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(t,"href","/workspace"),c(t,"draggable","false"),c(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(m,b){P(m,e,b),n(e,t),n(t,l),n(t,r),n(t,o),n(o,i),n(i,d),g||(p=ee(t,"click",s[28]),g=!0)},p(m,b){b[0]&4096&&f!==(f=m[12].t("Workspace")+"")&&$(d,f)},d(m){m&&u(e),g=!1,p()}}}function ur(s){let e,t,l,a=s[12].t("Chat History is off for this browser.")+"",r,o,i,f=s[12].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",d,g,p,m=s[12].t("This setting does not sync across browsers or devices.")+"",b,w,y,E,D,T,V,I,k=s[12].t("Enable Chat History")+"",C,L,Z;return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=h("div"),d=O(f),g=S(),p=h("span"),b=O(m),w=S(),y=h("div"),E=h("button"),D=Ke("svg"),T=Ke("path"),V=S(),I=h("div"),C=O(k),this.h()},l(Y){e=v(Y,"DIV",{class:!0});var N=_(e);t=v(N,"DIV",{class:!0});var F=_(t);l=v(F,"DIV",{class:!0});var j=_(l);r=H(j,a),j.forEach(u),o=M(F),i=v(F,"DIV",{class:!0});var B=_(i);d=H(B,f),g=M(B),p=v(B,"SPAN",{class:!0});var A=_(p);b=H(A,m),A.forEach(u),B.forEach(u),w=M(F),y=v(F,"DIV",{class:!0});var x=_(y);E=v(x,"BUTTON",{class:!0,type:!0});var U=_(E);D=qe(U,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var R=_(D);T=qe(R,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(T).forEach(u),R.forEach(u),V=M(U),I=v(U,"DIV",{});var K=_(I);C=H(K,k),K.forEach(u),U.forEach(u),x.forEach(u),F.forEach(u),N.forEach(u),this.h()},h(){c(l,"class","font-medium"),c(p,"class","font-semibold"),c(i,"class","text-xs mt-2"),c(T,"fill-rule","evenodd"),c(T,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),c(T,"clip-rule","evenodd"),c(D,"xmlns","http://www.w3.org/2000/svg"),c(D,"viewBox","0 0 16 16"),c(D,"fill","currentColor"),c(D,"class","w-3 h-3"),c(E,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),c(E,"type","button"),c(y,"class","mt-3"),c(t,"class","text-left px-5 py-2"),c(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(Y,N){P(Y,e,N),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,d),n(i,g),n(i,p),n(p,b),n(t,w),n(t,y),n(y,E),n(E,D),n(D,T),n(E,V),n(E,I),n(I,C),L||(Z=ee(E,"click",s[29]),L=!0)},p(Y,N){N[0]&4096&&a!==(a=Y[12].t("Chat History is off for this browser.")+"")&&$(r,a),N[0]&4096&&f!==(f=Y[12].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&$(d,f),N[0]&4096&&m!==(m=Y[12].t("This setting does not sync across browsers or devices.")+"")&&$(b,m),N[0]&4096&&k!==(k=Y[12].t("Enable Chat History")+"")&&$(C,k)},d(Y){Y&&u(e),L=!1,Z()}}}function fr(s){let e,t,l=s[12].t("all")+"",a,r,o,i,f=Qe(s[15].filter(br)),d=[];for(let g=0;g<f.length;g+=1)d[g]=dr(or(s,f,g));return{c(){e=h("div"),t=h("button"),a=O(l),r=S();for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=v(g,"DIV",{class:!0});var p=_(e);t=v(p,"BUTTON",{class:!0});var m=_(t);a=H(m,l),m.forEach(u),r=M(p);for(let b=0;b<d.length;b+=1)d[b].l(p);p.forEach(u),this.h()},h(){c(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),c(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(g,p){P(g,e,p),n(e,t),n(t,a),n(e,r);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(e,null);o||(i=ee(t,"click",s[32]),o=!0)},p(g,p){if(p[0]&4096&&l!==(l=g[12].t("all")+"")&&$(a,l),p[0]&32768){f=Qe(g[15].filter(br));let m;for(m=0;m<f.length;m+=1){const b=or(g,f,m);d[m]?d[m].p(b,p):(d[m]=dr(b),d[m].c(),d[m].m(e,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=f.length}},d(g){g&&u(e),Ut(d,g),o=!1,i()}}}function dr(s){let e,t=s[48].name+"",l,a,r,o;function i(){return s[33](s[48])}return{c(){e=h("button"),l=O(t),a=S(),this.h()},l(f){e=v(f,"BUTTON",{class:!0});var d=_(e);l=H(d,t),a=M(d),d.forEach(u),this.h()},h(){c(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,d){P(f,e,d),n(e,l),n(e,a),r||(o=ee(e,"click",i),r=!0)},p(f,d){s=f,d[0]&32768&&t!==(t=s[48].name+"")&&$(l,t)},d(f){f&&u(e),r=!1,o()}}}function hr(s){let e,t,l,a=s[12].t("Pinned")+"",r,o,i,f=Qe(s[16]),d=[];for(let p=0;p<f.length;p+=1)d[p]=vr(nr(s,f,p));const g=p=>ae(d[p],1,1,()=>{d[p]=null});return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S();for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=v(p,"DIV",{class:!0});var m=_(e);t=v(m,"DIV",{class:!0});var b=_(t);l=v(b,"DIV",{class:!0});var w=_(l);r=H(w,a),w.forEach(u),o=M(b);for(let y=0;y<d.length;y+=1)d[y].l(b);b.forEach(u),m.forEach(u),this.h()},h(){c(l,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium pb-1.5"),c(t,"class",""),c(e,"class","pl-2 py-2 flex flex-col space-y-1")},m(p,m){P(p,e,m),n(e,t),n(t,l),n(l,r),n(t,o);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(t,null);i=!0},p(p,m){if((!i||m[0]&4096)&&a!==(a=p[12].t("Pinned")+"")&&$(r,a),m[0]&1114232){f=Qe(p[16]);let b;for(b=0;b<f.length;b+=1){const w=nr(p,f,b);d[b]?(d[b].p(w,m),se(d[b],1)):(d[b]=vr(w),d[b].c(),se(d[b],1),d[b].m(t,null))}for(yt(),b=f.length;b<d.length;b+=1)g(b);Et()}},i(p){if(!i){for(let m=0;m<f.length;m+=1)se(d[m]);i=!0}},o(p){d=d.filter(Boolean);for(let m=0;m<d.length;m+=1)ae(d[m]);i=!1},d(p){p&&u(e),Ut(d,p)}}}function vr(s){let e,t;function l(){return s[34](s[44])}function a(...r){return s[36](s[44],...r)}return e=new Xr({props:{chat:s[44],shiftKey:s[3],selected:s[4]===s[44].id}}),e.$on("select",l),e.$on("unselect",s[35]),e.$on("delete",a),{c(){ve(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,o){me(e,r,o),t=!0},p(r,o){s=r;const i={};o[0]&65536&&(i.chat=s[44]),o[0]&8&&(i.shiftKey=s[3]),o[0]&65552&&(i.selected=s[4]===s[44].id),e.$set(i)},i(r){t||(se(e.$$.fragment,r),t=!0)},o(r){ae(e.$$.fragment,r),t=!1},d(r){pe(e,r)}}}function _r(s){let e,t=s[12].t(s[44].time_range)+"",l;return{c(){e=h("div"),l=O(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var r=_(e);l=H(r,t),r.forEach(u),this.h()},h(){c(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[46]===0?"":"pt-5")+" pb-0.5")},m(a,r){P(a,e,r),n(e,l)},p(a,r){r[0]&4352&&t!==(t=a[12].t(a[44].time_range)+"")&&$(l,t)},d(a){a&&u(e)}}}function mr(s){let e,t,l,a=(s[46]===0||s[46]>0&&s[44].time_range!==s[8][s[46]-1].time_range)&&_r(s);function r(){return s[37](s[44])}function o(...i){return s[39](s[44],...i)}return t=new Xr({props:{chat:s[44],shiftKey:s[3],selected:s[4]===s[44].id}}),t.$on("select",r),t.$on("unselect",s[38]),t.$on("delete",o),{c(){a&&a.c(),e=S(),ve(t.$$.fragment)},l(i){a&&a.l(i),e=M(i),_e(t.$$.fragment,i)},m(i,f){a&&a.m(i,f),P(i,e,f),me(t,i,f),l=!0},p(i,f){s=i,s[46]===0||s[46]>0&&s[44].time_range!==s[8][s[46]-1].time_range?a?a.p(s,f):(a=_r(s),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const d={};f[0]&256&&(d.chat=s[44]),f[0]&8&&(d.shiftKey=s[3]),f[0]&272&&(d.selected=s[4]===s[44].id),t.$set(d)},i(i){l||(se(t.$$.fragment,i),l=!0)},o(i){ae(t.$$.fragment,i),l=!1},d(i){i&&u(e),a&&a.d(i),pe(t,i)}}}function pr(s){let e,t;return e=new Yn({props:{role:s[14].role,$$slots:{default:[pu]},$$scope:{ctx:s}}}),e.$on("show",s[41]),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p(l,a){const r={};a[0]&16384&&(r.role=l[14].role),a[0]&16512|a[1]&1048576&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function pu(s){let e,t,l,a,r,o,i=s[14].name+"",f,d,g;return{c(){e=h("button"),t=h("div"),l=h("img"),r=S(),o=h("div"),f=O(i),this.h()},l(p){e=v(p,"BUTTON",{class:!0});var m=_(e);t=v(m,"DIV",{class:!0});var b=_(t);l=v(b,"IMG",{src:!0,class:!0,alt:!0}),b.forEach(u),r=M(m),o=v(m,"DIV",{class:!0});var w=_(o);f=H(w,i),w.forEach(u),m.forEach(u),this.h()},h(){os(l.src,a=s[14].profile_image_url)||c(l,"src",a),c(l,"class","max-w-[30px] object-cover rounded-full"),c(l,"alt","User profile"),c(t,"class","self-center mr-3"),c(o,"class","self-center font-medium"),c(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(p,m){P(p,e,m),n(e,t),n(t,l),n(e,r),n(e,o),n(o,f),d||(g=ee(e,"click",s[40]),d=!0)},p(p,m){m[0]&16384&&!os(l.src,a=p[14].profile_image_url)&&c(l,"src",a),m[0]&16384&&i!==(i=p[14].name+"")&&$(f,i)},d(p){p&&u(e),d=!1,g()}}}function gu(s){var Ze;let e,t,l,a,r,o,i,f,d,g,p,m,b=`<img crossorigin="anonymous" src="${En}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,w,y,E=s[12].t("New Chat")+"",D,T,V,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',k,C,L='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',Z,Y,N,F,j,B,A,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',U,R,K,z,W=s[15].filter(gr).length>0,q,X,J,G,ne,fe,he,ue,De,Te,Q;function oe(le){s[21](le)}let ce={};s[11]!==void 0&&(ce.show=s[11]),e=new Lc({props:ce}),vt.push(()=>It(e,"show",oe)),e.$on("change",s[22]);function te(le){s[23](le)}let re={title:s[12].t("Delete chat?"),$$slots:{default:[mu]},$$scope:{ctx:s}};s[6]!==void 0&&(re.show=s[6]),a=new ro({props:re}),vt.push(()=>It(a,"show",te)),a.$on("confirm",s[24]);let de=s[10]&&ir(s),ge=((Ze=s[14])==null?void 0:Ze.role)==="admin"&&cr(s),Ce=!(s[9].saveChatHistory??!0)&&ur(s),Me=W&&fr(s),be=s[16].length>0&&hr(s),Pe=Qe(s[8]),ke=[];for(let le=0;le<Pe.length;le+=1)ke[le]=mr(rr(s,Pe,le));const Re=le=>ae(ke[le],1,1,()=>{ke[le]=null});let Ie=s[14]!==void 0&&pr(s);return{c(){ve(e.$$.fragment),l=S(),ve(a.$$.fragment),o=S(),de&&de.c(),i=S(),f=h("div"),d=h("div"),g=h("div"),p=h("a"),m=h("div"),m.innerHTML=b,w=S(),y=h("div"),D=O(E),T=S(),V=h("div"),V.innerHTML=I,k=S(),C=h("button"),C.innerHTML=L,Z=S(),ge&&ge.c(),Y=S(),N=h("div"),Ce&&Ce.c(),F=S(),j=h("div"),B=h("div"),A=h("div"),A.innerHTML=x,U=S(),R=h("input"),z=S(),Me&&Me.c(),q=S(),be&&be.c(),X=S(),J=h("div");for(let le=0;le<ke.length;le+=1)ke[le].c();G=S(),ne=h("div"),fe=h("div"),Ie&&Ie.c(),this.h()},l(le){_e(e.$$.fragment,le),l=M(le),_e(a.$$.fragment,le),o=M(le),de&&de.l(le),i=M(le),f=v(le,"DIV",{id:!0,class:!0,"data-state":!0});var we=_(f);d=v(we,"DIV",{class:!0});var Oe=_(d);g=v(Oe,"DIV",{class:!0});var je=_(g);p=v(je,"A",{id:!0,class:!0,href:!0,draggable:!0});var ye=_(p);m=v(ye,"DIV",{class:!0,"data-svelte-h":!0}),He(m)!=="svelte-r2hfwb"&&(m.innerHTML=b),w=M(ye),y=v(ye,"DIV",{class:!0});var Ve=_(y);D=H(Ve,E),Ve.forEach(u),T=M(ye),V=v(ye,"DIV",{class:!0,"data-svelte-h":!0}),He(V)!=="svelte-aq723q"&&(V.innerHTML=I),ye.forEach(u),k=M(je),C=v(je,"BUTTON",{class:!0,"data-svelte-h":!0}),He(C)!=="svelte-bwmtc9"&&(C.innerHTML=L),je.forEach(u),Z=M(Oe),ge&&ge.l(Oe),Y=M(Oe),N=v(Oe,"DIV",{class:!0});var ze=_(N);Ce&&Ce.l(ze),F=M(ze),j=v(ze,"DIV",{class:!0});var gt=_(j);B=v(gt,"DIV",{class:!0,id:!0});var at=_(B);A=v(at,"DIV",{class:!0,"data-svelte-h":!0}),He(A)!=="svelte-1yg7etj"&&(A.innerHTML=x),U=M(at),R=v(at,"INPUT",{class:!0,placeholder:!0}),at.forEach(u),gt.forEach(u),z=M(ze),Me&&Me.l(ze),q=M(ze),be&&be.l(ze),X=M(ze),J=v(ze,"DIV",{class:!0});var st=_(J);for(let _t=0;_t<ke.length;_t+=1)ke[_t].l(st);st.forEach(u),ze.forEach(u),G=M(Oe),ne=v(Oe,"DIV",{class:!0});var it=_(ne);fe=v(it,"DIV",{class:!0});var ut=_(fe);Ie&&Ie.l(ut),ut.forEach(u),it.forEach(u),Oe.forEach(u),we.forEach(u),this.h()},h(){c(m,"class","self-center mx-1.5"),c(y,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),c(V,"class","self-center ml-auto"),c(p,"id","sidebar-new-chat-button"),c(p,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),c(p,"href","/"),c(p,"draggable","false"),c(C,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),c(g,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),c(A,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),c(R,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),c(R,"placeholder",K=s[12].t("Search")),c(B,"class","flex w-full rounded-xl"),c(B,"id","chat-search"),c(j,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),c(J,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),c(N,"class","relative flex flex-col flex-1 overflow-y-auto"),c(fe,"class","flex flex-col font-primary"),c(ne,"class","px-2.5"),c(d,"class",he="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[10]?"":"invisible")),c(f,"id","sidebar"),c(f,"class",ue="h-screen max-h-[100dvh] min-h-screen select-none "+(s[10]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),c(f,"data-state",s[10])},m(le,we){me(e,le,we),P(le,l,we),me(a,le,we),P(le,o,we),de&&de.m(le,we),P(le,i,we),P(le,f,we),n(f,d),n(d,g),n(g,p),n(p,m),n(p,w),n(p,y),n(y,D),n(p,T),n(p,V),n(g,k),n(g,C),n(d,Z),ge&&ge.m(d,null),n(d,Y),n(d,N),Ce&&Ce.m(N,null),n(N,F),n(N,j),n(j,B),n(B,A),n(B,U),n(B,R),Ne(R,s[0]),n(N,z),Me&&Me.m(N,null),n(N,q),be&&be.m(N,null),n(N,X),n(N,J);for(let Oe=0;Oe<ke.length;Oe+=1)ke[Oe]&&ke[Oe].m(J,null);n(d,G),n(d,ne),n(ne,fe),Ie&&Ie.m(fe,null),s[42](f),De=!0,Te||(Q=[ee(p,"click",s[26]),ee(C,"click",s[27]),ee(R,"input",s[30]),ee(R,"focus",s[31])],Te=!0)},p(le,we){var ye;const Oe={};!t&&we[0]&2048&&(t=!0,Oe.show=le[11],kt(()=>t=!1)),e.$set(Oe);const je={};if(we[0]&4096&&(je.title=le[12].t("Delete chat?")),we[0]&4128|we[1]&1048576&&(je.$$scope={dirty:we,ctx:le}),!r&&we[0]&64&&(r=!0,je.show=le[6],kt(()=>r=!1)),a.$set(je),le[10]?de?de.p(le,we):(de=ir(le),de.c(),de.m(i.parentNode,i)):de&&(de.d(1),de=null),(!De||we[0]&4096)&&E!==(E=le[12].t("New Chat")+"")&&$(D,E),((ye=le[14])==null?void 0:ye.role)==="admin"?ge?ge.p(le,we):(ge=cr(le),ge.c(),ge.m(d,Y)):ge&&(ge.d(1),ge=null),le[9].saveChatHistory??!0?Ce&&(Ce.d(1),Ce=null):Ce?Ce.p(le,we):(Ce=ur(le),Ce.c(),Ce.m(N,F)),(!De||we[0]&4096&&K!==(K=le[12].t("Search")))&&c(R,"placeholder",K),we[0]&1&&R.value!==le[0]&&Ne(R,le[0]),we[0]&32768&&(W=le[15].filter(gr).length>0),W?Me?Me.p(le,we):(Me=fr(le),Me.c(),Me.m(N,q)):Me&&(Me.d(1),Me=null),le[16].length>0?be?(be.p(le,we),we[0]&65536&&se(be,1)):(be=hr(le),be.c(),se(be,1),be.m(N,X)):be&&(yt(),ae(be,1,1,()=>{be=null}),Et()),we[0]&1053048){Pe=Qe(le[8]);let Ve;for(Ve=0;Ve<Pe.length;Ve+=1){const ze=rr(le,Pe,Ve);ke[Ve]?(ke[Ve].p(ze,we),se(ke[Ve],1)):(ke[Ve]=mr(ze),ke[Ve].c(),se(ke[Ve],1),ke[Ve].m(J,null))}for(yt(),Ve=Pe.length;Ve<ke.length;Ve+=1)Re(Ve);Et()}le[14]!==void 0?Ie?(Ie.p(le,we),we[0]&16384&&se(Ie,1)):(Ie=pr(le),Ie.c(),se(Ie,1),Ie.m(fe,null)):Ie&&(yt(),ae(Ie,1,1,()=>{Ie=null}),Et()),(!De||we[0]&1024&&he!==(he="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(le[10]?"":"invisible")))&&c(d,"class",he),(!De||we[0]&1024&&ue!==(ue="h-screen max-h-[100dvh] min-h-screen select-none "+(le[10]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&c(f,"class",ue),(!De||we[0]&1024)&&c(f,"data-state",le[10])},i(le){if(!De){se(e.$$.fragment,le),se(a.$$.fragment,le),se(be);for(let we=0;we<Pe.length;we+=1)se(ke[we]);se(Ie),De=!0}},o(le){ae(e.$$.fragment,le),ae(a.$$.fragment,le),ae(be),ke=ke.filter(Boolean);for(let we=0;we<ke.length;we+=1)ae(ke[we]);ae(Ie),De=!1},d(le){le&&(u(l),u(o),u(i),u(f)),pe(e,le),pe(a,le),de&&de.d(le),ge&&ge.d(),Ce&&Ce.d(),Me&&Me.d(),be&&be.d(),Ut(ke,le),Ie&&Ie.d(),s[42](null),Te=!1,ct(Q)}}}const bu=768,gr=s=>s.name!=="pinned",br=s=>s.name!=="pinned";function wu(s,e,t){let l,a,r,o,i,f,d,g,p,m;Be(s,ns,Q=>t(43,l=Q)),Be(s,dl,Q=>t(9,a=Q)),Be(s,ul,Q=>t(10,r=Q)),Be(s,Kt,Q=>t(1,o=Q)),Be(s,hs,Q=>t(11,i=Q)),Be(s,gs,Q=>t(13,d=Q)),Be(s,Bl,Q=>t(14,g=Q)),Be(s,bs,Q=>t(15,p=Q)),Be(s,Dl,Q=>t(16,m=Q));const b=pt("i18n");Be(s,b,Q=>t(12,f=Q));let w,y="",E=!1,D=null,T=null,V=!1,I=!1,k=[];Jt(async()=>{gs.subscribe(be=>{r&&be&&ul.set(!1),!r&&!be&&ul.set(!0)}),ul.set(window.innerWidth>bu),await Dl.set(await Il(localStorage.token,"pinned")),await Kt.set(await fl(localStorage.token));let Q,oe;function ce(){const be=window.innerWidth,Pe=Math.abs(oe.screenX-Q.screenX);Q.clientX<40&&Pe>=be/8&&(oe.screenX<Q.screenX&&ul.set(!1),oe.screenX>Q.screenX&&ul.set(!0))}const te=be=>{Q=be.changedTouches[0],console.log(Q.clientX)},re=be=>{oe=be.changedTouches[0],ce()},de=be=>{be.key==="Shift"&&t(3,E=!0)},ge=be=>{be.key==="Shift"&&t(3,E=!1)},Ce=()=>{},Me=()=>{t(3,E=!1),t(4,D=null)};return window.addEventListener("keydown",de),window.addEventListener("keyup",ge),window.addEventListener("touchstart",te),window.addEventListener("touchend",re),window.addEventListener("focus",Ce),window.addEventListener("blur",Me),()=>{window.removeEventListener("keydown",de),window.removeEventListener("keyup",ge),window.removeEventListener("touchstart",te),window.removeEventListener("touchend",re),window.removeEventListener("focus",Ce),window.removeEventListener("blur",Me)}});const C=async Q=>{const oe=await Promise.all(Q.map(async ce=>{const te=await dn(localStorage.token,ce.id).catch(re=>null);return te&&(ce.chat=te.chat),ce}));await Kt.set(oe)},L=async Q=>{await dl.set({...a,...Q}),await Ur(localStorage.token,{ui:a}),location.href="/"},Z=async Q=>{await Pr(localStorage.token,Q).catch(ce=>(Ye.error(ce),null))&&(l===Q&&(await ns.set(""),await Hl(),kl("/")),await Kt.set(await fl(localStorage.token)),await Dl.set(await Il(localStorage.token,"pinned")))};function Y(Q){i=Q,hs.set(i)}const N=async()=>{await Kt.set(await fl(localStorage.token))};function F(Q){V=Q,t(6,V)}const j=()=>{Z(T.id)},B=()=>{ul.set(!r)},A=async()=>{t(4,D=null),await kl("/");const Q=document.getElementById("new-chat-button");setTimeout(()=>{Q==null||Q.click(),d&&ul.set(!1)},0)},x=()=>{ul.set(!r)},U=()=>{t(4,D=null),ns.set(""),d&&ul.set(!1)},R=()=>{L({saveChatHistory:!0})};function K(){y=this.value,t(0,y)}const z=()=>{C(o)},W=async()=>{await Kt.set(await fl(localStorage.token))},q=async Q=>{let oe=await Il(localStorage.token,Q.name);oe.length===0&&(await bs.set(await jr(localStorage.token)),oe=await fl(localStorage.token)),await Kt.set(oe)},X=Q=>{t(4,D=Q.id)},J=()=>{t(4,D=null)},G=(Q,oe)=>{((oe==null?void 0:oe.detail)??"")==="shift"?Z(Q.id):(t(5,T=Q),t(6,V=!0))},ne=Q=>{t(4,D=Q.id)},fe=()=>{t(4,D=null)},he=(Q,oe)=>{((oe==null?void 0:oe.detail)??"")==="shift"?Z(Q.id):(t(5,T=Q),t(6,V=!0))},ue=()=>{t(7,I=!I)},De=Q=>{Q.detail==="archived-chat"&&hs.set(!0)};function Te(Q){vt[Q?"unshift":"push"](()=>{w=Q,t(2,w)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(8,k=o.filter(Q=>{if(y==="")return!0;{let oe=Q.title.toLowerCase();const ce=y.toLowerCase();let te=!1;return Q.chat&&Q.chat.messages&&Array.isArray(Q.chat.messages)&&(te=Q.chat.messages.some(re=>re.content&&re.content.toLowerCase().includes(ce))),oe.includes(ce)||te}}))},[y,o,w,E,D,T,V,I,k,a,r,i,f,d,g,p,m,b,C,L,Z,Y,N,F,j,B,A,x,U,R,K,z,W,q,X,J,G,ne,fe,he,ue,De,Te]}class ku extends nt{constructor(e){super(),ot(this,e,wu,gu,rt,{},null,[-1,-1])}}function wr(s,e,t){const l=s.slice();return l[18]=e[t],l}function kr(s){let e,t=Qe({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=yr(wr(s,t,a));return{c(){e=h("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var r=_(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){c(e,"class","confetti-holder svelte-io58ff"),Al(e,"rounded",s[9]),Al(e,"cone",s[10]),Al(e,"no-gravity",s[11])},m(a,r){P(a,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(a,r){if(r&20991){t=Qe({length:a[6]});let o;for(o=0;o<t.length;o+=1){const i=wr(a,t,o);l[o]?l[o].p(i,r):(l[o]=yr(i),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}r&512&&Al(e,"rounded",a[9]),r&1024&&Al(e,"cone",a[10]),r&2048&&Al(e,"no-gravity",a[11])},d(a){a&&u(e),Ut(l,a)}}}function yr(s){let e;return{c(){e=h("div"),this.h()},l(t){e=v(t,"DIV",{class:!0,style:!0}),_(e).forEach(u),this.h()},h(){c(e,"class","confetti svelte-io58ff"),mt(e,"--fall-distance",s[8]),mt(e,"--size",s[0]+"px"),mt(e,"--color",s[14]()),mt(e,"--skew",Pt(-45,45)+"deg,"+Pt(-45,45)+"deg"),mt(e,"--rotation-xyz",Pt(-10,10)+", "+Pt(-10,10)+", "+Pt(-10,10)),mt(e,"--rotation-deg",Pt(0,360)+"deg"),mt(e,"--translate-y-multiplier",Pt(s[2][0],s[2][1])),mt(e,"--translate-x-multiplier",Pt(s[1][0],s[1][1])),mt(e,"--scale",.1*Pt(2,10)),mt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),mt(e,"--transition-delay",Pt(s[5][0],s[5][1])+"ms"),mt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),mt(e,"--x-spread",1-s[12])},m(t,l){P(t,e,l)},p(t,l){l&256&&mt(e,"--fall-distance",t[8]),l&1&&mt(e,"--size",t[0]+"px"),l&4&&mt(e,"--translate-y-multiplier",Pt(t[2][0],t[2][1])),l&2&&mt(e,"--translate-x-multiplier",Pt(t[1][0],t[1][1])),l&24&&mt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&mt(e,"--transition-delay",Pt(t[5][0],t[5][1])+"ms"),l&144&&mt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&mt(e,"--x-spread",1-t[12])},d(t){t&&u(e)}}}function yu(s){let e,t=!s[13]&&kr(s);return{c(){t&&t.c(),e=pl()},l(l){t&&t.l(l),e=pl()},m(l,a){t&&t.m(l,a),P(l,e,a)},p(l,[a]){l[13]?t&&(t.d(1),t=null):t?t.p(l,a):(t=kr(l),t.c(),t.m(e.parentNode,e))},i:Ue,o:Ue,d(l){l&&u(e),t&&t.d(l)}}}function Pt(s,e){return Math.random()*(e-s)+s}function Eu(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:o=2e3}=e,{infinite:i=!1}=e,{delay:f=[0,50]}=e,{colorRange:d=[0,360]}=e,{colorArray:g=[]}=e,{amount:p=50}=e,{iterationCount:m=1}=e,{fallDistance:b="100px"}=e,{rounded:w=!1}=e,{cone:y=!1}=e,{noGravity:E=!1}=e,{xSpread:D=.15}=e,{destroyOnComplete:T=!0}=e,V=!1;Jt(()=>{!T||i||m=="infinite"||setTimeout(()=>t(13,V=!0),(o+f[1])*m)});function I(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(Pt(d[0],d[1]))}, 75%, 50%)`}return s.$$set=k=>{"size"in k&&t(0,l=k.size),"x"in k&&t(1,a=k.x),"y"in k&&t(2,r=k.y),"duration"in k&&t(3,o=k.duration),"infinite"in k&&t(4,i=k.infinite),"delay"in k&&t(5,f=k.delay),"colorRange"in k&&t(15,d=k.colorRange),"colorArray"in k&&t(16,g=k.colorArray),"amount"in k&&t(6,p=k.amount),"iterationCount"in k&&t(7,m=k.iterationCount),"fallDistance"in k&&t(8,b=k.fallDistance),"rounded"in k&&t(9,w=k.rounded),"cone"in k&&t(10,y=k.cone),"noGravity"in k&&t(11,E=k.noGravity),"xSpread"in k&&t(12,D=k.xSpread),"destroyOnComplete"in k&&t(17,T=k.destroyOnComplete)},[l,a,r,o,i,f,p,m,b,w,y,E,D,V,I,d,g,T]}class Iu extends nt{constructor(e){super(),ot(this,e,Eu,yu,rt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function Er(s,e,t){const l=s.slice();return l[9]=e[t],l}function Ir(s,e,t){const l=s.slice();return l[12]=e[t],l}function Dr(s,e,t){const l=s.slice();return l[15]=e[t],l}function Vr(s){let e,t=Qe(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=Sr(Er(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pl()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=pl()},m(a,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,r);P(a,e,r)},p(a,r){if(r&2){t=Qe(Object.keys(a[1]));let o;for(o=0;o<t.length;o+=1){const i=Er(a,t,o);l[o]?l[o].p(i,r):(l[o]=Sr(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&u(e),Ut(l,a)}}}function Tr(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,r,o,i=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=h("div"),t=h("div"),a=O(l),r=S(),o=h("div"),f=O(i),this.h()},l(d){e=v(d,"DIV",{class:!0});var g=_(e);t=v(g,"DIV",{class:!0});var p=_(t);a=H(p,l),p.forEach(u),r=M(g),o=v(g,"DIV",{class:!0});var m=_(o);f=H(m,i),m.forEach(u),g.forEach(u),this.h()},h(){c(t,"class","font-semibold uppercase"),c(o,"class","mb-2 mt-1"),c(e,"class","text-sm mb-2")},m(d,g){P(d,e,g),n(e,t),n(t,a),n(e,r),n(e,o),n(o,f)},p(d,g){g&2&&l!==(l=d[1][d[9]][d[12]][d[15]].title+"")&&$(a,l),g&2&&i!==(i=d[1][d[9]][d[12]][d[15]].content+"")&&$(f,i)},d(d){d&&u(e)}}}function Cr(s){let e,t,l=s[12]+"",a,r,o,i,f=Qe(Object.keys(s[1][s[9]][s[12]])),d=[];for(let g=0;g<f.length;g+=1)d[g]=Tr(Dr(s,f,g));return{c(){e=h("div"),t=h("div"),a=O(l),o=S(),i=h("div");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=v(g,"DIV",{class:!0});var p=_(e);t=v(p,"DIV",{class:!0});var m=_(t);a=H(m,l),m.forEach(u),o=M(p),i=v(p,"DIV",{class:!0});var b=_(i);for(let w=0;w<d.length;w+=1)d[w].l(b);b.forEach(u),p.forEach(u),this.h()},h(){c(t,"class",r="font-semibold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),c(i,"class","my-2.5 px-1.5"),c(e,"class","")},m(g,p){P(g,e,p),n(e,t),n(t,a),n(e,o),n(e,i);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(i,null)},p(g,p){if(p&2&&l!==(l=g[12]+"")&&$(a,l),p&2&&r!==(r="font-semibold uppercase text-xs "+(g[12]==="added"?"text-white bg-blue-600":g[12]==="fixed"?"text-white bg-green-600":g[12]==="changed"?"text-white bg-yellow-600":g[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&c(t,"class",r),p&2){f=Qe(Object.keys(g[1][g[9]][g[12]]));let m;for(m=0;m<f.length;m+=1){const b=Dr(g,f,m);d[m]?d[m].p(b,p):(d[m]=Tr(b),d[m].c(),d[m].m(i,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=f.length}},d(g){g&&u(e),Ut(d,g)}}}function Sr(s){let e,t,l,a=s[9]+"",r,o,i=s[1][s[9]].date+"",f,d,g,p,m,b=Qe(Object.keys(s[1][s[9]]).filter(Mr)),w=[];for(let y=0;y<b.length;y+=1)w[y]=Cr(Ir(s,b,y));return{c(){e=h("div"),t=h("div"),l=O("v"),r=O(a),o=O(" - "),f=O(i),d=S(),g=h("hr"),p=S();for(let y=0;y<w.length;y+=1)w[y].c();m=S(),this.h()},l(y){e=v(y,"DIV",{class:!0});var E=_(e);t=v(E,"DIV",{class:!0});var D=_(t);l=H(D,"v"),r=H(D,a),o=H(D," - "),f=H(D,i),D.forEach(u),d=M(E),g=v(E,"HR",{class:!0}),p=M(E);for(let T=0;T<w.length;T+=1)w[T].l(E);m=M(E),E.forEach(u),this.h()},h(){c(t,"class","font-semibold text-xl mb-1 dark:text-white"),c(g,"class","dark:border-gray-800 my-2"),c(e,"class","mb-3 pr-2")},m(y,E){P(y,e,E),n(e,t),n(t,l),n(t,r),n(t,o),n(t,f),n(e,d),n(e,g),n(e,p);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(e,null);n(e,m)},p(y,E){if(E&2&&a!==(a=y[9]+"")&&$(r,a),E&2&&i!==(i=y[1][y[9]].date+"")&&$(f,i),E&2){b=Qe(Object.keys(y[1][y[9]]).filter(Mr));let D;for(D=0;D<b.length;D+=1){const T=Ir(y,b,D);w[D]?w[D].p(T,E):(w[D]=Cr(T),w[D].c(),w[D].m(e,m))}for(;D<w.length;D+=1)w[D].d(1);w.length=b.length}},d(y){y&&u(e),Ut(w,y)}}}function Du(s){let e,t,l,a=s[2].t("Whatâ€™s New in")+"",r,o,i,f,d,g,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,w,y,E=s[2].t("Release Notes")+"",D,T,V,I,k,C,L,Z,Y,N,F,j,B,A,x,U=s[2].t("Okay, Let's Go!")+"",R,K,z,W;d=new Iu({props:{x:[-1,-.25],y:[0,.5]}});let q=s[1]&&Vr(s);return{c(){e=h("div"),t=h("div"),l=h("div"),r=O(a),o=S(),i=O(s[3]),f=S(),ve(d.$$.fragment),g=S(),p=h("button"),p.innerHTML=m,b=S(),w=h("div"),y=h("div"),D=O(E),T=S(),V=h("div"),I=S(),k=h("div"),C=O("v"),L=O(xl),Z=S(),Y=h("div"),N=h("div"),F=h("div"),q&&q.c(),j=S(),B=h("div"),A=h("button"),x=h("span"),R=O(U),this.h()},l(X){e=v(X,"DIV",{class:!0});var J=_(e);t=v(J,"DIV",{class:!0});var G=_(t);l=v(G,"DIV",{class:!0});var ne=_(l);r=H(ne,a),o=M(ne),i=H(ne,s[3]),f=M(ne),_e(d.$$.fragment,ne),ne.forEach(u),g=M(G),p=v(G,"BUTTON",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-14wj4tl"&&(p.innerHTML=m),G.forEach(u),b=M(J),w=v(J,"DIV",{class:!0});var fe=_(w);y=v(fe,"DIV",{class:!0});var he=_(y);D=H(he,E),he.forEach(u),T=M(fe),V=v(fe,"DIV",{class:!0}),_(V).forEach(u),I=M(fe),k=v(fe,"DIV",{class:!0});var ue=_(k);C=H(ue,"v"),L=H(ue,xl),ue.forEach(u),fe.forEach(u),J.forEach(u),Z=M(X),Y=v(X,"DIV",{class:!0});var De=_(Y);N=v(De,"DIV",{class:!0});var Te=_(N);F=v(Te,"DIV",{class:!0});var Q=_(F);q&&q.l(Q),Q.forEach(u),Te.forEach(u),j=M(De),B=v(De,"DIV",{class:!0});var oe=_(B);A=v(oe,"BUTTON",{class:!0});var ce=_(A);x=v(ce,"SPAN",{class:!0});var te=_(x);R=H(te,U),te.forEach(u),ce.forEach(u),oe.forEach(u),De.forEach(u),this.h()},h(){c(l,"class","text-xl font-semibold"),c(p,"class","self-center"),c(t,"class","flex justify-between items-start"),c(y,"class","text-sm dark:text-gray-200"),c(V,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),c(k,"class","text-sm dark:text-gray-200"),c(w,"class","flex items-center mt-1"),c(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),c(F,"class","mb-3"),c(N,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),c(x,"class","relative"),c(A,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(B,"class","flex justify-end pt-3 text-sm font-medium"),c(Y,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(X,J){P(X,e,J),n(e,t),n(t,l),n(l,r),n(l,o),n(l,i),n(l,f),me(d,l,null),n(t,g),n(t,p),n(e,b),n(e,w),n(w,y),n(y,D),n(w,T),n(w,V),n(w,I),n(w,k),n(k,C),n(k,L),P(X,Z,J),P(X,Y,J),n(Y,N),n(N,F),q&&q.m(F,null),n(Y,j),n(Y,B),n(B,A),n(A,x),n(x,R),K=!0,z||(W=[ee(p,"click",s[6]),ee(A,"click",s[7])],z=!0)},p(X,J){(!K||J&4)&&a!==(a=X[2].t("Whatâ€™s New in")+"")&&$(r,a),(!K||J&8)&&$(i,X[3]),(!K||J&4)&&E!==(E=X[2].t("Release Notes")+"")&&$(D,E),X[1]?q?q.p(X,J):(q=Vr(X),q.c(),q.m(F,null)):q&&(q.d(1),q=null),(!K||J&4)&&U!==(U=X[2].t("Okay, Let's Go!")+"")&&$(R,U)},i(X){K||(se(d.$$.fragment,X),K=!0)},o(X){ae(d.$$.fragment,X),K=!1},d(X){X&&(u(e),u(Z),u(Y)),pe(d),q&&q.d(),z=!1,ct(W)}}}function Vu(s){let e,t,l;function a(o){s[8](o)}let r={$$slots:{default:[Du]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Nl({props:r}),vt.push(()=>It(e,"show",a)),{c(){ve(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){me(e,o,i),l=!0},p(o,[i]){const f={};i&262175&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],kt(()=>t=!1)),e.$set(f)},i(o){l||(se(e.$$.fragment,o),l=!0)},o(o){ae(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}const Mr=s=>s!=="date";function Tu(s,e,t){let l,a,r;Be(s,Rr,m=>t(3,a=m)),Be(s,cs,m=>t(4,r=m));const o=pt("i18n");Be(s,o,m=>t(2,l=m));let{show:i=!1}=e,f=null;Jt(async()=>{const m=await en();t(1,f=m)});const d=()=>{localStorage.version=r.version,t(0,i=!1)},g=()=>{localStorage.version=r.version,t(0,i=!1)};function p(m){i=m,t(0,i)}return s.$$set=m=>{"show"in m&&t(0,i=m.show)},[i,f,l,a,r,o,d,g,p]}class Cu extends nt{constructor(e){super(),ot(this,e,Tu,Vu,rt,{show:0})}}function Ar(s){let e,t,l=s[1].t("Admin")+"",a,r,o=s[0].name+"",i,f,d=s[0].email+"",g,p;return{c(){e=h("div"),t=h("div"),a=O(l),r=O(": "),i=O(o),f=O(" ("),g=O(d),p=O(")"),this.h()},l(m){e=v(m,"DIV",{class:!0});var b=_(e);t=v(b,"DIV",{});var w=_(t);a=H(w,l),r=H(w,": "),i=H(w,o),f=H(w," ("),g=H(w,d),p=H(w,")"),w.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","mt-4 text-sm font-medium text-center")},m(m,b){P(m,e,b),n(e,t),n(t,a),n(t,r),n(t,i),n(t,f),n(t,g),n(t,p)},p(m,b){b&2&&l!==(l=m[1].t("Admin")+"")&&$(a,l),b&1&&o!==(o=m[0].name+"")&&$(i,o),b&1&&d!==(d=m[0].email+"")&&$(g,d)},d(m){m&&u(e)}}}function Su(s){let e,t,l,a,r,o=s[1].t("Account Activation Pending")+"",i,f,d,g=s[1].t("Contact Admin for WebUI Access")+"",p,m,b,w=s[1].t("Your account status is currently pending activation.")+"",y,E,D,T=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",V,I,k,C,L,Z=s[1].t("Check Again")+"",Y,N,F,j=s[1].t("Sign Out")+"",B,A,x,U=s[0]&&Ar(s);return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),r=h("div"),i=O(o),f=h("br"),d=S(),p=O(g),m=S(),b=h("div"),y=O(w),E=h("br"),D=S(),V=O(T),I=S(),U&&U.c(),k=S(),C=h("div"),L=h("button"),Y=O(Z),N=S(),F=h("button"),B=O(j),this.h()},l(R){e=v(R,"DIV",{class:!0});var K=_(e);t=v(K,"DIV",{class:!0});var z=_(t);l=v(z,"DIV",{class:!0});var W=_(l);a=v(W,"DIV",{class:!0});var q=_(a);r=v(q,"DIV",{class:!0});var X=_(r);i=H(X,o),f=v(X,"BR",{}),d=M(X),p=H(X,g),X.forEach(u),m=M(q),b=v(q,"DIV",{class:!0});var J=_(b);y=H(J,w),E=v(J,"BR",{}),D=M(J),V=H(J,T),J.forEach(u),I=M(q),U&&U.l(q),k=M(q),C=v(q,"DIV",{class:!0});var G=_(C);L=v(G,"BUTTON",{class:!0});var ne=_(L);Y=H(ne,Z),ne.forEach(u),N=M(G),F=v(G,"BUTTON",{class:!0});var fe=_(F);B=H(fe,j),fe.forEach(u),G.forEach(u),q.forEach(u),W.forEach(u),z.forEach(u),K.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(b,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(L,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),c(F,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(C,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-10 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-[999]")},m(R,K){P(R,e,K),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(r,f),n(r,d),n(r,p),n(a,m),n(a,b),n(b,y),n(b,E),n(b,D),n(b,V),n(a,I),U&&U.m(a,null),n(a,k),n(a,C),n(C,L),n(L,Y),n(C,N),n(C,F),n(F,B),A||(x=[ee(L,"click",s[3]),ee(F,"click",s[4])],A=!0)},p(R,[K]){K&2&&o!==(o=R[1].t("Account Activation Pending")+"")&&$(i,o),K&2&&g!==(g=R[1].t("Contact Admin for WebUI Access")+"")&&$(p,g),K&2&&w!==(w=R[1].t("Your account status is currently pending activation.")+"")&&$(y,w),K&2&&T!==(T=R[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&$(V,T),R[0]?U?U.p(R,K):(U=Ar(R),U.c(),U.m(a,k)):U&&(U.d(1),U=null),K&2&&Z!==(Z=R[1].t("Check Again")+"")&&$(Y,Z),K&2&&j!==(j=R[1].t("Sign Out")+"")&&$(B,j)},i:Ue,o:Ue,d(R){R&&u(e),U&&U.d(),A=!1,ct(x)}}}function Mu(s,e,t){let l;const a=pt("i18n");Be(s,a,f=>t(1,l=f));let r=null;return Jt(async()=>{t(0,r=await An(localStorage.token).catch(f=>(console.error(f),null)))}),[r,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Au extends nt{constructor(e){super(),ot(this,e,Mu,Su,rt,{})}}function Lr(s){let e,t,l,a,r,o,i;const f=[Bu,Lu],d=[];function g(b,w){return w&8&&(e=null),e==null&&(e=!["user","admin"].includes(b[3].role)),e?0:b[2].length>0?1:-1}~(t=g(s,-1))&&(l=d[t]=f[t](s)),r=new ku({});const p=s[10].default,m=Br(p,s,s[9],null);return{c(){l&&l.c(),a=S(),ve(r.$$.fragment),o=S(),m&&m.c()},l(b){l&&l.l(b),a=M(b),_e(r.$$.fragment,b),o=M(b),m&&m.l(b)},m(b,w){~t&&d[t].m(b,w),P(b,a,w),me(r,b,w),P(b,o,w),m&&m.m(b,w),i=!0},p(b,w){let y=t;t=g(b,w),t===y?~t&&d[t].p(b,w):(l&&(yt(),ae(d[y],1,1,()=>{d[y]=null}),Et()),~t?(l=d[t],l?l.p(b,w):(l=d[t]=f[t](b),l.c()),se(l,1),l.m(a.parentNode,a)):l=null),m&&m.p&&(!i||w&512)&&xr(m,p,b,b[9],i?Or(p,b[9],w,null):Nr(b[9]),null)},i(b){i||(se(l),se(r.$$.fragment,b),se(m,b),i=!0)},o(b){ae(l),ae(r.$$.fragment,b),ae(m,b),i=!1},d(b){b&&(u(a),u(o)),~t&&d[t].d(b),pe(r,b),m&&m.d(b)}}}function Lu(s){let e,t,l,a,r,o="Important Update<br/> Action Required for Chat Log Storage",i,f,d=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",g,p,m,b=s[6].t("Settings")+"",w,y,E=s[6].t("Chats")+"",D,T,V=s[6].t("Import Chats")+"",I,k,C=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",L,Z,Y,N,F="Download & Delete",j,B,A=s[6].t("Close")+"",x,U,R;return{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),r=h("div"),r.innerHTML=o,i=S(),f=h("div"),g=O(d),p=S(),m=h("span"),w=O(b),y=O(" > "),D=O(E),T=O(" > "),I=O(V),k=O(". "),L=O(C),Z=S(),Y=h("div"),N=h("button"),N.textContent=F,j=S(),B=h("button"),x=O(A),this.h()},l(K){e=v(K,"DIV",{class:!0});var z=_(e);t=v(z,"DIV",{class:!0});var W=_(t);l=v(W,"DIV",{class:!0});var q=_(l);a=v(q,"DIV",{class:!0});var X=_(a);r=v(X,"DIV",{class:!0,"data-svelte-h":!0}),He(r)!=="svelte-mnqwc6"&&(r.innerHTML=o),i=M(X),f=v(X,"DIV",{class:!0});var J=_(f);g=H(J,d),p=M(J),m=v(J,"SPAN",{class:!0});var G=_(m);w=H(G,b),y=H(G," > "),D=H(G,E),T=H(G," > "),I=H(G,V),G.forEach(u),k=H(J,". "),L=H(J,C),J.forEach(u),Z=M(X),Y=v(X,"DIV",{class:!0});var ne=_(Y);N=v(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),He(N)!=="svelte-1ia8i9q"&&(N.textContent=F),j=M(ne),B=v(ne,"BUTTON",{class:!0});var fe=_(B);x=H(fe,A),fe.forEach(u),ne.forEach(u),X.forEach(u),q.forEach(u),W.forEach(u),z.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(m,"class","font-semibold dark:text-white"),c(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(N,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),c(B,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(Y,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-44 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-50")},m(K,z){P(K,e,z),n(e,t),n(t,l),n(l,a),n(a,r),n(a,i),n(a,f),n(f,g),n(f,p),n(f,m),n(m,w),n(m,y),n(m,D),n(m,T),n(m,I),n(f,k),n(f,L),n(a,Z),n(a,Y),n(Y,N),n(Y,j),n(Y,B),n(B,x),U||(R=[ee(N,"click",s[13]),ee(B,"click",s[14])],U=!0)},p(K,z){z&64&&d!==(d=K[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&$(g,d),z&64&&b!==(b=K[6].t("Settings")+"")&&$(w,b),z&64&&E!==(E=K[6].t("Chats")+"")&&$(D,E),z&64&&V!==(V=K[6].t("Import Chats")+"")&&$(I,V),z&64&&C!==(C=K[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&$(L,C),z&64&&A!==(A=K[6].t("Close")+"")&&$(x,A)},i:Ue,o:Ue,d(K){K&&u(e),U=!1,ct(R)}}}function Bu(s){let e,t;return e=new Au({}),{c(){ve(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){me(e,l,a),t=!0},p:Ue,i(l){t||(se(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function xu(s){let e,t,l,a,r,o,i,f,d;function g(y){s[11](y)}let p={};s[4]!==void 0&&(p.show=s[4]),e=new Ic({props:p}),vt.push(()=>It(e,"show",g));function m(y){s[12](y)}let b={};s[5]!==void 0&&(b.show=s[5]),a=new Cu({props:b}),vt.push(()=>It(a,"show",m));let w=s[0]&&Lr(s);return{c(){ve(e.$$.fragment),l=S(),ve(a.$$.fragment),o=S(),i=h("div"),f=h("div"),w&&w.c(),this.h()},l(y){_e(e.$$.fragment,y),l=M(y),_e(a.$$.fragment,y),o=M(y),i=v(y,"DIV",{class:!0});var E=_(i);f=v(E,"DIV",{class:!0});var D=_(f);w&&w.l(D),D.forEach(u),E.forEach(u),this.h()},h(){c(f,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),c(i,"class","app relative")},m(y,E){me(e,y,E),P(y,l,E),me(a,y,E),P(y,o,E),P(y,i,E),n(i,f),w&&w.m(f,null),d=!0},p(y,[E]){const D={};!t&&E&16&&(t=!0,D.show=y[4],kt(()=>t=!1)),e.$set(D);const T={};!r&&E&32&&(r=!0,T.show=y[5],kt(()=>r=!1)),a.$set(T),y[0]?w?(w.p(y,E),E&1&&se(w,1)):(w=Lr(y),w.c(),se(w,1),w.m(f,null)):w&&(yt(),ae(w,1,1,()=>{w=null}),Et())},i(y){d||(se(e.$$.fragment,y),se(a.$$.fragment,y),se(w),d=!0)},o(y){ae(e.$$.fragment,y),ae(a.$$.fragment,y),ae(w),d=!1},d(y){y&&(u(l),u(o),u(i)),pe(e,y),pe(a,y),w&&w.d()}}}function Nu(s,e,t){let l,a,r,o,i;Be(s,cs,I=>t(15,l=I)),Be(s,Bl,I=>t(3,a=I)),Be(s,vs,I=>t(4,r=I)),Be(s,rs,I=>t(5,o=I));let{$$slots:f={},$$scope:d}=e;const{saveAs:g}=ys,p=pt("i18n");Be(s,p,I=>t(6,i=I));let m=!1,b=null,w=[];const y=async()=>Hr(localStorage.token);Jt(async()=>{if(a===void 0)await kl("/auth");else if(["user","admin"].includes(a.role)){try{if(t(1,b=await _o("Chats",1)),b){const k=await b.getAllFromIndex("chats","timestamp");t(2,w=k.map((C,L)=>k[k.length-1-L])),w.length===0&&await Va("Chats")}console.log(b)}catch{}const I=await hn(localStorage.token).catch(k=>(console.error(k),null));I?await dl.set(I.ui):await dl.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Promise.all([(async()=>{Es.set(await y())})(),(async()=>{In.set(await vn(localStorage.token))})(),(async()=>{Dn.set(await _n(localStorage.token))})(),(async()=>{Zr.set(await bn(localStorage.token))})(),(async()=>{Wr.set(await Xn(localStorage.token))})(),(async()=>{Vn.set(await wn(localStorage.token))})(),(async()=>{bs.set(await jr(localStorage.token))})()]),document.addEventListener("keydown",function(k){var Z,Y,N,F,j;const C=k.ctrlKey||k.metaKey,L=k.shiftKey;if(C&&L&&k.key.toLowerCase()==="o"&&(k.preventDefault(),console.log("newChat"),(Z=document.getElementById("sidebar-new-chat-button"))==null||Z.click()),L&&k.key==="Escape"&&(k.preventDefault(),console.log("focusInput"),(Y=document.getElementById("chat-textarea"))==null||Y.focus()),C&&L&&k.key===";"){k.preventDefault(),console.log("copyLastCodeBlock");const B=[...document.getElementsByClassName("copy-code-button")].at(-1);B==null||B.click()}if(C&&L&&k.key.toLowerCase()==="c"){k.preventDefault(),console.log("copyLastResponse");const B=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(B),B==null||B.click()}C&&L&&k.key.toLowerCase()==="s"&&(k.preventDefault(),console.log("toggleSidebar"),(N=document.getElementById("sidebar-toggle-button"))==null||N.click()),C&&L&&k.key==="Backspace"&&(k.preventDefault(),console.log("deleteChat"),(F=document.getElementById("delete-chat-button"))==null||F.click()),C&&k.key==="."&&(k.preventDefault(),console.log("openSettings"),vs.set(!r)),C&&k.key==="/"&&(k.preventDefault(),console.log("showShortcuts"),(j=document.getElementById("show-shortcuts-button"))==null||j.click())}),a.role==="admin"&&rs.set(localStorage.version!==l.version),await Hl()}t(0,m=!0)});function E(I){r=I,vs.set(r)}function D(I){o=I,rs.set(o)}const T=async()=>{let I=new Blob([JSON.stringify(w)],{type:"application/json"});g(I,`chat-export-${Date.now()}.json`);const k=b.transaction("chats","readwrite");await Promise.all([k.store.clear(),k.done]),await Va("Chats"),t(2,w=[])},V=async()=>{t(2,w=[])};return s.$$set=I=>{"$$scope"in I&&t(9,d=I.$$scope)},[m,b,w,a,r,o,i,g,p,d,f,E,D,T,V]}class mf extends nt{constructor(e){super(),ot(this,e,Nu,xu,rt,{})}}export{mf as component};
//# sourceMappingURL=2.5437d1a8.js.map
